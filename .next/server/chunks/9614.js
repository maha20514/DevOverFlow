"use strict";exports.id=9614,exports.ids=[9614],exports.modules={95639:(e,t,r)=>{r.d(t,{Z:()=>s});var o=r(11185);let n=new o.Schema({author:{type:o.Schema.Types.ObjectId,ref:"User",required:!0},question:{type:o.Schema.Types.ObjectId,ref:"Question",required:!0},content:{type:String,required:!0},upvotes:[{type:o.Schema.Types.ObjectId,ref:"User"}],downvotes:[{type:o.Schema.Types.ObjectId,ref:"User"}],createdAt:{type:Date,default:Date.now}}),a=o.models.Answer||(0,o.model)("Answer",n),s=a},7427:(e,t,r)=>{r.d(t,{Z:()=>s});var o=r(11185);let n=new o.Schema({title:{type:String,required:!0},content:{type:String,required:!0},tags:[{type:o.Schema.Types.ObjectId,ref:"Tag"}],views:{type:Number,default:0},upvotes:[{type:o.Schema.Types.ObjectId,ref:"User"}],downvotes:[{type:o.Schema.Types.ObjectId,ref:"User"}],author:{type:o.Schema.Types.ObjectId,ref:"User"},answers:[{type:o.Schema.Types.ObjectId,ref:"Answer"}],createdAt:{type:Date,default:Date.now}}),a=o.models.Question||(0,o.model)("Question",n),s=a},48275:(e,t,r)=>{r.d(t,{Z:()=>s});var o=r(11185);let n=new o.Schema({name:{type:String,required:!0,unique:!0},description:{type:String,required:!0},questions:[{type:o.Schema.Types.ObjectId,ref:"Question"}],followers:[{type:o.Schema.Types.ObjectId,ref:"User"}],createdOn:{type:Date,default:Date.now}}),a=o.models.Tag||(0,o.model)("Tag",n),s=a},18886:(e,t,r)=>{r.d(t,{Z:()=>s});var o=r(11185);let n=new o.Schema({clerkId:{type:String,required:!0},name:{type:String,required:!0},username:{type:String,required:!0,unique:!0},email:{type:String,required:!0,unique:!0},password:{type:String},bio:{type:String},picture:{type:String,required:!0},location:{type:String},portfolioWebsite:{type:String},reputation:{type:Number,default:0},saved:[{type:o.Schema.Types.ObjectId,ref:"Question"}],joinedAt:{type:Date,default:Date.now}}),a=o.models.User||(0,o.model)("User",n),s=a},78291:(e,t,r)=>{r.d(t,{v:()=>connectToDatabase});var o=r(11185),n=r.n(o);let a=!1,connectToDatabase=async()=>{if(n().set("strictQuery",!0),!process.env.MONGODB_URL)return console.log("MISSING MONGODB_URL");if(!a)try{await n().connect(process.env.MONGODB_URL,{dbName:"devflow"}),a=!0,console.log("MongoDB is connected")}catch(e){console.log("MongoDB connection failed",e)}}},35082:(e,t,r)=>{r.d(t,{gI:()=>assignBadges,cn:()=>cn,yv:()=>formatAndDivideNumber,q7:()=>getJoinedDate,u3:()=>getTimestamp});var o=r(89814),n=r(10397);r(94970);let a={QUESTION_COUNT:{BRONZE:10,SILVER:50,GOLD:100},ANSWER_COUNT:{BRONZE:10,SILVER:50,GOLD:100},QUESTION_UPVOTES:{BRONZE:10,SILVER:50,GOLD:100},ANSWER_UPVOTES:{BRONZE:10,SILVER:50,GOLD:100},TOTAL_VIEWS:{BRONZE:1e3,SILVER:1e4,GOLD:1e5}};function cn(...e){return(0,n.m)((0,o.W)(e))}let getTimestamp=e=>{let t=new Date,r=t.getTime()-e.getTime(),o=6048e5,n=2592e6,a=31536e6;if(r<6e4){let e=Math.floor(r/1e3);return`${e} ${1===e?"second":"seconds"} ago`}if(r<36e5){let e=Math.floor(r/6e4);return`${e} ${1===e?"minute":"minutes"} ago`}if(r<864e5){let e=Math.floor(r/36e5);return`${e} ${1===e?"hour":"hours"} ago`}if(r<o){let e=Math.floor(r/864e5);return`${e} ${1===e?"day":"days"} ago`}if(r<n){let e=Math.floor(r/o);return`${e} ${1===e?"week":"weeks"} ago`}if(r<a){let e=Math.floor(r/n);return`${e} ${1===e?"month":"months"} ago`}{let e=Math.floor(r/a);return`${e} ${1===e?"year":"years"} ago`}},formatAndDivideNumber=e=>{if(e>=1e6){let t=(e/1e6).toFixed(1);return`${t}M`}if(!(e>=1e3))return e.toString();{let t=(e/1e3).toFixed(1);return`${t}K`}},getJoinedDate=e=>{let t=e.toLocaleString("default",{month:"long"}),r=e.getFullYear(),o=`${t} ${r}`;return o},assignBadges=e=>{let t={GOLD:0,SILVER:0,BRONZE:0},{criteria:r}=e;return r.forEach(e=>{let{type:r,count:o}=e,n=a[r];Object.keys(n).forEach(e=>{o>=n[e]&&(t[e]+=1)})}),t}}};
exports.id=2222,exports.ids=[2222],exports.modules={75385:(e,t,a)=>{let s={"06c5328d42eaccb06434c42be1df2676122c9355":()=>Promise.resolve().then(a.bind(a,92503)).then(e=>e.globalSearch),a26cfab82e657f85461741e2621aa36d570f3e69:()=>Promise.resolve().then(a.bind(a,13135)).then(e=>e.createAnswer),bd7a68644f0547dc34cbb8c8f4fc24ad0d5abb98:()=>Promise.resolve().then(a.bind(a,13135)).then(e=>e.getAnswers),e8c78d4011846d98f1a75e21ef9379b111744f8c:()=>Promise.resolve().then(a.bind(a,13135)).then(e=>e.upvoteAnswer),b11e4b41f2a7679048617314185a1a228f2628b3:()=>Promise.resolve().then(a.bind(a,13135)).then(e=>e.downvoteAnswer),e65f0e73bb29bb59a1b3125c774525b8568a53ba:()=>Promise.resolve().then(a.bind(a,13135)).then(e=>e.deleteAnswer)};async function endpoint(e,...t){let a=await s[e]();return a.apply(null,t)}e.exports={"06c5328d42eaccb06434c42be1df2676122c9355":endpoint.bind(null,"06c5328d42eaccb06434c42be1df2676122c9355"),a26cfab82e657f85461741e2621aa36d570f3e69:endpoint.bind(null,"a26cfab82e657f85461741e2621aa36d570f3e69"),bd7a68644f0547dc34cbb8c8f4fc24ad0d5abb98:endpoint.bind(null,"bd7a68644f0547dc34cbb8c8f4fc24ad0d5abb98"),e8c78d4011846d98f1a75e21ef9379b111744f8c:endpoint.bind(null,"e8c78d4011846d98f1a75e21ef9379b111744f8c"),b11e4b41f2a7679048617314185a1a228f2628b3:endpoint.bind(null,"b11e4b41f2a7679048617314185a1a228f2628b3"),e65f0e73bb29bb59a1b3125c774525b8568a53ba:endpoint.bind(null,"e65f0e73bb29bb59a1b3125c774525b8568a53ba")}},9490:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(60080),n=a(76782),r=a(78131),d=a(52451),l=a.n(d),i=a(57114);let __WEBPACK_DEFAULT_EXPORT__=({type:e,itemId:t})=>{let a=(0,i.usePathname)(),d=(0,i.useRouter)(),handleDelete=async()=>{"Question"===e?await (0,r.Km)({questionId:JSON.parse(t),path:a}):"Answer"===e&&await (0,n.G)({answerId:JSON.parse(t),path:a})};return(0,s.jsxs)("div",{className:"flex items-center justify-end gap-3 max-sm:w-full",children:["Question"===e&&s.jsx(l(),{src:"/assets/icons/edit.svg",alt:"Edit",width:14,height:14,className:"cursor-pointer object-contain",onClick:()=>{d.push(`/question/edit/${JSON.parse(t)}`)}}),s.jsx(l(),{src:"/assets/icons/trash.svg",alt:"Delete",width:14,height:14,className:"cursor-pointer object-contain",onClick:handleDelete})]})}},79173:(e,t,a)=>{"use strict";a.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(48144),n=a(44602),r=a.n(n);a(53830);var d=a(70753),l=a(30282),i=a(35082),o=a(38798),c=a(77238);let __WEBPACK_DEFAULT_EXPORT__=({clerkId:e,_id:t,title:a,tags:n,author:u,upvotes:f,views:b,answers:w,createdAt:p})=>{let h=e&&e===u.clerkId;return(0,s.jsxs)("div",{className:"card-wrapper rounded-[10px] p-9 sm:px-11",children:[(0,s.jsxs)("div",{className:"flex flex-col-reverse items-start justify-between gap-5 sm:flex-row",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"subtle-regular text-dark400_light700 line-clamp-1 flex sm:hidden",children:(0,i.u3)(p)}),s.jsx(r(),{href:`/question/${t}`,children:s.jsx("h3",{className:"sm:h3-semibold base-semibold text-dark200_light900 line-clamp-1 flex-1",children:a})})]}),s.jsx(o.CH,{children:h&&s.jsx(c.ZP,{type:"Question",itemId:JSON.stringify(t)})})]}),s.jsx("div",{className:"mt-3.5 flex flex-wrap gap-2",children:n.map(e=>s.jsx(d.Z,{_id:e._id,name:e.name},e._id))}),(0,s.jsxs)("div",{className:"flex-between mt-6 w-full flex-wrap gap-3",children:[s.jsx(l.Z,{imgUrl:u.picture,alt:"user",value:u.name,title:` - asked ${(0,i.u3)(p)}`,href:`/profile/${u._id}`,isAuthor:!0,textStyles:"body-medium text-dark400_light700"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 max-sm:flex-wrap max-sm:justify-start",children:[s.jsx(l.Z,{imgUrl:"/assets/icons/like.svg",alt:"Upvotes",value:(0,i.yv)(f.length),title:" Votes",textStyles:"small-medium text-dark400_light800"}),s.jsx(l.Z,{imgUrl:"/assets/icons/message.svg",alt:"message",value:(0,i.yv)(w.length),title:" Answers",textStyles:"small-medium text-dark400_light800"}),s.jsx(l.Z,{imgUrl:"/assets/icons/eye.svg",alt:"eye",value:(0,i.yv)(b),title:" Views",textStyles:"small-medium text-dark400_light800"})]})]})]})}},77238:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>i});var s=a(17536);let n=(0,s.createProxy)(String.raw`C:\Users\af_K_ar\stack_overflow_nextjs14\components\shared\EditDeleteAction.tsx`),{__esModule:r,$$typeof:d}=n,l=n.default,i=l},13135:(e,t,a)=>{"use strict";a.r(t),a.d(t,{createAnswer:()=>createAnswer,deleteAnswer:()=>deleteAnswer,downvoteAnswer:()=>downvoteAnswer,getAnswers:()=>getAnswers,upvoteAnswer:()=>upvoteAnswer});var s=a(57016),n=a(16969),r=a(27977),d=a(10896),l=a(20738),i=a(92825),o=a(4385);async function createAnswer(e){try{(0,r.connectToDatabase)();let{content:t,author:a,question:s,path:c}=e,u=await n.default.create({content:t,author:a,question:s}),f=await d.default.findByIdAndUpdate(s,{$push:{answers:u._id}});await i.default.create({user:a,action:"answer",question:s,answer:u._id,tags:f.tags}),await o.default.findByIdAndUpdate(a,{$inc:{reputation:10}}),(0,l.revalidatePath)(c)}catch(e){throw console.log(e),e}}async function getAnswers(e){try{(0,r.connectToDatabase)();let{questionId:t,sortBy:a,page:s=1,pageSize:d=10}=e,l=(s-1)*d,i={};switch(a){case"highestUpvotes":i={upvotes:-1};break;case"lowestUpvotes":i={upvotes:1};break;case"recent":i={createdAt:-1};break;case"old":i={createdAt:1}}let o=await n.default.find({question:t}).populate("author","_id clerkId name picture").sort(i).skip(l).limit(d),c=await n.default.countDocuments({question:t}),u=c>l+o.length;return{answers:o,isNextAnswer:u}}catch(e){throw console.log(e),e}}async function upvoteAnswer(e){try{(0,r.connectToDatabase)();let{answerId:t,userId:a,hasupVoted:s,hasdownVoted:d,path:i}=e,c={};c=s?{$pull:{upvotes:a}}:d?{$pull:{downvotes:a},$push:{upvotes:a}}:{$addToSet:{upvotes:a}};let u=await n.default.findByIdAndUpdate(t,c,{new:!0});if(!u)throw Error("Answer not found");await o.default.findByIdAndUpdate(a,{$inc:{reputation:s?-2:2}}),await o.default.findByIdAndUpdate(u.author,{$inc:{reputation:s?-10:10}}),(0,l.revalidatePath)(i)}catch(e){throw console.log(e),e}}async function downvoteAnswer(e){try{(0,r.connectToDatabase)();let{answerId:t,userId:a,hasupVoted:s,hasdownVoted:d,path:i}=e,c={};c=d?{$pull:{downvote:a}}:s?{$pull:{upvotes:a},$push:{downvotes:a}}:{$addToSet:{downvotes:a}};let u=await n.default.findByIdAndUpdate(t,c,{new:!0});if(!u)throw Error("Answer not found");await o.default.findByIdAndUpdate(a,{$inc:{reputation:d?-2:2}}),await o.default.findByIdAndUpdate(u.author,{$inc:{reputation:d?-10:10}}),(0,l.revalidatePath)(i)}catch(e){throw console.log(e),e}}async function deleteAnswer(e){try{(0,r.connectToDatabase)();let{answerId:t,path:a}=e,s=await n.default.findById(t);if(!s)throw Error("Answer not found");await s.deleteOne({_id:t}),await d.default.updateMany({_id:s.question},{$pull:{answers:t}}),await i.default.deleteMany({answer:t}),(0,l.revalidatePath)(a)}catch(e){console.log(e)}}(0,a(96276).ensureServerEntryExports)([createAnswer,getAnswers,upvoteAnswer,downvoteAnswer,deleteAnswer]),(0,s.createActionProxy)("a26cfab82e657f85461741e2621aa36d570f3e69",null,createAnswer),(0,s.createActionProxy)("bd7a68644f0547dc34cbb8c8f4fc24ad0d5abb98",null,getAnswers),(0,s.createActionProxy)("e8c78d4011846d98f1a75e21ef9379b111744f8c",null,upvoteAnswer),(0,s.createActionProxy)("b11e4b41f2a7679048617314185a1a228f2628b3",null,downvoteAnswer),(0,s.createActionProxy)("e65f0e73bb29bb59a1b3125c774525b8568a53ba",null,deleteAnswer)}};
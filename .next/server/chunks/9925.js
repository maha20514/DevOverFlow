exports.id=9925,exports.ids=[9925],exports.modules={9445:(t,n,a)=>{"use strict";a.d(n,{vn:()=>et,a7:()=>ClerkLoaded,qI:()=>ClerkLoading,El:()=>z,Gp:()=>$,X1:()=>eu,KM:()=>MultisessionAppSupport,Bg:()=>G,A:()=>V,Li:()=>J,gM:()=>ee,yB:()=>Z,N1:()=>Y,C2:()=>Q,sO:()=>X,cL:()=>F,$d:()=>er,qu:()=>ei,AM:()=>ea,Mo:()=>W,gX:()=>en,CH:()=>SignedIn,tj:()=>SignedOut,l8:()=>q,Iw:()=>H,_E:()=>WithClerk,CJ:()=>WithSession,Gi:()=>WithUser,kO:()=>__internal__setErrorThrowerOptions,kD:()=>isClerkAPIResponseError,sZ:()=>isKnownError,V9:()=>isMagicLinkError,ZC:()=>isMetamaskError,aC:()=>useAuth,ll:()=>useClerk,jS:()=>useMagicLink,o8:()=>useOrganization,eW:()=>useOrganizationList,qi:()=>useOrganizations,kP:()=>useSession,xo:()=>useSessionList,zq:()=>useSignIn,QS:()=>useSignUp,aF:()=>useUser,r0:()=>withClerk,NA:()=>withSession,ns:()=>withUser}),a(86095);let isomorphicAtob=t=>"undefined"!=typeof atob&&"function"==typeof atob?atob(t):"undefined"!=typeof global&&global.Buffer?new global.Buffer(t,"base64").toString():t,i="pk_live_";function parsePublishableKey(t){if(!isPublishableKey(t=t||""))return null;let n=t.startsWith(i)?"production":"development",a=isomorphicAtob(t.split("_")[2]);return a.endsWith("$")?{instanceType:n,frontendApi:a=a.slice(0,-1)}:null}function isPublishableKey(t){t=t||"";let n=t.startsWith(i)||t.startsWith("pk_test_"),a=isomorphicAtob(t.split("_")[2]||"").endsWith("$");return n&&a}var o,s,l,u,c=a(9885),d=a.n(c);let h="Clerk: Child of WithClerk must be a function.",multipleChildrenInButtonComponent=t=>`Clerk: You've passed multiple children components to <${t}/>. You can only pass a single child component or text.`,p="Unsupported usage of domain or proxyUrl. The usage of domain or proxyUrl as function is not supported in non-browser environments.",y=Object.freeze({InvalidFrontendApiErrorMessage:"The frontendApi passed to Clerk is invalid. You can get your Frontend API key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys."}),m=function({packageName:t,customMessages:n}){let a=t,i={...y,...n};function buildMessage(t,n){if(!n)return`${a}: ${t}`;let i=t,o=t.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(let t of o){let a=(n[t[1]]||"").toString();i=i.replace(`{{${t[1]}}}`,a)}return`${a}: ${i}`}return{setPackageName({packageName:t}){return"string"==typeof t&&(a=t),this},setMessages({customMessages:t}){return Object.assign(i,t||{}),this},throwInvalidPublishableKeyError(t){throw Error(buildMessage(i.InvalidPublishableKeyErrorMessage,t))},throwInvalidFrontendApiError(t){throw Error(buildMessage(i.InvalidFrontendApiErrorMessage,t))},throwInvalidProxyUrl(t){throw Error(buildMessage(i.InvalidProxyUrlErrorMessage,t))},throwMissingPublishableKeyError(){throw Error(buildMessage(i.MissingPublishableKeyErrorMessage))}}}({packageName:"@clerk/react"});function __internal__setErrorThrowerOptions(t){m.setMessages(t).setPackageName(t)}let g=new Map;var __accessCheck=(t,n,a)=>{if(!n.has(t))throw TypeError("Cannot "+a)},__privateGet=(t,n,a)=>(__accessCheck(t,n,"read from private field"),a?a.call(t):n.get(t)),__privateAdd=(t,n,a)=>{if(n.has(t))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(t):n.set(t,a)},__privateSet=(t,n,a,i)=>(__accessCheck(t,n,"write to private field"),i?i.call(t,a):n.set(t,a),a),b=a(39330);let inClientSide=()=>"undefined"!=typeof window;var v=a(33422);async function loadScript(t="",n){let{async:a,defer:i,beforeLoad:o,crossOrigin:s}=n||{};return new Promise((n,l)=>{t||l("loadScript cannot be called without a src"),document&&document.body||l("loadScript cannot be called when document does not exist");let u=document.createElement("script");s&&u.setAttribute("crossorigin",s),u.async=a||!1,u.defer=i||!1,u.addEventListener("load",()=>{u.remove(),n(u)}),u.addEventListener("error",()=>{u.remove(),l()}),u.src=t,o?.(u),document.body.appendChild(u)})}var S=a(22990);let{isDevOrStagingUrl:C}=function(){let t=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],n=new Map;return{isDevOrStagingUrl:a=>{if(!a)return!1;let i="string"==typeof a?a:a.hostname,o=n.get(i);return void 0===o&&(o=t.some(t=>i.endsWith(t)),n.set(i,o)),o}}}(),versionSelector=t=>{if(t)return t;let n=getPrereleaseTag("4.26.2");return n?"snapshot"===n?"4.60.0":n:getMajorVersion("4.26.2")},getPrereleaseTag=t=>t.match(/-(.*)\./)?.[1],getMajorVersion=t=>t.split(".")[0],loadClerkJsScript=async t=>{let{frontendApi:n,publishableKey:a}=t;return a||n||m.throwMissingPublishableKeyError(),loadScript(clerkJsScriptUrl(t),{async:!0,crossOrigin:"anonymous",beforeLoad:applyClerkJsScriptAttributes(t)}).catch(()=>{throw Error("Clerk: Failed to load Clerk")})},clerkJsScriptUrl=t=>{let{clerkJSUrl:n,clerkJSVariant:a,clerkJSVersion:i,proxyUrl:o,domain:s,publishableKey:l,frontendApi:u}=t;if(n)return n;let c="";c=o&&(0,S.jL)(o)?(0,S.kI)(o).replace(/http(s)?:\/\//,""):s&&!C(parsePublishableKey(l)?.frontendApi||u||"")?function(t){let n;if(!t)return"";if(t.match(/^(clerk\.)+\w*$/))n=/(clerk\.)*(?=clerk\.)/;else{if(t.match(/\.clerk.accounts/))return t;n=/^(clerk\.)*/gi}let a=t.replace(n,"");return`clerk.${a}`}(s):parsePublishableKey(l)?.frontendApi||u||"";let d=a?`${a.replace(/\.+$/,"")}.`:"",h=versionSelector(i);return`https://${c}/npm/@clerk/clerk-js@${h}/dist/clerk.${d}browser.js`},applyClerkJsScriptAttributes=t=>n=>{let{publishableKey:a,frontendApi:i,proxyUrl:o,domain:s}=t;a?n.setAttribute("data-clerk-publishable-key",a):i&&n.setAttribute("data-clerk-frontend-api",i),o&&n.setAttribute("data-clerk-proxy-url",o),s&&n.setAttribute("data-clerk-domain",s)},_=class{constructor(t){this.clerkjs=null,this.preopenSignIn=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.loadedListeners=[],__privateAdd(this,o,!1),__privateAdd(this,s,void 0),__privateAdd(this,l,void 0),this.addOnLoaded=t=>{this.loadedListeners.push(t)},this.emitLoaded=()=>{this.loadedListeners.forEach(t=>t()),this.loadedListeners=[]},this.hydrateClerkJS=t=>{if(!t)throw Error("Failed to hydrate latest Clerk JS");return this.clerkjs=t,this.premountMethodCalls.forEach(t=>t()),null!==this.preopenSignIn&&t.openSignIn(this.preopenSignIn),null!==this.preopenSignUp&&t.openSignUp(this.preopenSignUp),null!==this.preopenUserProfile&&t.openUserProfile(this.preopenUserProfile),null!==this.preopenOrganizationProfile&&t.openOrganizationProfile(this.preopenOrganizationProfile),null!==this.preopenCreateOrganization&&t.openCreateOrganization(this.preopenCreateOrganization),this.premountSignInNodes.forEach((n,a)=>{t.mountSignIn(a,n)}),this.premountSignUpNodes.forEach((n,a)=>{t.mountSignUp(a,n)}),this.premountUserProfileNodes.forEach((n,a)=>{t.mountUserProfile(a,n)}),this.premountUserButtonNodes.forEach((n,a)=>{t.mountUserButton(a,n)}),this.premountOrganizationListNodes.forEach((n,a)=>{t.mountOrganizationList(a,n)}),__privateSet(this,o,!0),this.emitLoaded(),this.clerkjs},this.__unstable__updateProps=t=>{this.clerkjs&&"__unstable__updateProps"in this.clerkjs&&this.clerkjs.__unstable__updateProps(t)},this.setActive=({session:t,organization:n,beforeEmit:a})=>this.clerkjs?this.clerkjs.setActive({session:t,organization:n,beforeEmit:a}):Promise.reject(),this.setSession=(t,n)=>((0,b.x9)("setSession","Use `Clerk.setActive` instead"),this.setActive({session:t,beforeEmit:n})),this.openSignIn=t=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.openSignIn(t):this.preopenSignIn=t},this.closeSignIn=()=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.openUserProfile=t=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.openUserProfile(t):this.preopenUserProfile=t},this.closeUserProfile=()=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=t=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.openOrganizationProfile(t):this.preopenOrganizationProfile=t},this.closeOrganizationProfile=()=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=t=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.openCreateOrganization(t):this.preopenCreateOrganization=t},this.closeCreateOrganization=()=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openSignUp=t=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.openSignUp(t):this.preopenSignUp=t},this.closeSignUp=()=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(t,n)=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.mountSignIn(t,n):this.premountSignInNodes.set(t,n)},this.unmountSignIn=t=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.unmountSignIn(t):this.premountSignInNodes.delete(t)},this.mountSignUp=(t,n)=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.mountSignUp(t,n):this.premountSignUpNodes.set(t,n)},this.unmountSignUp=t=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.unmountSignUp(t):this.premountSignUpNodes.delete(t)},this.mountUserProfile=(t,n)=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.mountUserProfile(t,n):this.premountUserProfileNodes.set(t,n)},this.unmountUserProfile=t=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.unmountUserProfile(t):this.premountUserProfileNodes.delete(t)},this.mountOrganizationProfile=(t,n)=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.mountOrganizationProfile(t,n):this.premountOrganizationProfileNodes.set(t,n)},this.unmountOrganizationProfile=t=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.unmountOrganizationProfile(t):this.premountOrganizationProfileNodes.delete(t)},this.mountCreateOrganization=(t,n)=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.mountCreateOrganization(t,n):this.premountCreateOrganizationNodes.set(t,n)},this.unmountCreateOrganization=t=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.unmountCreateOrganization(t):this.premountCreateOrganizationNodes.delete(t)},this.mountOrganizationSwitcher=(t,n)=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.mountOrganizationSwitcher(t,n):this.premountOrganizationSwitcherNodes.set(t,n)},this.unmountOrganizationSwitcher=t=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.unmountOrganizationSwitcher(t):this.premountOrganizationSwitcherNodes.delete(t)},this.mountOrganizationList=(t,n)=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.mountOrganizationList(t,n):this.premountOrganizationListNodes.set(t,n)},this.unmountOrganizationList=t=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.unmountOrganizationList(t):this.premountOrganizationListNodes.delete(t)},this.mountUserButton=(t,n)=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.mountUserButton(t,n):this.premountUserButtonNodes.set(t,n)},this.unmountUserButton=t=>{this.clerkjs&&__privateGet(this,o)?this.clerkjs.unmountUserButton(t):this.premountUserButtonNodes.delete(t)},this.addListener=t=>{let callback=()=>this.clerkjs?.addListener(t);return this.clerkjs?callback():(this.premountMethodCalls.set("addListener",callback),()=>this.premountMethodCalls.delete("addListener"))},this.navigate=t=>{let callback=()=>this.clerkjs?.navigate(t);this.clerkjs&&__privateGet(this,o)?callback():this.premountMethodCalls.set("navigate",callback)},this.redirectWithAuth=(...t)=>{let callback=()=>this.clerkjs?.redirectWithAuth(...t);this.clerkjs&&__privateGet(this,o)?callback():this.premountMethodCalls.set("redirectWithAuth",callback)},this.redirectToSignIn=t=>{let callback=()=>this.clerkjs?.redirectToSignIn(t);this.clerkjs&&__privateGet(this,o)?callback():this.premountMethodCalls.set("redirectToSignIn",callback)},this.redirectToSignUp=t=>{let callback=()=>this.clerkjs?.redirectToSignUp(t);this.clerkjs&&__privateGet(this,o)?callback():this.premountMethodCalls.set("redirectToSignUp",callback)},this.redirectToUserProfile=()=>{let callback=()=>this.clerkjs?.redirectToUserProfile();this.clerkjs&&__privateGet(this,o)?callback():this.premountMethodCalls.set("redirectToUserProfile",callback)},this.redirectToHome=()=>{let callback=()=>this.clerkjs?.redirectToHome();this.clerkjs&&__privateGet(this,o)?callback():this.premountMethodCalls.set("redirectToHome",callback)},this.redirectToOrganizationProfile=()=>{let callback=()=>this.clerkjs?.redirectToOrganizationProfile();this.clerkjs&&__privateGet(this,o)?callback():this.premountMethodCalls.set("redirectToOrganizationProfile",callback)},this.redirectToCreateOrganization=()=>{let callback=()=>this.clerkjs?.redirectToCreateOrganization();this.clerkjs&&__privateGet(this,o)?callback():this.premountMethodCalls.set("redirectToCreateOrganization",callback)},this.handleRedirectCallback=t=>{let callback=()=>this.clerkjs?.handleRedirectCallback(t);this.clerkjs&&__privateGet(this,o)?callback()?.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",callback)},this.handleMagicLinkVerification=async t=>{let callback=()=>this.clerkjs?.handleMagicLinkVerification(t);if(this.clerkjs&&__privateGet(this,o))return callback();this.premountMethodCalls.set("handleMagicLinkVerification",callback)},this.authenticateWithMetamask=async t=>{let callback=()=>this.clerkjs?.authenticateWithMetamask(t);if(this.clerkjs&&__privateGet(this,o))return callback();this.premountMethodCalls.set("authenticateWithMetamask",callback)},this.createOrganization=async t=>{let callback=()=>this.clerkjs?.createOrganization(t);if(this.clerkjs&&__privateGet(this,o))return callback();this.premountMethodCalls.set("createOrganization",callback)},this.getOrganizationMemberships=async()=>{let callback=()=>this.clerkjs?.getOrganizationMemberships();if(this.clerkjs&&__privateGet(this,o))return callback();this.premountMethodCalls.set("getOrganizationMemberships",callback)},this.getOrganization=async t=>{let callback=()=>this.clerkjs?.getOrganization(t);if(this.clerkjs&&__privateGet(this,o))return callback();this.premountMethodCalls.set("getOrganization",callback)},this.signOut=async(t,n)=>{let callback=()=>this.clerkjs?.signOut(t,n);if(this.clerkjs&&__privateGet(this,o))return callback();this.premountMethodCalls.set("signOut",callback)};let{Clerk:n=null,frontendApi:a,publishableKey:i}=t||{};this.frontendApi=a,this.publishableKey=i,__privateSet(this,l,t?.proxyUrl),__privateSet(this,s,t?.domain),this.options=t,this.Clerk=n,this.mode=inClientSide()?"browser":"server",this.loadClerkJS()}get loaded(){return __privateGet(this,o)}static getOrCreateInstance(t){return inClientSide()&&__privateGet(this,u)&&(!t.Clerk||__privateGet(this,u).Clerk===t.Clerk)||__privateSet(this,u,new _(t)),__privateGet(this,u)}get domain(){if("undefined"!=typeof window&&window.location)return(0,v.Y)(__privateGet(this,s),new URL(window.location.href),"");if("function"==typeof __privateGet(this,s))throw Error(p);return __privateGet(this,s)||""}get proxyUrl(){if("undefined"!=typeof window&&window.location)return(0,v.Y)(__privateGet(this,l),new URL(window.location.href),"");if("function"==typeof __privateGet(this,l))throw Error(p);return __privateGet(this,l)||""}async loadClerkJS(){if(!("browser"!==this.mode||__privateGet(this,o))){"undefined"!=typeof window&&(window.__clerk_frontend_api=this.frontendApi,window.__clerk_publishable_key=this.publishableKey,window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){var t;let n;(t=this.Clerk,"function"==typeof t)?(n=new this.Clerk(this.publishableKey||this.frontendApi||"",{proxyUrl:this.proxyUrl,domain:this.domain}),await n.load(this.options)):(n=this.Clerk).isReady()||await n.load(this.options),global.Clerk=n}else{if(global.Clerk||await loadClerkJsScript({...this.options,frontendApi:this.frontendApi,publishableKey:this.publishableKey,proxyUrl:this.proxyUrl,domain:this.domain}),!global.Clerk)throw Error("Failed to download latest ClerkJS. Contact support@clerk.com.");await global.Clerk.load(this.options)}if(global.Clerk?.loaded||global.Clerk?.isReady())return this.hydrateClerkJS(global.Clerk);return}catch(t){console.error(t.stack||t.message||t);return}}}get version(){return this.clerkjs?.version}get client(){return this.clerkjs?this.clerkjs.client:void 0}get session(){return this.clerkjs?this.clerkjs.session:void 0}get user(){return this.clerkjs?this.clerkjs.user:void 0}get organization(){return this.clerkjs?this.clerkjs.organization:void 0}get __unstable__environment(){return this.clerkjs?this.clerkjs.__unstable__environment:void 0}__unstable__setEnvironment(...t){this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs&&this.clerkjs.__unstable__setEnvironment(t)}};o=new WeakMap,s=new WeakMap,l=new WeakMap,__privateAdd(_,u=new WeakMap,void 0);let deriveState=(t,n,a)=>!t&&a?deriveFromSsrInitialState(a):deriveFromClientSideState(n),deriveFromSsrInitialState=t=>{let n=t.userId,a=t.user,i=t.sessionId,o=t.session,s=t.organization,l=t.orgId,u=t.orgRole,c=t.orgSlug,d=t.actor;return{userId:n,user:a,sessionId:i,session:o,organization:s,orgId:l,orgRole:u,orgSlug:c,actor:d,lastOrganizationInvitation:null,lastOrganizationMember:null}},deriveFromClientSideState=t=>{let n=t.user?t.user.id:t.user,a=t.user,i=t.session?t.session.id:t.session,o=t.session,s=o?.actor,l=t.organization,u=t.organization?t.organization.id:t.organization,c=l?.slug,d=l?a?.organizationMemberships?.find(t=>t.organization.id===u):l,h=d?d.role:d,p=t.lastOrganizationInvitation,y=t.lastOrganizationMember;return{userId:n,user:a,sessionId:i,session:o,organization:l,orgId:u,orgRole:h,orgSlug:c,actor:s,lastOrganizationInvitation:p,lastOrganizationMember:y}};function assertContextExists(t,n){if(!t)throw"string"==typeof n?Error(n):Error(`${n.displayName} not found`)}let createContextAndHook=(t,n)=>{let{assertCtxFn:a=assertContextExists}=n||{},i=d().createContext(void 0);return i.displayName=t,[i,()=>{let n=d().useContext(i);return a(n,`${t} not found`),n.value},()=>{let t=d().useContext(i);return t?t.value:{}}]},[w,A]=createContextAndHook("AuthContext");var P=a(45465);let[E,k]=createContextAndHook("ClerkInstanceContext"),[R,B]=createContextAndHook("UserContext"),[O,T]=createContextAndHook("ClientContext"),[I,j]=createContextAndHook("SessionContext"),[U,N]=createContextAndHook("OrganizationContext"),OrganizationProvider=({children:t,organization:n,lastOrganizationMember:a,lastOrganizationInvitation:i,swrConfig:o})=>d().createElement(P.J$,{value:o},d().createElement(U.Provider,{value:{value:{organization:n,lastOrganizationMember:a,lastOrganizationInvitation:i}}},t)),[K,L]=[E,k];function ClerkContextProvider(t){let{isomorphicClerkOptions:n,initialState:a,children:i}=t,{isomorphicClerk:o,loaded:s}=useLoadedIsomorphicClerk(n),[l,u]=d().useState({client:o.client,session:o.session,user:o.user,organization:o.organization,lastOrganizationInvitation:null,lastOrganizationMember:null});d().useEffect(()=>o.addListener(t=>u({...t})),[]);let c=deriveState(s,l,a),h=d().useMemo(()=>({value:o}),[s]),p=d().useMemo(()=>({value:l.client}),[l.client]),{sessionId:y,session:m,userId:g,user:b,orgId:v,actor:S,lastOrganizationInvitation:C,lastOrganizationMember:_,organization:A,orgRole:P,orgSlug:E}=c,k=d().useMemo(()=>({value:{sessionId:y,userId:g,actor:S,orgId:v,orgRole:P,orgSlug:E}}),[y,g,S,v,P,E]),B=d().useMemo(()=>({value:b}),[g,b]),T=d().useMemo(()=>({value:m}),[y,m]),j=d().useMemo(()=>({value:{organization:A,lastOrganizationInvitation:C,lastOrganizationMember:_}}),[v,A,C,_]);return d().createElement(K.Provider,{value:h},d().createElement(O.Provider,{value:p},d().createElement(I.Provider,{value:T},d().createElement(OrganizationProvider,{...j.value},d().createElement(w.Provider,{value:k},d().createElement(R.Provider,{value:B},i))))))}let useLoadedIsomorphicClerk=t=>{let[n,a]=d().useState(!1),i=d().useMemo(()=>_.getOrCreateInstance(t),[]);return d().useEffect(()=>{i.__unstable__updateProps({appearance:t.appearance})},[t.appearance]),d().useEffect(()=>{i.__unstable__updateProps({options:t})},[t.localization]),d().useEffect(()=>{i.addOnLoaded(()=>a(!0))},[]),{isomorphicClerk:i,loaded:n}},D=Object.freeze({noGuarantees:Object.freeze({guaranteedLoaded:!1}),guaranteedLoaded:Object.freeze({guaranteedLoaded:!0})}),M=d().createContext(void 0);M.displayName="StructureContext";let useStructureContext=()=>{let t=d().useContext(M);return function(t){if(!t)throw Error("Clerk: You must wrap your application in a <ClerkProvider> component.")}(t),t},LoadedGuarantee=({children:t})=>{let n=useStructureContext();return n.guaranteedLoaded?d().createElement(d().Fragment,null,t):d().createElement(M.Provider,{value:D.guaranteedLoaded},t)};__internal__setErrorThrowerOptions({packageName:"@clerk/clerk-react"});let z=function(t,n,a){let i=t.displayName||t.name||n||"Component",Hoc=i=>((function(t,n,a=1){d().useEffect(()=>{let i=g.get(t)||0;if(i==a)throw Error(n);return g.set(t,i+1),()=>{g.set(t,(g.get(t)||1)-1)}},[])})(n,a),d().createElement(t,{...i}));return Hoc.displayName=`withMaxAllowedInstancesGuard(${i})`,Hoc}(function(t){let{initialState:n,children:a,...i}=t,{frontendApi:o="",publishableKey:s="",Clerk:l}=i;return!l&&(s||o?s&&!isPublishableKey(s)?m.throwInvalidPublishableKeyError({key:s}):s||!o||(o||"").startsWith("clerk.")||m.throwInvalidFrontendApiError({key:o}):m.throwMissingPublishableKeyError()),d().createElement(M.Provider,{value:D.noGuarantees},d().createElement(ClerkContextProvider,{initialState:n,isomorphicClerkOptions:i},a))},"ClerkProvider","Clerk: You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.");z.displayName="ClerkProvider";let withClerk=(t,n)=>{n=n||t.displayName||t.name||"Component",t.displayName=n;let HOC=n=>{let a=L();return a.loaded?d().createElement(LoadedGuarantee,null,d().createElement(t,{...n,clerk:a})):null};return HOC.displayName=`withClerk(${n})`,HOC},WithClerk=({children:t})=>{let n=L();if("function"!=typeof t)throw Error(h);return n.loaded?d().createElement(LoadedGuarantee,null,t(n)):null};let Portal=class Portal extends d().PureComponent{constructor(){super(...arguments),this.portalRef=d().createRef()}componentDidUpdate(t){t.props.appearance!==this.props.props.appearance&&this.props.updateProps({node:this.portalRef.current,props:this.props.props})}componentDidMount(){this.portalRef.current&&this.props.mount(this.portalRef.current,this.props.props)}componentWillUnmount(){this.portalRef.current&&this.props.unmount(this.portalRef.current)}render(){return d().createElement("div",{ref:this.portalRef})}};let F=withClerk(({clerk:t,...n})=>d().createElement(Portal,{mount:t.mountSignIn,unmount:t.unmountSignIn,updateProps:t.__unstable__updateProps,props:n}),"SignIn"),W=withClerk(({clerk:t,...n})=>d().createElement(Portal,{mount:t.mountSignUp,unmount:t.unmountSignUp,updateProps:t.__unstable__updateProps,props:n}),"SignUp"),H=withClerk(({clerk:t,...n})=>d().createElement(Portal,{mount:t.mountUserProfile,unmount:t.unmountUserProfile,updateProps:t.__unstable__updateProps,props:n}),"UserProfile"),q=withClerk(({clerk:t,...n})=>d().createElement(Portal,{mount:t.mountUserButton,unmount:t.unmountUserButton,updateProps:t.__unstable__updateProps,props:n}),"UserButton"),V=withClerk(({clerk:t,...n})=>d().createElement(Portal,{mount:t.mountOrganizationProfile,unmount:t.unmountOrganizationProfile,updateProps:t.__unstable__updateProps,props:n}),"OrganizationProfile"),$=withClerk(({clerk:t,...n})=>d().createElement(Portal,{mount:t.mountCreateOrganization,unmount:t.unmountCreateOrganization,updateProps:t.__unstable__updateProps,props:n}),"CreateOrganization"),J=withClerk(({clerk:t,...n})=>d().createElement(Portal,{mount:t.mountOrganizationSwitcher,unmount:t.unmountOrganizationSwitcher,updateProps:t.__unstable__updateProps,props:n}),"OrganizationSwitcher"),G=withClerk(({clerk:t,...n})=>d().createElement(Portal,{mount:t.mountOrganizationList,unmount:t.unmountOrganizationList,updateProps:t.__unstable__updateProps,props:n}),"OrganizationList"),SignedIn=({children:t})=>{let{userId:n}=A();return n?d().createElement(d().Fragment,null,t):null},SignedOut=({children:t})=>{let{userId:n}=A();return null===n?d().createElement(d().Fragment,null,t):null},ClerkLoaded=({children:t})=>{let n=L();return n.loaded?d().createElement(LoadedGuarantee,null,t):null},ClerkLoading=({children:t})=>{let n=L();return n.loaded?null:d().createElement(d().Fragment,null,t)},Y=withClerk(({clerk:t,...n})=>{let{client:a,session:i}=t,{__unstable__environment:o}=t,s=a.activeSessions&&a.activeSessions.length>0;return d().useEffect(()=>{if(null===i&&s&&o){let{afterSignOutOneUrl:n}=o.displayConfig;t.navigate(n)}else t.redirectToSignIn(n)},[]),null},"RedirectToSignIn"),Q=withClerk(({clerk:t,...n})=>(d().useEffect(()=>{t.redirectToSignUp(n)},[]),null),"RedirectToSignUp"),X=withClerk(({clerk:t})=>(d().useEffect(()=>{t.redirectToUserProfile()},[]),null),"RedirectToUserProfile"),Z=withClerk(({clerk:t})=>(d().useEffect(()=>{t.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile"),ee=withClerk(({clerk:t})=>(d().useEffect(()=>{t.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization"),et=withClerk(({clerk:t,...n})=>(d().useEffect(()=>{t.handleRedirectCallback(n)},[]),null),"AuthenticateWithRedirectCallback"),MultisessionAppSupport=({children:t})=>{let n=j();return d().createElement(d().Fragment,{key:n?n.id:"no-users"},t)},withUser=(t,n)=>{n=n||t.displayName||t.name||"Component",t.displayName=n;let HOC=n=>{let a=B();return a?d().createElement(t,{...n,user:a}):null};return HOC.displayName=`withUser(${n})`,HOC},WithUser=({children:t})=>{let n=B();if("function"!=typeof t)throw Error(h);return n?d().createElement(d().Fragment,null,t(n)):null},withSession=(t,n)=>{n=n||t.displayName||t.name||"Component",t.displayName=n;let HOC=n=>{let a=j();return a?d().createElement(t,{...n,session:a}):null};return HOC.displayName=`withSession(${n})`,HOC},WithSession=({children:t})=>{let n=j();if("function"!=typeof t)throw Error(h);return n?d().createElement(d().Fragment,null,t(n)):null},assertSingleChild=t=>n=>{try{return d().Children.only(t)}catch(t){throw Error(multipleChildrenInButtonComponent(n))}},normalizeWithDefaultValue=(t,n)=>(t||(t=n),"string"==typeof t&&(t=d().createElement("button",null,t)),t),safeExecute=t=>(...n)=>{if(t&&"function"==typeof t)return t(...n)},er=withClerk(({clerk:t,children:n,...a})=>{let{afterSignInUrl:i,afterSignUpUrl:o,redirectUrl:s,mode:l,...u}=a;n=normalizeWithDefaultValue(n,"Sign in");let c=assertSingleChild(n)("SignInButton"),clickHandler=()=>{let n={afterSignInUrl:i,afterSignUpUrl:o,redirectUrl:s};return"modal"===l?t.openSignIn(n):t.redirectToSignIn(n)},wrappedChildClickHandler=async t=>(await safeExecute(c.props.onClick)(t),clickHandler()),h={...u,onClick:wrappedChildClickHandler};return d().cloneElement(c,h)},"SignInButton"),en=withClerk(({clerk:t,children:n,...a})=>{let{afterSignInUrl:i,afterSignUpUrl:o,redirectUrl:s,mode:l,unsafeMetadata:u,...c}=a;n=normalizeWithDefaultValue(n,"Sign up");let h=assertSingleChild(n)("SignUpButton"),clickHandler=()=>{let n={afterSignInUrl:i,afterSignUpUrl:o,redirectUrl:s,unsafeMetadata:u};return"modal"===l?t.openSignUp(n):t.redirectToSignUp(n)},wrappedChildClickHandler=async t=>(await safeExecute(h.props.onClick)(t),clickHandler()),p={...c,onClick:wrappedChildClickHandler};return d().cloneElement(h,p)},"SignUpButton"),ea=withClerk(({clerk:t,children:n,...a})=>{let{signOutCallback:i,signOutOptions:o,...s}=a;n=normalizeWithDefaultValue(n,"Sign out");let l=assertSingleChild(n)("SignOutButton"),clickHandler=()=>t.signOut(i,o),wrappedChildClickHandler=async t=>(await safeExecute(l.props.onClick)(t),clickHandler()),u={...s,onClick:wrappedChildClickHandler};return d().cloneElement(l,u)},"SignOutButton"),ei=withClerk(({clerk:t,children:n,...a})=>{let{redirectUrl:i,...o}=a;n=normalizeWithDefaultValue(n,"Sign in with Metamask");let s=assertSingleChild(n)("SignInWithMetamaskButton"),clickHandler=async()=>{(async function(){await t.authenticateWithMetamask({redirectUrl:i})})()},wrappedChildClickHandler=async t=>(await safeExecute(s.props.onClick)(t),clickHandler()),l={...o,onClick:wrappedChildClickHandler};return d().cloneElement(s,l)},"SignInWithMetamask");function useUser(){let t=B();return void 0===t?{isLoaded:!1,isSignedIn:void 0,user:void 0}:null===t?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:t}}let clerkLoaded=t=>new Promise(n=>{t.loaded&&n(),t.addOnLoaded(n)}),createGetToken=t=>async n=>(await clerkLoaded(t),t.session)?t.session.getToken(n):null,createSignOut=t=>async(...n)=>(await clerkLoaded(t),t.signOut(...n)),useAuth=()=>{let{sessionId:t,userId:n,actor:a,orgId:i,orgRole:o,orgSlug:s}=A(),l=L(),u=(0,c.useCallback)(createGetToken(l),[l]),d=(0,c.useCallback)(createSignOut(l),[l]);if(void 0===t&&void 0===n)return{isLoaded:!1,isSignedIn:void 0,sessionId:t,userId:n,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,signOut:d,getToken:u};if(null===t&&null===n)return{isLoaded:!0,isSignedIn:!1,sessionId:t,userId:n,actor:null,orgId:null,orgRole:null,orgSlug:null,signOut:d,getToken:u};if(t&&n&&i&&o)return{isLoaded:!0,isSignedIn:!0,sessionId:t,userId:n,actor:a||null,orgId:i,orgRole:o,orgSlug:s||null,signOut:d,getToken:u};if(t&&n&&!i)return{isLoaded:!0,isSignedIn:!0,sessionId:t,userId:n,actor:a||null,orgId:null,orgRole:null,orgSlug:null,signOut:d,getToken:u};throw Error("Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support")},useSession=()=>{let t=j();return void 0===t?{isLoaded:!1,isSignedIn:void 0,session:void 0}:null===t?{isLoaded:!0,isSignedIn:!1,session:null}:{isLoaded:!0,isSignedIn:!0,session:t}},useClerk=()=>{let t=L();return t},useSignIn=()=>{let t=L(),n=T();return n?{isLoaded:!0,signIn:n.signIn,setSession:t.setSession,setActive:t.setActive}:{isLoaded:!1,signIn:void 0,setSession:void 0,setActive:void 0}},useSignUp=()=>{let t=L(),n=T();return n?{isLoaded:!0,signUp:n.signUp,setSession:t.setSession,setActive:t.setActive}:{isLoaded:!1,signUp:void 0,setSession:void 0,setActive:void 0}},useSessionList=()=>{let t=L(),n=T();return n?{isLoaded:!0,sessions:n.sessions,setSession:t.setSession,setActive:t.setActive}:{isLoaded:!1,sessions:void 0,setSession:void 0,setActive:void 0}};var eo=a(90222);let es={data:void 0,count:void 0,isLoading:!1,isFetching:!1,isError:!1,page:void 0,pageCount:void 0,fetchPage:void 0,fetchNext:void 0,fetchPrevious:void 0,hasNextPage:!1,hasPreviousPage:!1},useOrganization=t=>{var n,a;let{invitationList:i,membershipList:o,domains:s,membershipRequests:l,memberships:u,invitations:c}=t||{},{organization:d,lastOrganizationMember:h,lastOrganizationInvitation:p}=N(),y=j(),m=(0,eo.useWithSafeValues)(s,{initialPage:1,pageSize:10,keepPreviousData:!1,infinite:!1,enrollmentMode:void 0}),g=(0,eo.useWithSafeValues)(l,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),v=(0,eo.useWithSafeValues)(u,{initialPage:1,pageSize:10,role:void 0,keepPreviousData:!1,infinite:!1}),S=(0,eo.useWithSafeValues)(c,{initialPage:1,pageSize:10,status:["pending"],keepPreviousData:!1,infinite:!1}),C=k(),_=!!(C.loaded&&y&&d),w=void 0===s?void 0:{initialPage:m.initialPage,pageSize:m.pageSize,enrollmentMode:m.enrollmentMode},A=void 0===l?void 0:{initialPage:g.initialPage,pageSize:g.pageSize,status:g.status},E=void 0===u?void 0:{initialPage:v.initialPage,pageSize:v.pageSize,role:v.role},R=void 0===c?void 0:{initialPage:S.initialPage,pageSize:S.pageSize,status:S.status},B=(0,eo.usePagesOrInfinite)({...w},d?.getDomains,{keepPreviousData:m.keepPreviousData,infinite:m.infinite,enabled:!!w},{type:"domains",organizationId:d?.id}),O=(0,eo.usePagesOrInfinite)({...A},d?.getMembershipRequests,{keepPreviousData:g.keepPreviousData,infinite:g.infinite,enabled:!!A},{type:"membershipRequests",organizationId:d?.id}),T=(0,eo.usePagesOrInfinite)({...E,paginated:!0},d?.getMemberships,{keepPreviousData:v.keepPreviousData,infinite:v.infinite,enabled:!!E},{type:"members",organizationId:d?.id}),I=(0,eo.usePagesOrInfinite)({...R},d?.getInvitations,{keepPreviousData:v.keepPreviousData,infinite:v.infinite,enabled:!!R},{type:"invitations",organizationId:d?.id}),U=C.loaded?()=>C.organization?.getPendingInvitations(i):()=>[],K=C.loaded?()=>C.organization?.getMemberships(o):()=>[];i&&(0,b.x9)("invitationList in useOrganization","Use the `invitations` property and return value instead.");let{data:L,isValidating:D,mutate:M}=(0,P.ZP)(_&&i?cacheKey("invites",d,p,i):null,U);o&&(0,b.x9)("membershipList in useOrganization","Use the `memberships` property and return value instead.");let{data:z,isValidating:F,mutate:W}=(0,P.ZP)(_&&o?cacheKey("memberships",d,h,o):null,K);return void 0===d?{isLoaded:!1,organization:void 0,invitationList:void 0,membershipList:void 0,membership:void 0,domains:es,membershipRequests:es,memberships:es,invitations:es}:null===d?{isLoaded:!0,organization:null,invitationList:null,membershipList:null,membership:null,domains:null,membershipRequests:null,memberships:null,invitations:null}:!C.loaded&&d?{isLoaded:!0,organization:d,invitationList:void 0,membershipList:void 0,membership:void 0,domains:es,membershipRequests:es,memberships:es,invitations:es}:{isLoaded:!F&&!D,organization:d,membershipList:z,membership:(n=y.user.organizationMemberships,a=d.id,n.find(t=>t.organization.id===a)),invitationList:L,unstable__mutate:()=>{W(),M()},domains:B,membershipRequests:O,memberships:T,invitations:I}};function cacheKey(t,n,a,i){return[t,n.id,a?.id,a?.updatedAt,i.offset,i.limit].filter(Boolean).join("-")}let el={data:void 0,count:void 0,isLoading:!1,isFetching:!1,isError:!1,page:void 0,pageCount:void 0,fetchPage:void 0,fetchNext:void 0,fetchPrevious:void 0,hasNextPage:!1,hasPreviousPage:!1,unstable__mutate:void 0},useOrganizationList=t=>{let{userMemberships:n,userInvitations:a,userSuggestions:i}=t||{},o=(0,eo.useWithSafeValues)(n,{initialPage:1,pageSize:10,keepPreviousData:!1,infinite:!1}),s=(0,eo.useWithSafeValues)(a,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),l=(0,eo.useWithSafeValues)(i,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),u=k(),c=B(),d=void 0===n?void 0:{initialPage:o.initialPage,pageSize:o.pageSize},h=void 0===a?void 0:{initialPage:s.initialPage,pageSize:s.pageSize,status:s.status},p=void 0===i?void 0:{initialPage:l.initialPage,pageSize:l.pageSize,status:l.status},y=!!(u.loaded&&c),m=(0,eo.usePagesOrInfinite)({...d,paginated:!0},c?.getOrganizationMemberships,{keepPreviousData:o.keepPreviousData,infinite:o.infinite,enabled:!!d},{type:"userMemberships",userId:c?.id}),g=(0,eo.usePagesOrInfinite)({...h},c?.getOrganizationInvitations,{keepPreviousData:s.keepPreviousData,infinite:s.infinite,enabled:!!h},{type:"userInvitations",userId:c?.id}),v=(0,eo.usePagesOrInfinite)({...p},c?.getOrganizationSuggestions,{keepPreviousData:l.keepPreviousData,infinite:l.infinite,enabled:!!p},{type:"userSuggestions",userId:c?.id});if(!y)return{isLoaded:!1,organizationList:void 0,createOrganization:void 0,setActive:void 0,userMemberships:el,userInvitations:el,userSuggestions:el};let S={isLoaded:y,organizationList:c.organizationMemberships.map(t=>({membership:t,organization:t.organization})),setActive:u.setActive,createOrganization:u.createOrganization,userMemberships:m,userInvitations:g,userSuggestions:v};return(0,b.x6)(S,"organizationList","Use `userMemberships` instead."),S},useOrganizations=()=>{(0,b.x9)("useOrganizations","Use useOrganizationList, useOrganization, or useClerk instead.");let t=k();return t.loaded?{isLoaded:!0,createOrganization:t.createOrganization,getOrganizationMemberships:t.getOrganizationMemberships,getOrganization:t.getOrganization}:{isLoaded:!1,createOrganization:void 0,getOrganizationMemberships:void 0,getOrganization:void 0}};function isKnownError(t){return isClerkAPIResponseError(t)||isMetamaskError(t)||t instanceof ClerkRuntimeError}function isClerkAPIResponseError(t){return t instanceof ClerkAPIResponseError||"clerkError"in t}function isMetamaskError(t){return"code"in t&&[4001,32602,32603].includes(t.code)&&"message"in t}function parseError(t){return{code:t.code,message:t.message,longMessage:t.long_message,meta:{paramName:t?.meta?.param_name,sessionId:t?.meta?.session_id,emailAddresses:t?.meta?.email_addresses,zxcvbn:t?.meta?.zxcvbn}}}let ClerkAPIResponseError=class ClerkAPIResponseError extends Error{constructor(t,{data:n,status:a}){super(t),this.toString=()=>`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(t=>JSON.stringify(t))}`,Object.setPrototypeOf(this,ClerkAPIResponseError.prototype),this.status=a,this.message=t,this.errors=function(t=[]){return t.length>0?t.map(parseError):[]}(n)}};let ClerkRuntimeError=class ClerkRuntimeError extends Error{constructor(t,{code:n}){super(t),this.toString=()=>`[${this.name}]
Message:${this.message}`,Object.setPrototypeOf(this,ClerkRuntimeError.prototype),this.code=n,this.message=t}};let MagicLinkError=class MagicLinkError extends Error{constructor(t){super(t),this.code=t,Object.setPrototypeOf(this,MagicLinkError.prototype)}};function isMagicLinkError(t){return t instanceof MagicLinkError}let eu={Expired:"expired",Failed:"failed"};function useMagicLink(t){let{startMagicLinkFlow:n,cancelMagicLinkFlow:a}=d().useMemo(()=>t.createMagicLinkFlow(),[t]);return d().useEffect(()=>a,[]),{startMagicLinkFlow:n,cancelMagicLinkFlow:a}}},86095:()=>{"undefined"==typeof window||window.global||(window.global="undefined"==typeof global?window:global)},16373:(t,n,a)=>{"use strict";a.r(n),a.d(n,{ClientClerkProvider:()=>ClientClerkProvider});var i=a(9445),o=a(57114),s=a(9885),l=a.n(s),u=a(52850),c=a(54886);let useAwaitableNavigate=()=>{let{push:t}=(0,o.useRouter)(),n=(0,o.usePathname)(),a=(0,o.useSearchParams)(),i=n+a.toString();return(0,s.useEffect)(()=>{window.__clerk_nav_ref=n=>n===window.location.href.replace(window.location.origin,"")?(t(n),Promise.resolve()):new Promise(a=>{window.__clerk_nav_resolves_ref?window.__clerk_nav_resolves_ref.push(a):window.__clerk_nav_resolves_ref=[a],t(n)})},[i]),(0,s.useEffect)(()=>{window.__clerk_nav_resolves_ref&&window.__clerk_nav_resolves_ref.length&&window.__clerk_nav_resolves_ref.forEach(t=>t()),window.__clerk_nav_resolves_ref=[]}),(0,s.useCallback)(t=>window.__clerk_nav_ref(t),[])},ClientClerkProvider=t=>{let{__unstable_invokeMiddlewareOnAuthStateChange:n=!0}=t,a=(0,o.useRouter)(),s=useAwaitableNavigate();(0,c.G)(()=>{window.__unstable__onBeforeSetActive=()=>{n&&(a.refresh(),a.push(window.location.href))},window.__unstable__onAfterSetActive=()=>{a.refresh()}},[]);let d={...t,navigate:s};return l().createElement(u.f,{options:d},l().createElement(i.El,{...d}))}},52850:(t,n,a)=>{"use strict";a.d(n,{f:()=>ClerkNextOptionsProvider,k:()=>useClerkNextOptions});var i=a(9885),o=a.n(i);let s=o().createContext(void 0);s.displayName="ClerkNextOptionsCtx";let useClerkNextOptions=()=>{let t=o().useContext(s);return t.value},ClerkNextOptionsProvider=t=>{let{children:n,options:a}=t;return o().createElement(s.Provider,{value:{value:a}},n)}},52990:(t,n,a)=>{"use strict";a.r(n),a.d(n,{AuthenticateWithRedirectCallback:()=>i.vn,ClerkLoaded:()=>i.a7,ClerkLoading:()=>i.qI,MultisessionAppSupport:()=>i.KM,RedirectToCreateOrganization:()=>i.gM,RedirectToOrganizationProfile:()=>i.yB,RedirectToSignIn:()=>i.N1,RedirectToSignUp:()=>i.C2,RedirectToUserProfile:()=>i.sO,SignedIn:()=>i.CH,SignedOut:()=>i.tj});var i=a(9445)},84102:(t,n,a)=>{"use strict";a.r(n),a.d(n,{MagicLinkErrorCode:()=>i.X1,WithClerk:()=>i._E,WithSession:()=>i.CJ,WithUser:()=>i.Gi,isClerkAPIResponseError:()=>i.kD,isKnownError:()=>i.sZ,isMagicLinkError:()=>i.V9,isMetamaskError:()=>i.ZC,useAuth:()=>i.aC,useClerk:()=>i.ll,useMagicLink:()=>i.jS,useOrganization:()=>i.o8,useOrganizationList:()=>i.eW,useOrganizations:()=>i.qi,useSession:()=>i.kP,useSessionList:()=>i.xo,useSignIn:()=>i.zq,useSignUp:()=>i.QS,useUser:()=>i.aF,withClerk:()=>i.r0,withSession:()=>i.NA,withUser:()=>i.ns});var i=a(9445)},54390:(t,n,a)=>{"use strict";a.r(n),a.d(n,{CreateOrganization:()=>i.Gp,OrganizationList:()=>i.Bg,OrganizationProfile:()=>i.A,OrganizationSwitcher:()=>i.Li,SignIn:()=>SignIn,SignInButton:()=>i.$d,SignInWithMetamaskButton:()=>i.qu,SignOutButton:()=>i.AM,SignUp:()=>SignUp,SignUpButton:()=>i.gX,UserButton:()=>i.l8,UserProfile:()=>i.Iw});var i=a(9445),o=a(9885),s=a.n(o),l=a(52850);let SignIn=t=>{let{signInUrl:n}=(0,l.k)();return n?s().createElement(i.cL,{routing:"path",path:n,...t}):s().createElement(i.cL,{...t})},SignUp=t=>{let{signUpUrl:n}=(0,l.k)();return n?s().createElement(i.Mo,{routing:"path",path:n,...t}):s().createElement(i.Mo,{...t})}},54886:(t,n,a)=>{"use strict";a.d(n,{G:()=>s});var i=a(9885),o=a.n(i);let s="undefined"!=typeof window?o().useLayoutEffect:o().useEffect},31704:(t,n,a)=>{"use strict";a.r(n),a.d(n,{SWRConfig:()=>i.J$,mutate:()=>i.JG,preload:()=>i.MA,unstable_serialize:()=>i.wE,useSWR:()=>i.ZP,useSWRConfig:()=>i.kY,useSWRInfinite:()=>o.ZP});var i=a(45465),o=a(74054)},90222:(t,n,a)=>{"use strict";a.r(n),a.d(n,{usePagesOrInfinite:()=>usePagesOrInfinite,useWithSafeValues:()=>useWithSafeValues});var i=a(9885),o=a(45465),s=a(74054);function getDifferentKeys(t,n){let a=new Set(Object.keys(n)),i={};for(let n of Object.keys(t))a.has(n)||(i[n]=t[n]);return i}let useWithSafeValues=(t,n)=>{let a="boolean"==typeof t&&t,o=(0,i.useRef)(a?n.initialPage:t?.initialPage??n.initialPage),s=(0,i.useRef)(a?n.pageSize:t?.pageSize??n.pageSize),l={};for(let i of Object.keys(n))l[i]=a?n[i]:t?.[i]??n[i];return{...l,initialPage:o.current,pageSize:s.current}},usePagesOrInfinite=(t,n,a,l)=>{let[u,c]=(0,i.useState)(t.initialPage??1),d=(0,i.useRef)(t.initialPage??1),h=(0,i.useRef)(t.pageSize??10),p=a.enabled??!0,y=a.infinite??!1,m=a.keepPreviousData??!1,g={...l,...t,initialPage:u,pageSize:h.current},{data:b,isValidating:v,isLoading:S,error:C,mutate:_}=(0,o.ZP)(!y&&n&&p?g:null,t=>{let a=getDifferentKeys(t,l);return n?.(a)},{keepPreviousData:m}),{data:w,isLoading:A,isValidating:P,error:E,size:k,setSize:R,mutate:B}=(0,s.ZP)(n=>y&&p?{...t,...l,initialPage:d.current+n,pageSize:h.current}:null,t=>{let a=getDifferentKeys(t,l);return n?.(a)}),O=(0,i.useMemo)(()=>y?k:u,[y,k,u]),T=(0,i.useCallback)(t=>{if(y){R(t);return}return c(t)},[R]),I=(0,i.useMemo)(()=>y?w?.map(t=>t?.data).flat()??[]:b?.data??[],[y,b,w]),j=(0,i.useMemo)(()=>y?w?.[w?.length-1]?.total_count||0:b?.total_count??0,[y,b,w]),U=y?A:S,N=y?P:v,K=!!(y?E:C),L=(0,i.useCallback)(()=>{T(t=>Math.max(0,t+1))},[T]),D=(0,i.useCallback)(()=>{T(t=>Math.max(0,t-1))},[T]),M=(d.current-1)*h.current,z=Math.ceil((j-M)/h.current),F=j-M*h.current>O*h.current,W=(O-1)*h.current>M*h.current,H=y?B:_;return{data:I,count:j,isLoading:U,isFetching:N,isError:K,page:O,pageCount:z,fetchPage:T,fetchNext:L,fetchPrevious:D,hasNextPage:F,hasPreviousPage:W,unstable__mutate:H}}},39330:(t,n,a)=>{"use strict";a.d(n,{x9:()=>deprecated,x6:()=>deprecatedObjectProperty});let isTestEnvironment=()=>!1,isProductionEnvironment=()=>{try{return!0}catch(t){}return!1},i=new Set,deprecated=(t,n,a)=>{let o=isTestEnvironment()||isProductionEnvironment(),s=a??t;i.has(s)||o||(i.add(s),console.warn(`DEPRECATION WARNING: "${t}" is deprecated and will be removed in the next major release.
${n}`))},deprecatedProperty=(t,n,a,i=!1)=>{let o=i?t:t.prototype,s=o[n];Object.defineProperty(o,n,{get:()=>(deprecated(n,a,`${t.name}:${n}`),s),set(t){s=t}})},deprecatedObjectProperty=(t,n,a)=>{deprecatedProperty(t,n,a,!0)}},33422:(t,n,a)=>{"use strict";function handleValueOrFn(t,n,a){return"function"==typeof t?t(n):void 0!==t?t:void 0!==a?a:void 0}a.d(n,{Y:()=>handleValueOrFn})},22990:(t,n,a)=>{"use strict";function isValidProxyUrl(t){return!t||isHttpOrHttps(t)||isProxyUrlRelative(t)}function isHttpOrHttps(t){return/^http(s)?:\/\//.test(t||"")}function isProxyUrlRelative(t){return t.startsWith("/")}function proxyUrlToAbsoluteURL(t){return t?isProxyUrlRelative(t)?new URL(t,window.location.origin).toString():t:""}a.d(n,{ZD:()=>isHttpOrHttps,jL:()=>isValidProxyUrl,kI:()=>proxyUrlToAbsoluteURL})},35146:t=>{t.exports={style:{fontFamily:"'__Inter_d04102', '__Inter_Fallback_d04102'",fontStyle:"normal"},className:"__className_d04102",variable:"__variable_d04102"}},48902:t=>{t.exports={style:{fontFamily:"'__Space_Grotesk_b512f8', '__Space_Grotesk_Fallback_b512f8'",fontStyle:"normal"},className:"__className_b512f8",variable:"__variable_b512f8"}},57488:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"addBasePath",{enumerable:!0,get:function(){return addBasePath}});let i=a(13916),o=a(81920);function addBasePath(t,n){return(0,o.normalizePathTrailingSlash)((0,i.addPathPrefix)(t,""))}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},70391:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"callServer",{enumerable:!0,get:function(){return callServer}});let i=a(19918);async function callServer(t,n){let a=(0,i.getServerActionDispatcher)();if(!a)throw Error("Invariant: missing action dispatcher.");return new Promise((i,o)=>{a({actionId:t,actionArgs:n,resolve:i,reject:o})})}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},97663:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AppRouterAnnouncer",{enumerable:!0,get:function(){return AppRouterAnnouncer}});let i=a(9885),o=a(88908),s="next-route-announcer";function AppRouterAnnouncer(t){let{tree:n}=t,[a,l]=(0,i.useState)(null);(0,i.useEffect)(()=>{let t=function(){var t;let n=document.getElementsByName(s)[0];if(null==n?void 0:null==(t=n.shadowRoot)?void 0:t.childNodes[0])return n.shadowRoot.childNodes[0];{let t=document.createElement(s);t.style.cssText="position:absolute";let n=document.createElement("div");n.ariaLive="assertive",n.id="__next-route-announcer__",n.role="alert",n.style.cssText="position:absolute;border:0;height:1px;margin:-1px;padding:0;width:1px;clip:rect(0 0 0 0);overflow:hidden;white-space:nowrap;word-wrap:normal";let a=t.attachShadow({mode:"open"});return a.appendChild(n),document.body.appendChild(t),n}}();return l(t),()=>{let t=document.getElementsByTagName(s)[0];(null==t?void 0:t.isConnected)&&document.body.removeChild(t)}},[]);let[u,c]=(0,i.useState)(""),d=(0,i.useRef)();return(0,i.useEffect)(()=>{let t="";if(document.title)t=document.title;else{let n=document.querySelector("h1");n&&(t=n.innerText||n.textContent||"")}void 0!==d.current&&d.current!==t&&c(t),d.current=t},[n]),a?(0,o.createPortal)(u,a):null}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},32763:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{RSC:function(){return a},ACTION:function(){return i},NEXT_ROUTER_STATE_TREE:function(){return o},NEXT_ROUTER_PREFETCH:function(){return s},NEXT_URL:function(){return l},RSC_CONTENT_TYPE_HEADER:function(){return u},RSC_VARY_HEADER:function(){return c},FLIGHT_PARAMETERS:function(){return d},NEXT_RSC_UNION_QUERY:function(){return h}});let a="RSC",i="Next-Action",o="Next-Router-State-Tree",s="Next-Router-Prefetch",l="Next-Url",u="text/x-component",c=a+", "+o+", "+s+", "+l,d=[[a],[o],[s]],h="_rsc";("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},19918:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{getServerActionDispatcher:function(){return getServerActionDispatcher},urlToUrlWithoutFlightMarker:function(){return urlToUrlWithoutFlightMarker},default:function(){return AppRouter}});let i=a(4009),o=i._(a(9885)),s=a(82428),l=a(74635),u=a(66165),c=a(31558),d=a(11736),h=a(97028),p=a(82057),y=a(16606),m=a(10504),g=a(57488),b=a(97663),v=a(21390),S=a(97295),C=a(98897),_=a(32763),w=a(86671),A=a(49498),P=null,E=null;function getServerActionDispatcher(){return E}let k={refresh:()=>{}};function urlToUrlWithoutFlightMarker(t){let n=new URL(t,location.origin);return n.searchParams.delete(_.NEXT_RSC_UNION_QUERY),n}function isExternalURL(t){return t.origin!==window.location.origin}function HistoryUpdater(t){let{tree:n,pushRef:a,canonicalUrl:i,sync:s}=t;return(0,o.useInsertionEffect)(()=>{let t={__NA:!0,tree:n};a.pendingPush&&(0,c.createHrefFromUrl)(new URL(window.location.href))!==i?(a.pendingPush=!1,window.history.pushState(t,"",i)):window.history.replaceState(t,"",i),s()},[n,a,i,s]),null}let createEmptyCacheNode=()=>({status:s.CacheStates.LAZY_INITIALIZED,data:null,subTreeData:null,parallelRoutes:new Map});function Router(t){let{buildId:n,initialHead:a,initialTree:i,initialCanonicalUrl:p,children:_,assetPrefix:R}=t,B=(0,o.useMemo)(()=>(0,y.createInitialRouterState)({buildId:n,children:_,initialCanonicalUrl:p,initialTree:i,initialParallelRoutes:P,isServer:!0,location:null,initialHead:a}),[n,_,p,i,a]),[{tree:O,cache:T,prefetchCache:I,pushRef:j,focusAndScrollRef:U,canonicalUrl:N,nextUrl:K},L,D]=(0,h.useReducerWithReduxDevtools)(l.reducer,B);(0,o.useEffect)(()=>{P=null},[]);let{searchParams:M,pathname:z}=(0,o.useMemo)(()=>{let t=new URL(N,"http://n");return{searchParams:t.searchParams,pathname:(0,A.hasBasePath)(t.pathname)?(0,w.removeBasePath)(t.pathname):t.pathname}},[N]),F=(0,o.useCallback)((t,n,a)=>{(0,o.startTransition)(()=>{L({type:u.ACTION_SERVER_PATCH,flightData:n,previousTree:t,overrideCanonicalUrl:a,cache:createEmptyCacheNode(),mutable:{globalMutable:k}})})},[L]),W=(0,o.useCallback)((t,n,a,i)=>{let o=new URL((0,g.addBasePath)(t),location.href);return k.pendingNavigatePath=(0,c.createHrefFromUrl)(o),L({type:u.ACTION_NAVIGATE,url:o,isExternalUrl:isExternalURL(o),locationSearch:location.search,forceOptimisticNavigation:a,shouldScroll:null==i||i,navigateType:n,cache:createEmptyCacheNode(),mutable:{globalMutable:k}})},[L]);!function(t){let n=(0,o.useCallback)(n=>{(0,o.startTransition)(()=>{t({...n,type:u.ACTION_SERVER_ACTION,mutable:{globalMutable:k},cache:createEmptyCacheNode()})})},[t]);E=n}(L);let H=(0,o.useMemo)(()=>{let t={back:()=>window.history.back(),forward:()=>window.history.forward(),prefetch:(t,n)=>{if((0,m.isBot)(window.navigator.userAgent))return;let a=new URL((0,g.addBasePath)(t),location.href);isExternalURL(a)||(0,o.startTransition)(()=>{var t;L({type:u.ACTION_PREFETCH,url:a,kind:null!=(t=null==n?void 0:n.kind)?t:u.PrefetchKind.FULL})})},replace:(t,n)=>{void 0===n&&(n={}),(0,o.startTransition)(()=>{var a;W(t,"replace",!!n.forceOptimisticNavigation,null==(a=n.scroll)||a)})},push:(t,n)=>{void 0===n&&(n={}),(0,o.startTransition)(()=>{var a;W(t,"push",!!n.forceOptimisticNavigation,null==(a=n.scroll)||a)})},refresh:()=>{(0,o.startTransition)(()=>{L({type:u.ACTION_REFRESH,cache:createEmptyCacheNode(),mutable:{globalMutable:k},origin:window.location.origin})})},fastRefresh:()=>{throw Error("fastRefresh can only be used in development mode. Please use refresh instead.")}};return t},[L,W]);if((0,o.useEffect)(()=>{window.next&&(window.next.router=H)},[H]),(0,o.useEffect)(()=>{k.refresh=H.refresh},[H.refresh]),(0,o.useEffect)(()=>{function handlePageShow(t){var n;t.persisted&&(null==(n=window.history.state)?void 0:n.tree)&&L({type:u.ACTION_RESTORE,url:new URL(window.location.href),tree:window.history.state.tree})}return window.addEventListener("pageshow",handlePageShow),()=>{window.removeEventListener("pageshow",handlePageShow)}},[L]),j.mpaNavigation){if(k.pendingMpaPath!==N){let t=window.location;j.pendingPush?t.assign(N):t.replace(N),k.pendingMpaPath=N}(0,o.use)((0,C.createInfinitePromise)())}let q=(0,o.useCallback)(t=>{let{state:n}=t;if(n){if(!n.__NA){window.location.reload();return}(0,o.startTransition)(()=>{L({type:u.ACTION_RESTORE,url:new URL(window.location.href),tree:n.tree})})}},[L]);(0,o.useEffect)(()=>(window.addEventListener("popstate",q),()=>{window.removeEventListener("popstate",q)}),[q]);let V=(0,o.useMemo)(()=>(0,S.findHeadInCache)(T,O[1]),[T,O]),$=o.default.createElement(v.RedirectBoundary,null,V,T.subTreeData,o.default.createElement(b.AppRouterAnnouncer,{tree:O}));return o.default.createElement(o.default.Fragment,null,o.default.createElement(HistoryUpdater,{tree:O,pushRef:j,canonicalUrl:N,sync:D}),o.default.createElement(d.PathnameContext.Provider,{value:z},o.default.createElement(d.SearchParamsContext.Provider,{value:M},o.default.createElement(s.GlobalLayoutRouterContext.Provider,{value:{buildId:n,changeByServerResponse:F,tree:O,focusAndScrollRef:U,nextUrl:K}},o.default.createElement(s.AppRouterContext.Provider,{value:H},o.default.createElement(s.LayoutRouterContext.Provider,{value:{childNodes:T.parallelRoutes,tree:O,url:N}},$))))))}function AppRouter(t){let{globalErrorComponent:n,...a}=t;return o.default.createElement(p.ErrorBoundary,{errorComponent:n},o.default.createElement(Router,a))}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},87080:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"bailoutToClientRendering",{enumerable:!0,get:function(){return bailoutToClientRendering}});let i=a(42796),o=a(94749);function bailoutToClientRendering(){let t=o.staticGenerationAsyncStorage.getStore();return null!=t&&!!t.forceStatic||((null==t?void 0:t.isStaticGeneration)&&(0,i.suspense)(),!1)}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},66842:(t,n,a)=>{"use strict";function clientHookInServerComponentError(t){}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"clientHookInServerComponentError",{enumerable:!0,get:function(){return clientHookInServerComponentError}}),a(82147),a(9885),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},82057:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{ErrorBoundaryHandler:function(){return ErrorBoundaryHandler},GlobalError:function(){return GlobalError},default:function(){return u},ErrorBoundary:function(){return ErrorBoundary}});let i=a(82147),o=i._(a(9885)),s=a(82778),l={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}};let ErrorBoundaryHandler=class ErrorBoundaryHandler extends o.default.Component{static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return t.pathname!==n.previousPathname&&n.error?{error:null,previousPathname:t.pathname}:{error:n.error,previousPathname:t.pathname}}render(){return this.state.error?o.default.createElement(o.default.Fragment,null,this.props.errorStyles,o.default.createElement(this.props.errorComponent,{error:this.state.error,reset:this.reset})):this.props.children}constructor(t){super(t),this.reset=()=>{this.setState({error:null})},this.state={error:null,previousPathname:this.props.pathname}}};function GlobalError(t){let{error:n}=t,a=null==n?void 0:n.digest;return o.default.createElement("html",{id:"__next_error__"},o.default.createElement("head",null),o.default.createElement("body",null,o.default.createElement("div",{style:l.error},o.default.createElement("div",null,o.default.createElement("h2",{style:l.text},"Application error: a "+(a?"server":"client")+"-side exception has occurred (see the "+(a?"server logs":"browser console")+" for more information)."),a?o.default.createElement("p",{style:l.text},"Digest: "+a):null))))}let u=GlobalError;function ErrorBoundary(t){let{errorComponent:n,errorStyles:a,children:i}=t,l=(0,s.usePathname)();return n?o.default.createElement(ErrorBoundaryHandler,{pathname:l,errorComponent:n,errorStyles:a},i):o.default.createElement(o.default.Fragment,null,i)}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},77743:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{DYNAMIC_ERROR_CODE:function(){return a},DynamicServerError:function(){return DynamicServerError}});let a="DYNAMIC_SERVER_USAGE";let DynamicServerError=class DynamicServerError extends Error{constructor(t){super("Dynamic server usage: "+t),this.digest=a}};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},98897:(t,n)=>{"use strict";let a;function createInfinitePromise(){return a||(a=new Promise(()=>{})),a}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createInfinitePromise",{enumerable:!0,get:function(){return createInfinitePromise}}),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},46148:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return OuterLayoutRouter}}),a(82147);let i=a(4009),o=i._(a(9885));a(88908);let s=a(82428),l=a(6947),u=a(98897),c=a(82057),d=a(85324),h=a(21688),p=a(21390),y=a(88359),m=a(98546),g=a(74235),b=a(89654),v=["bottom","height","left","right","top","width","x","y"];function topOfElementInViewport(t,n){let a=t.getBoundingClientRect();return a.top>=0&&a.top<=n}let InnerScrollAndFocusHandler=class InnerScrollAndFocusHandler extends o.default.Component{componentDidMount(){this.handlePotentialScroll()}componentDidUpdate(){this.props.focusAndScrollRef.apply&&this.handlePotentialScroll()}render(){return this.props.children}constructor(...t){super(...t),this.handlePotentialScroll=()=>{let{focusAndScrollRef:t,segmentPath:n}=this.props;if(t.apply){if(0!==t.segmentPaths.length&&!t.segmentPaths.some(t=>n.every((n,a)=>(0,d.matchSegment)(n,t[a]))))return;let a=null,i=t.hashFragment;if(i&&(a=function(t){var n;return"top"===t?document.body:null!=(n=document.getElementById(t))?n:document.getElementsByName(t)[0]}(i)),!a&&(a=null),!(a instanceof Element))return;for(;!(a instanceof HTMLElement)||function(t){if(["sticky","fixed"].includes(getComputedStyle(t).position))return!0;let n=t.getBoundingClientRect();return v.every(t=>0===n[t])}(a);){if(null===a.nextElementSibling)return;a=a.nextElementSibling}t.apply=!1,t.hashFragment=null,t.segmentPaths=[],(0,h.handleSmoothScroll)(()=>{if(i){a.scrollIntoView();return}let t=document.documentElement,n=t.clientHeight;!topOfElementInViewport(a,n)&&(t.scrollTop=0,topOfElementInViewport(a,n)||a.scrollIntoView())},{dontForceLayout:!0,onlyHashChange:t.onlyHashChange}),t.onlyHashChange=!1,a.focus()}}}};function ScrollAndFocusHandler(t){let{segmentPath:n,children:a}=t,i=(0,o.useContext)(s.GlobalLayoutRouterContext);if(!i)throw Error("invariant global layout router not mounted");return o.default.createElement(InnerScrollAndFocusHandler,{segmentPath:n,focusAndScrollRef:i.focusAndScrollRef},a)}function InnerLayoutRouter(t){let{parallelRouterKey:n,url:a,childNodes:i,childProp:c,segmentPath:h,tree:p,cacheKey:y}=t,m=(0,o.useContext)(s.GlobalLayoutRouterContext);if(!m)throw Error("invariant global layout router not mounted");let{buildId:g,changeByServerResponse:v,tree:S}=m,C=i.get(y);if(c&&null!==c.current&&(C?C.status===s.CacheStates.LAZY_INITIALIZED&&(C.status=s.CacheStates.READY,C.subTreeData=c.current):(C={status:s.CacheStates.READY,data:null,subTreeData:c.current,parallelRoutes:new Map},i.set(y,C))),!C||C.status===s.CacheStates.LAZY_INITIALIZED){let t=function walkAddRefetch(t,n){if(t){let[a,i]=t,o=2===t.length;if((0,d.matchSegment)(n[0],a)&&n[1].hasOwnProperty(i)){if(o){let t=walkAddRefetch(void 0,n[1][i]);return[n[0],{...n[1],[i]:[t[0],t[1],t[2],"refetch"]}]}return[n[0],{...n[1],[i]:walkAddRefetch(t.slice(2),n[1][i])}]}}return n}(["",...h],S);C={status:s.CacheStates.DATA_FETCH,data:(0,b.createRecordFromThenable)((0,l.fetchServerResponse)(new URL(a,location.origin),t,m.nextUrl,g)),subTreeData:null,head:C&&C.status===s.CacheStates.LAZY_INITIALIZED?C.head:void 0,parallelRoutes:C&&C.status===s.CacheStates.LAZY_INITIALIZED?C.parallelRoutes:new Map},i.set(y,C)}if(!C)throw Error("Child node should always exist");if(C.subTreeData&&C.data)throw Error("Child node should not have both subTreeData and data");if(C.data){let[t,n]=(0,o.use)(C.data);C.data=null,setTimeout(()=>{(0,o.startTransition)(()=>{v(S,t,n)})}),(0,o.use)((0,u.createInfinitePromise)())}C.subTreeData||(0,o.use)((0,u.createInfinitePromise)());let _=o.default.createElement(s.LayoutRouterContext.Provider,{value:{tree:p[1][n],childNodes:C.parallelRoutes,url:a}},C.subTreeData);return _}function LoadingBoundary(t){let{children:n,loading:a,loadingStyles:i,hasLoading:s}=t;return s?o.default.createElement(o.Suspense,{fallback:o.default.createElement(o.default.Fragment,null,i,a)},n):o.default.createElement(o.default.Fragment,null,n)}function OuterLayoutRouter(t){let{parallelRouterKey:n,segmentPath:a,childProp:i,error:l,errorStyles:u,templateStyles:h,loading:b,loadingStyles:v,hasLoading:S,template:C,notFound:_,notFoundStyles:w,styles:A}=t,P=(0,o.useContext)(s.LayoutRouterContext);if(!P)throw Error("invariant expected layout router to be mounted");let{childNodes:E,tree:k,url:R}=P,B=E.get(n);B||(B=new Map,E.set(n,B));let O=k[1][n][0],T=i.segment,I=(0,m.getSegmentValue)(O),j=[O];return o.default.createElement(o.default.Fragment,null,A,j.map(t=>{let A=(0,d.matchSegment)(t,T),P=(0,m.getSegmentValue)(t),E=(0,g.createRouterCacheKey)(t);return o.default.createElement(s.TemplateContext.Provider,{key:(0,g.createRouterCacheKey)(t,!0),value:o.default.createElement(ScrollAndFocusHandler,{segmentPath:a},o.default.createElement(c.ErrorBoundary,{errorComponent:l,errorStyles:u},o.default.createElement(LoadingBoundary,{hasLoading:S,loading:b,loadingStyles:v},o.default.createElement(y.NotFoundBoundary,{notFound:_,notFoundStyles:w},o.default.createElement(p.RedirectBoundary,null,o.default.createElement(InnerLayoutRouter,{parallelRouterKey:n,url:R,tree:k,childNodes:B,childProp:A?i:null,segmentPath:a,cacheKey:E,isActive:I===P}))))))},h,C)}))}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},85324:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{matchSegment:function(){return matchSegment},canSegmentBeOverridden:function(){return canSegmentBeOverridden}});let i=a(42290),matchSegment=(t,n)=>"string"==typeof t?"string"==typeof n&&t===n:"string"!=typeof n&&t[0]===n[0]&&t[1]===n[1],canSegmentBeOverridden=(t,n)=>{var a;return!Array.isArray(t)&&!!Array.isArray(n)&&(null==(a=(0,i.getSegmentParam)(t))?void 0:a.param)===n[0]};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},82778:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{ReadonlyURLSearchParams:function(){return ReadonlyURLSearchParams},useSearchParams:function(){return useSearchParams},usePathname:function(){return usePathname},ServerInsertedHTMLContext:function(){return c.ServerInsertedHTMLContext},useServerInsertedHTML:function(){return c.useServerInsertedHTML},useRouter:function(){return useRouter},useParams:function(){return useParams},useSelectedLayoutSegments:function(){return useSelectedLayoutSegments},useSelectedLayoutSegment:function(){return useSelectedLayoutSegment},redirect:function(){return d.redirect},permanentRedirect:function(){return d.permanentRedirect},RedirectType:function(){return d.RedirectType},notFound:function(){return h.notFound}});let i=a(9885),o=a(82428),s=a(11736),l=a(66842),u=a(98546),c=a(75753),d=a(11942),h=a(82607),p=Symbol("internal for urlsearchparams readonly");function readonlyURLSearchParamsError(){return Error("ReadonlyURLSearchParams cannot be modified")}let ReadonlyURLSearchParams=class ReadonlyURLSearchParams{[Symbol.iterator](){return this[p][Symbol.iterator]()}append(){throw readonlyURLSearchParamsError()}delete(){throw readonlyURLSearchParamsError()}set(){throw readonlyURLSearchParamsError()}sort(){throw readonlyURLSearchParamsError()}constructor(t){this[p]=t,this.entries=t.entries.bind(t),this.forEach=t.forEach.bind(t),this.get=t.get.bind(t),this.getAll=t.getAll.bind(t),this.has=t.has.bind(t),this.keys=t.keys.bind(t),this.values=t.values.bind(t),this.toString=t.toString.bind(t),this.size=t.size}};function useSearchParams(){(0,l.clientHookInServerComponentError)("useSearchParams");let t=(0,i.useContext)(s.SearchParamsContext),n=(0,i.useMemo)(()=>t?new ReadonlyURLSearchParams(t):null,[t]);{let{bailoutToClientRendering:t}=a(87080);t()}return n}function usePathname(){return(0,l.clientHookInServerComponentError)("usePathname"),(0,i.useContext)(s.PathnameContext)}function useRouter(){(0,l.clientHookInServerComponentError)("useRouter");let t=(0,i.useContext)(o.AppRouterContext);if(null===t)throw Error("invariant expected app router to be mounted");return t}function useParams(){(0,l.clientHookInServerComponentError)("useParams");let t=(0,i.useContext)(o.GlobalLayoutRouterContext),n=(0,i.useContext)(s.PathParamsContext);return t?function getSelectedParams(t,n){void 0===n&&(n={});let a=t[1];for(let t of Object.values(a)){let a=t[0],i=Array.isArray(a),o=i?a[1]:a;if(!o||o.startsWith("__PAGE__"))continue;let s=i&&("c"===a[2]||"oc"===a[2]);s?n[a[0]]=a[1].split("/"):i&&(n[a[0]]=a[1]),n=getSelectedParams(t,n)}return n}(t.tree):n}function useSelectedLayoutSegments(t){void 0===t&&(t="children"),(0,l.clientHookInServerComponentError)("useSelectedLayoutSegments");let{tree:n}=(0,i.useContext)(o.LayoutRouterContext);return function getSelectedLayoutSegmentPath(t,n,a,i){let o;if(void 0===a&&(a=!0),void 0===i&&(i=[]),a)o=t[1][n];else{var s;let n=t[1];o=null!=(s=n.children)?s:Object.values(n)[0]}if(!o)return i;let l=o[0],c=(0,u.getSegmentValue)(l);return!c||c.startsWith("__PAGE__")?i:(i.push(c),getSelectedLayoutSegmentPath(o,n,!1,i))}(n,t)}function useSelectedLayoutSegment(t){void 0===t&&(t="children"),(0,l.clientHookInServerComponentError)("useSelectedLayoutSegment");let n=useSelectedLayoutSegments(t);return 0===n.length?null:n[0]}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},88359:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotFoundBoundary",{enumerable:!0,get:function(){return NotFoundBoundary}});let i=a(82147),o=i._(a(9885)),s=a(82778);let NotFoundErrorBoundary=class NotFoundErrorBoundary extends o.default.Component{static getDerivedStateFromError(t){if((null==t?void 0:t.digest)==="NEXT_NOT_FOUND")return{notFoundTriggered:!0};throw t}static getDerivedStateFromProps(t,n){return t.pathname!==n.previousPathname&&n.notFoundTriggered?{notFoundTriggered:!1,previousPathname:t.pathname}:{notFoundTriggered:n.notFoundTriggered,previousPathname:t.pathname}}render(){return this.state.notFoundTriggered?o.default.createElement(o.default.Fragment,null,o.default.createElement("meta",{name:"robots",content:"noindex"}),!1,this.props.notFoundStyles,this.props.notFound):this.props.children}constructor(t){super(t),this.state={notFoundTriggered:!!t.asNotFound,previousPathname:t.pathname}}};function NotFoundBoundary(t){let{notFound:n,notFoundStyles:a,asNotFound:i,children:l}=t,u=(0,s.usePathname)();return n?o.default.createElement(NotFoundErrorBoundary,{pathname:u,notFound:n,notFoundStyles:a,asNotFound:i},l):o.default.createElement(o.default.Fragment,null,l)}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},82607:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{notFound:function(){return notFound},isNotFoundError:function(){return isNotFoundError}});let a="NEXT_NOT_FOUND";function notFound(){let t=Error(a);throw t.digest=a,t}function isNotFoundError(t){return(null==t?void 0:t.digest)===a}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},30339:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PromiseQueue",{enumerable:!0,get:function(){return PromiseQueue}});let i=a(88324),o=a(94567);var s=o._("_maxConcurrency"),l=o._("_runningCount"),u=o._("_queue"),c=o._("_processNext");let PromiseQueue=class PromiseQueue{enqueue(t){let n,a;let o=new Promise((t,i)=>{n=t,a=i}),task=async()=>{try{i._(this,l)[l]++;let a=await t();n(a)}catch(t){a(t)}finally{i._(this,l)[l]--,i._(this,c)[c]()}};return i._(this,u)[u].push({promiseFn:o,task}),i._(this,c)[c](),o}bump(t){let n=i._(this,u)[u].findIndex(n=>n.promiseFn===t);if(n>-1){let t=i._(this,u)[u].splice(n,1)[0];i._(this,u)[u].unshift(t),i._(this,c)[c](!0)}}constructor(t=5){Object.defineProperty(this,c,{value:processNext}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),i._(this,s)[s]=t,i._(this,l)[l]=0,i._(this,u)[u]=[]}};function processNext(t){if(void 0===t&&(t=!1),(i._(this,l)[l]<i._(this,s)[s]||t)&&i._(this,u)[u].length>0){var n;null==(n=i._(this,u)[u].shift())||n.task()}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},21390:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{RedirectErrorBoundary:function(){return RedirectErrorBoundary},RedirectBoundary:function(){return RedirectBoundary}});let i=a(4009),o=i._(a(9885)),s=a(82778),l=a(11942);function HandleRedirect(t){let{redirect:n,reset:a,redirectType:i}=t,u=(0,s.useRouter)();return(0,o.useEffect)(()=>{o.default.startTransition(()=>{i===l.RedirectType.push?u.push(n,{}):u.replace(n,{}),a()})},[n,i,a,u]),null}let RedirectErrorBoundary=class RedirectErrorBoundary extends o.default.Component{static getDerivedStateFromError(t){if((0,l.isRedirectError)(t)){let n=(0,l.getURLFromRedirectError)(t),a=(0,l.getRedirectTypeFromError)(t);return{redirect:n,redirectType:a}}throw t}render(){let{redirect:t,redirectType:n}=this.state;return null!==t&&null!==n?o.default.createElement(HandleRedirect,{redirect:t,redirectType:n,reset:()=>this.setState({redirect:null})}):this.props.children}constructor(t){super(t),this.state={redirect:null,redirectType:null}}};function RedirectBoundary(t){let{children:n}=t,a=(0,s.useRouter)();return o.default.createElement(RedirectErrorBoundary,{router:a},n)}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},11942:(t,n,a)=>{"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{RedirectType:function(){return i},getRedirectError:function(){return getRedirectError},redirect:function(){return redirect},permanentRedirect:function(){return permanentRedirect},isRedirectError:function(){return isRedirectError},getURLFromRedirectError:function(){return getURLFromRedirectError},getRedirectTypeFromError:function(){return getRedirectTypeFromError}});let o=a(55403),s="NEXT_REDIRECT";function getRedirectError(t,n,a){void 0===a&&(a=!1);let i=Error(s);i.digest=s+";"+n+";"+t+";"+a;let l=o.requestAsyncStorage.getStore();return l&&(i.mutableCookies=l.mutableCookies),i}function redirect(t,n){throw void 0===n&&(n="replace"),getRedirectError(t,n,!1)}function permanentRedirect(t,n){throw void 0===n&&(n="replace"),getRedirectError(t,n,!0)}function isRedirectError(t){if("string"!=typeof(null==t?void 0:t.digest))return!1;let[n,a,i,o]=t.digest.split(";",4);return n===s&&("replace"===a||"push"===a)&&"string"==typeof i&&("true"===o||"false"===o)}function getURLFromRedirectError(t){return isRedirectError(t)?t.digest.split(";",3)[2]:null}function getRedirectTypeFromError(t){if(!isRedirectError(t))throw Error("Not a redirect error");return t.digest.split(";",3)[1]}(function(t){t.push="push",t.replace="replace"})(i||(i={})),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},51860:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return RenderFromTemplateContext}});let i=a(4009),o=i._(a(9885)),s=a(82428);function RenderFromTemplateContext(){let t=(0,o.useContext)(s.TemplateContext);return o.default.createElement(o.default.Fragment,null,t)}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},98510:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"applyFlightData",{enumerable:!0,get:function(){return applyFlightData}});let i=a(82428),o=a(29069),s=a(97512);function applyFlightData(t,n,a,l){void 0===l&&(l=!1);let[u,c,d]=a.slice(-3);return null!==c&&(3===a.length?(n.status=i.CacheStates.READY,n.subTreeData=c,(0,o.fillLazyItemsTillLeafWithHead)(n,t,u,d,l)):(n.status=i.CacheStates.READY,n.subTreeData=t.subTreeData,n.parallelRoutes=new Map(t.parallelRoutes),(0,s.fillCacheWithNewSubTreeData)(n,t,a,l)),!0)}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},5849:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"applyRouterStatePatchToTree",{enumerable:!0,get:function(){return function applyRouterStatePatchToTree(t,n,a){let o;let[s,l,,,u]=n;if(1===t.length){let t=applyPatch(n,a);return t}let[c,d]=t;if(!(0,i.matchSegment)(c,s))return null;let h=2===t.length;if(h)o=applyPatch(l[d],a);else if(null===(o=applyRouterStatePatchToTree(t.slice(2),l[d],a)))return null;let p=[t[0],{...l,[d]:o}];return u&&(p[4]=!0),p}}});let i=a(85324);function applyPatch(t,n){let[a,o]=t,[s,l]=n;if("__DEFAULT__"===s&&"__DEFAULT__"!==a)return t;if((0,i.matchSegment)(a,s)){let n={};for(let t in o){let a=void 0!==l[t];a?n[t]=applyPatch(o[t],l[t]):n[t]=o[t]}for(let t in l)n[t]||(n[t]=l[t]);let i=[a,n];return t[2]&&(i[2]=t[2]),t[3]&&(i[3]=t[3]),t[4]&&(i[4]=t[4]),i}return n}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},80735:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{extractPathFromFlightRouterState:function(){return extractPathFromFlightRouterState},computeChangedPath:function(){return computeChangedPath}});let i=a(84265),o=a(48882),s=a(85324),removeLeadingSlash=t=>"/"===t[0]?t.slice(1):t,segmentToPathname=t=>"string"==typeof t?t:t[1];function normalizeSegments(t){return t.reduce((t,n)=>""===(n=removeLeadingSlash(n))||(0,o.isGroupSegment)(n)?t:t+"/"+n,"")||"/"}function extractPathFromFlightRouterState(t){var n;let a=Array.isArray(t[0])?t[0][1]:t[0];if("__DEFAULT__"===a||i.INTERCEPTION_ROUTE_MARKERS.some(t=>a.startsWith(t)))return;if(a.startsWith("__PAGE__"))return"";let o=[a],s=null!=(n=t[1])?n:{},l=s.children?extractPathFromFlightRouterState(s.children):void 0;if(void 0!==l)o.push(l);else for(let[t,n]of Object.entries(s)){if("children"===t)continue;let a=extractPathFromFlightRouterState(n);void 0!==a&&o.push(a)}return normalizeSegments(o)}function computeChangedPath(t,n){let a=function computeChangedPathImpl(t,n){let[a,o]=t,[l,u]=n,c=segmentToPathname(a),d=segmentToPathname(l);if(i.INTERCEPTION_ROUTE_MARKERS.some(t=>c.startsWith(t)||d.startsWith(t)))return"";if(!(0,s.matchSegment)(a,l)){var h;return null!=(h=extractPathFromFlightRouterState(n))?h:""}for(let t in o)if(u[t]){let n=computeChangedPathImpl(o[t],u[t]);if(null!==n)return segmentToPathname(l)+"/"+n}return null}(t,n);return null==a||"/"===a?a:normalizeSegments(a.split("/"))}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},31558:(t,n)=>{"use strict";function createHrefFromUrl(t,n){return void 0===n&&(n=!0),t.pathname+t.search+(n?t.hash:"")}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createHrefFromUrl",{enumerable:!0,get:function(){return createHrefFromUrl}}),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},16606:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createInitialRouterState",{enumerable:!0,get:function(){return createInitialRouterState}});let i=a(82428),o=a(31558),s=a(29069),l=a(80735);function createInitialRouterState(t){var n;let{buildId:a,initialTree:u,children:c,initialCanonicalUrl:d,initialParallelRoutes:h,isServer:p,location:y,initialHead:m}=t,g={status:i.CacheStates.READY,data:null,subTreeData:c,parallelRoutes:p?new Map:h};return(null===h||0===h.size)&&(0,s.fillLazyItemsTillLeafWithHead)(g,void 0,u,m),{buildId:a,tree:u,cache:g,prefetchCache:new Map,pushRef:{pendingPush:!1,mpaNavigation:!1},focusAndScrollRef:{apply:!1,onlyHashChange:!1,hashFragment:null,segmentPaths:[]},canonicalUrl:y?(0,o.createHrefFromUrl)(y):d,nextUrl:null!=(n=(0,l.extractPathFromFlightRouterState)(u)||(null==y?void 0:y.pathname))?n:null}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},53897:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createOptimisticTree",{enumerable:!0,get:function(){return function createOptimisticTree(t,n,a){let o;let[s,l,u,c,d]=n||[null,{}],h=t[0],p=1===t.length,y=null!==s&&(0,i.matchSegment)(s,h),m=Object.keys(l).length>1,g=!n||!y||m,b={};if(null!==s&&y&&(b=l),!p&&!m){let n=createOptimisticTree(t.slice(1),b?b.children:null,a||g);o=n}let v=[h,{...b,...o?{children:o}:{}}];return u&&(v[2]=u),!a&&g?v[3]="refetch":y&&c&&(v[3]=c),y&&d&&(v[4]=d),v}}});let i=a(85324);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},89654:(t,n)=>{"use strict";function createRecordFromThenable(t){return t.status="pending",t.then(n=>{"pending"===t.status&&(t.status="fulfilled",t.value=n)},n=>{"pending"===t.status&&(t.status="rejected",t.reason=n)}),t}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createRecordFromThenable",{enumerable:!0,get:function(){return createRecordFromThenable}}),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},74235:(t,n)=>{"use strict";function createRouterCacheKey(t,n){return void 0===n&&(n=!1),Array.isArray(t)?(t[0]+"|"+t[1]+"|"+t[2]).toLowerCase():n&&t.startsWith("__PAGE__")?"__PAGE__":t}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createRouterCacheKey",{enumerable:!0,get:function(){return createRouterCacheKey}}),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},6947:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"fetchServerResponse",{enumerable:!0,get:function(){return fetchServerResponse}});let i=a(32763),o=a(19918),s=a(70391),l=a(66165),u=a(84035),{createFromFetch:c}=a(12623);function doMpaNavigation(t){return[(0,o.urlToUrlWithoutFlightMarker)(t).toString(),void 0]}async function fetchServerResponse(t,n,a,d,h){let p={[i.RSC]:"1",[i.NEXT_ROUTER_STATE_TREE]:encodeURIComponent(JSON.stringify(n))};h===l.PrefetchKind.AUTO&&(p[i.NEXT_ROUTER_PREFETCH]="1"),a&&(p[i.NEXT_URL]=a);let y=(0,u.hexHash)([p[i.NEXT_ROUTER_PREFETCH]||"0",p[i.NEXT_ROUTER_STATE_TREE],p[i.NEXT_URL]].join(","));try{let n=new URL(t);n.searchParams.set(i.NEXT_RSC_UNION_QUERY,y);let a=await fetch(n,{credentials:"same-origin",headers:p}),l=(0,o.urlToUrlWithoutFlightMarker)(a.url),u=a.redirected?l:void 0,h=a.headers.get("content-type")||"";if(h!==i.RSC_CONTENT_TYPE_HEADER||!a.ok)return t.hash&&(l.hash=t.hash),doMpaNavigation(l.toString());let[m,g]=await c(Promise.resolve(a),{callServer:s.callServer});if(d!==m)return doMpaNavigation(a.url);return[g,u]}catch(n){return console.error("Failed to fetch RSC payload. Falling back to browser navigation.",n),[t.toString(),void 0]}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},80276:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"fillCacheWithDataProperty",{enumerable:!0,get:function(){return function fillCacheWithDataProperty(t,n,a,s,l){void 0===l&&(l=!1);let u=a.length<=2,[c,d]=a,h=(0,o.createRouterCacheKey)(d),p=n.parallelRoutes.get(c);if(!p||l&&n.parallelRoutes.size>1)return{bailOptimistic:!0};let y=t.parallelRoutes.get(c);y&&y!==p||(y=new Map(p),t.parallelRoutes.set(c,y));let m=p.get(h),g=y.get(h);if(u){g&&g.data&&g!==m||y.set(h,{status:i.CacheStates.DATA_FETCH,data:s(),subTreeData:null,parallelRoutes:new Map});return}if(!g||!m){g||y.set(h,{status:i.CacheStates.DATA_FETCH,data:s(),subTreeData:null,parallelRoutes:new Map});return}return g===m&&(g={status:g.status,data:g.data,subTreeData:g.subTreeData,parallelRoutes:new Map(g.parallelRoutes)},y.set(h,g)),fillCacheWithDataProperty(g,m,a.slice(2),s)}}});let i=a(82428),o=a(74235);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},97512:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"fillCacheWithNewSubTreeData",{enumerable:!0,get:function(){return function fillCacheWithNewSubTreeData(t,n,a,u){let c=a.length<=5,[d,h]=a,p=(0,l.createRouterCacheKey)(h),y=n.parallelRoutes.get(d);if(!y)return;let m=t.parallelRoutes.get(d);m&&m!==y||(m=new Map(y),t.parallelRoutes.set(d,m));let g=y.get(p),b=m.get(p);if(c){b&&b.data&&b!==g||(b={status:i.CacheStates.READY,data:null,subTreeData:a[3],parallelRoutes:g?new Map(g.parallelRoutes):new Map},g&&(0,o.invalidateCacheByRouterState)(b,g,a[2]),(0,s.fillLazyItemsTillLeafWithHead)(b,g,a[2],a[4],u),m.set(p,b));return}b&&g&&(b===g&&(b={status:b.status,data:b.data,subTreeData:b.subTreeData,parallelRoutes:new Map(b.parallelRoutes)},m.set(p,b)),fillCacheWithNewSubTreeData(b,g,a.slice(2),u))}}});let i=a(82428),o=a(8098),s=a(29069),l=a(74235);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},29069:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"fillLazyItemsTillLeafWithHead",{enumerable:!0,get:function(){return function fillLazyItemsTillLeafWithHead(t,n,a,s,l){let u=0===Object.keys(a[1]).length;if(u){t.head=s;return}for(let u in a[1]){let c=a[1][u],d=c[0],h=(0,o.createRouterCacheKey)(d);if(n){let a=n.parallelRoutes.get(u);if(a){let n=new Map(a),o=n.get(h),d=l&&o?{status:o.status,data:o.data,subTreeData:o.subTreeData,parallelRoutes:new Map(o.parallelRoutes)}:{status:i.CacheStates.LAZY_INITIALIZED,data:null,subTreeData:null,parallelRoutes:new Map(null==o?void 0:o.parallelRoutes)};n.set(h,d),fillLazyItemsTillLeafWithHead(d,o,c,s,l),t.parallelRoutes.set(u,n);continue}}let p={status:i.CacheStates.LAZY_INITIALIZED,data:null,subTreeData:null,parallelRoutes:new Map},y=t.parallelRoutes.get(u);y?y.set(h,p):t.parallelRoutes.set(u,new Map([[h,p]])),fillLazyItemsTillLeafWithHead(p,void 0,c,s,l)}}}});let i=a(82428),o=a(74235);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},17456:(t,n)=>{"use strict";var a;function getPrefetchEntryCacheStatus(t){let{kind:n,prefetchTime:a,lastUsedTime:i}=t;return Date.now()<(null!=i?i:a)+3e4?i?"reusable":"fresh":"auto"===n&&Date.now()<a+3e5?"stale":"full"===n&&Date.now()<a+3e5?"reusable":"expired"}Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{PrefetchCacheEntryStatus:function(){return a},getPrefetchEntryCacheStatus:function(){return getPrefetchEntryCacheStatus}}),function(t){t.fresh="fresh",t.reusable="reusable",t.expired="expired",t.stale="stale"}(a||(a={})),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},96940:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"handleMutable",{enumerable:!0,get:function(){return handleMutable}});let i=a(80735);function handleMutable(t,n){var a,o,s,l;let u=null==(o=n.shouldScroll)||o;return{buildId:t.buildId,canonicalUrl:null!=n.canonicalUrl?n.canonicalUrl===t.canonicalUrl?t.canonicalUrl:n.canonicalUrl:t.canonicalUrl,pushRef:{pendingPush:null!=n.pendingPush?n.pendingPush:t.pushRef.pendingPush,mpaNavigation:null!=n.mpaNavigation?n.mpaNavigation:t.pushRef.mpaNavigation},focusAndScrollRef:{apply:!!u&&((null==n?void 0:n.scrollableSegments)!==void 0||t.focusAndScrollRef.apply),onlyHashChange:!!n.hashFragment&&t.canonicalUrl.split("#")[0]===(null==(a=n.canonicalUrl)?void 0:a.split("#")[0]),hashFragment:u?n.hashFragment&&""!==n.hashFragment?decodeURIComponent(n.hashFragment.slice(1)):t.focusAndScrollRef.hashFragment:null,segmentPaths:u?null!=(s=null==n?void 0:n.scrollableSegments)?s:t.focusAndScrollRef.segmentPaths:[]},cache:n.cache?n.cache:t.cache,prefetchCache:n.prefetchCache?n.prefetchCache:t.prefetchCache,tree:void 0!==n.patchedTree?n.patchedTree:t.tree,nextUrl:void 0!==n.patchedTree?null!=(l=(0,i.computeChangedPath)(t.tree,n.patchedTree))?l:t.canonicalUrl:t.nextUrl}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},1260:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"invalidateCacheBelowFlightSegmentPath",{enumerable:!0,get:function(){return function invalidateCacheBelowFlightSegmentPath(t,n,a){let o=a.length<=2,[s,l]=a,u=(0,i.createRouterCacheKey)(l),c=n.parallelRoutes.get(s);if(!c)return;let d=t.parallelRoutes.get(s);if(d&&d!==c||(d=new Map(c),t.parallelRoutes.set(s,d)),o){d.delete(u);return}let h=c.get(u),p=d.get(u);p&&h&&(p===h&&(p={status:p.status,data:p.data,subTreeData:p.subTreeData,parallelRoutes:new Map(p.parallelRoutes)},d.set(u,p)),invalidateCacheBelowFlightSegmentPath(p,h,a.slice(2)))}}});let i=a(74235);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},8098:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"invalidateCacheByRouterState",{enumerable:!0,get:function(){return invalidateCacheByRouterState}});let i=a(74235);function invalidateCacheByRouterState(t,n,a){for(let o in a[1]){let s=a[1][o][0],l=(0,i.createRouterCacheKey)(s),u=n.parallelRoutes.get(o);if(u){let n=new Map(u);n.delete(l),t.parallelRoutes.set(o,n)}}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},50850:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isNavigatingToNewRootLayout",{enumerable:!0,get:function(){return function isNavigatingToNewRootLayout(t,n){let a=t[0],i=n[0];if(Array.isArray(a)&&Array.isArray(i)){if(a[0]!==i[0]||a[2]!==i[2])return!0}else if(a!==i)return!0;if(t[4])return!n[4];if(n[4])return!0;let o=Object.values(t[1])[0],s=Object.values(n[1])[0];return!o||!s||isNavigatingToNewRootLayout(o,s)}}}),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},83354:(t,n)=>{"use strict";function readRecordValue(t){if("fulfilled"===t.status)return t.value;throw t}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"readRecordValue",{enumerable:!0,get:function(){return readRecordValue}}),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},37892:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"fastRefreshReducer",{enumerable:!0,get:function(){return fastRefreshReducer}}),a(6947),a(89654),a(83354),a(31558),a(5849),a(50850),a(65913),a(96940),a(98510);let fastRefreshReducer=function(t,n){return t};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},97295:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"findHeadInCache",{enumerable:!0,get:function(){return function findHeadInCache(t,n){let a=0===Object.keys(n).length;if(a)return t.head;for(let a in n){let[o,s]=n[a],l=t.parallelRoutes.get(a);if(!l)continue;let u=(0,i.createRouterCacheKey)(o),c=l.get(u);if(!c)continue;let d=findHeadInCache(c,s);if(d)return d}}}});let i=a(74235);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},98546:(t,n)=>{"use strict";function getSegmentValue(t){return Array.isArray(t)?t[1]:t}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getSegmentValue",{enumerable:!0,get:function(){return getSegmentValue}}),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},65913:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{handleExternalUrl:function(){return handleExternalUrl},navigateReducer:function(){return navigateReducer}});let i=a(82428),o=a(6947),s=a(89654),l=a(83354),u=a(31558),c=a(1260),d=a(80276),h=a(53897),p=a(5849),y=a(24505),m=a(50850),g=a(66165),b=a(96940),v=a(98510),S=a(17456),C=a(46293),_=a(22392);function handleExternalUrl(t,n,a,i){return n.previousTree=t.tree,n.mpaNavigation=!0,n.canonicalUrl=a,n.pendingPush=i,n.scrollableSegments=void 0,(0,b.handleMutable)(t,n)}function generateSegmentsFromPatch(t){let n=[],[a,i]=t;if(0===Object.keys(i).length)return[[a]];for(let[t,o]of Object.entries(i))for(let i of generateSegmentsFromPatch(o))""===a?n.push([t,...i]):n.push([a,t,...i]);return n}function navigateReducer(t,n){let{url:a,isExternalUrl:w,navigateType:A,cache:P,mutable:E,forceOptimisticNavigation:k,shouldScroll:R}=n,{pathname:B,hash:O}=a,T=(0,u.createHrefFromUrl)(a),I="push"===A;(0,C.prunePrefetchCache)(t.prefetchCache);let j=JSON.stringify(E.previousTree)===JSON.stringify(t.tree);if(j)return(0,b.handleMutable)(t,E);if(w)return handleExternalUrl(t,E,a.toString(),I);let U=t.prefetchCache.get((0,u.createHrefFromUrl)(a,!1));if(k&&(null==U?void 0:U.kind)!==g.PrefetchKind.TEMPORARY){let n=B.split("/");n.push("__PAGE__");let l=(0,h.createOptimisticTree)(n,t.tree,!1),c={...P};c.status=i.CacheStates.READY,c.subTreeData=t.cache.subTreeData,c.parallelRoutes=new Map(t.cache.parallelRoutes);let p=null,y=n.slice(1).map(t=>["children",t]).flat(),m=(0,d.fillCacheWithDataProperty)(c,t.cache,y,()=>(p||(p=(0,s.createRecordFromThenable)((0,o.fetchServerResponse)(a,l,t.nextUrl,t.buildId))),p),!0);if(!(null==m?void 0:m.bailOptimistic))return E.previousTree=t.tree,E.patchedTree=l,E.pendingPush=I,E.hashFragment=O,E.shouldScroll=R,E.scrollableSegments=[],E.cache=c,E.canonicalUrl=T,t.prefetchCache.set((0,u.createHrefFromUrl)(a,!1),{data:p?(0,s.createRecordFromThenable)(Promise.resolve(p)):null,kind:g.PrefetchKind.TEMPORARY,prefetchTime:Date.now(),treeAtTimeOfPrefetch:t.tree,lastUsedTime:Date.now()}),(0,b.handleMutable)(t,E)}if(!U){let n=(0,s.createRecordFromThenable)((0,o.fetchServerResponse)(a,t.tree,t.nextUrl,t.buildId,void 0)),i={data:(0,s.createRecordFromThenable)(Promise.resolve(n)),kind:g.PrefetchKind.TEMPORARY,prefetchTime:Date.now(),treeAtTimeOfPrefetch:t.tree,lastUsedTime:null};t.prefetchCache.set((0,u.createHrefFromUrl)(a,!1),i),U=i}let N=(0,S.getPrefetchEntryCacheStatus)(U),{treeAtTimeOfPrefetch:K,data:L}=U;_.prefetchQueue.bump(L);let[D,M]=(0,l.readRecordValue)(L);if(U.lastUsedTime||(U.lastUsedTime=Date.now()),"string"==typeof D)return handleExternalUrl(t,E,D,I);let z=t.tree,F=t.cache,W=[];for(let n of D){let l=n.slice(0,-4),u=n.slice(-3)[0],h=["",...l],g=(0,p.applyRouterStatePatchToTree)(h,z,u);if(null===g&&(g=(0,p.applyRouterStatePatchToTree)(h,K,u)),null!==g){if((0,m.isNavigatingToNewRootLayout)(z,g))return handleExternalUrl(t,E,T,I);let p=(0,v.applyFlightData)(F,P,n,"auto"===U.kind&&N===S.PrefetchCacheEntryStatus.reusable);p||N!==S.PrefetchCacheEntryStatus.stale||(p=function(t,n,a,o,s){let l=!1;t.status=i.CacheStates.READY,t.subTreeData=n.subTreeData,t.parallelRoutes=new Map(n.parallelRoutes);let u=generateSegmentsFromPatch(o).map(t=>[...a,...t]);for(let a of u){let i=(0,d.fillCacheWithDataProperty)(t,n,a,s);(null==i?void 0:i.bailOptimistic)||(l=!0)}return l}(P,F,l,u,()=>(0,s.createRecordFromThenable)((0,o.fetchServerResponse)(a,z,t.nextUrl,t.buildId))));let b=(0,y.shouldHardNavigate)(h,z);for(let t of(b?(P.status=i.CacheStates.READY,P.subTreeData=F.subTreeData,(0,c.invalidateCacheBelowFlightSegmentPath)(P,F,l),E.cache=P):p&&(E.cache=P),F=P,z=g,generateSegmentsFromPatch(u))){let n=[...l,...t];"__DEFAULT__"!==n[n.length-1]&&W.push(n)}}}return E.previousTree=t.tree,E.patchedTree=z,E.canonicalUrl=M?(0,u.createHrefFromUrl)(M):T,E.pendingPush=I,E.scrollableSegments=W,E.hashFragment=O,E.shouldScroll=R,(0,b.handleMutable)(t,E)}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},22392:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{prefetchQueue:function(){return h},prefetchReducer:function(){return prefetchReducer}});let i=a(31558),o=a(6947),s=a(66165),l=a(89654),u=a(46293),c=a(32763),d=a(30339),h=new d.PromiseQueue(5);function prefetchReducer(t,n){(0,u.prunePrefetchCache)(t.prefetchCache);let{url:a}=n;a.searchParams.delete(c.NEXT_RSC_UNION_QUERY);let d=(0,i.createHrefFromUrl)(a,!1),p=t.prefetchCache.get(d);if(p&&(p.kind===s.PrefetchKind.TEMPORARY&&t.prefetchCache.set(d,{...p,kind:n.kind}),!(p.kind===s.PrefetchKind.AUTO&&n.kind===s.PrefetchKind.FULL)))return t;let y=(0,l.createRecordFromThenable)(h.enqueue(()=>(0,o.fetchServerResponse)(a,t.tree,t.nextUrl,t.buildId,n.kind)));return t.prefetchCache.set(d,{treeAtTimeOfPrefetch:t.tree,data:y,kind:n.kind,prefetchTime:Date.now(),lastUsedTime:null}),t}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},46293:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"prunePrefetchCache",{enumerable:!0,get:function(){return prunePrefetchCache}});let i=a(17456);function prunePrefetchCache(t){for(let[n,a]of t)(0,i.getPrefetchEntryCacheStatus)(a)===i.PrefetchCacheEntryStatus.expired&&t.delete(n)}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},21236:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"refreshReducer",{enumerable:!0,get:function(){return refreshReducer}});let i=a(6947),o=a(89654),s=a(83354),l=a(31558),u=a(5849),c=a(50850),d=a(65913),h=a(96940),p=a(82428),y=a(29069);function refreshReducer(t,n){let{cache:a,mutable:m,origin:g}=n,b=t.canonicalUrl,v=t.tree,S=JSON.stringify(m.previousTree)===JSON.stringify(v);if(S)return(0,h.handleMutable)(t,m);a.data||(a.data=(0,o.createRecordFromThenable)((0,i.fetchServerResponse)(new URL(b,g),[v[0],v[1],v[2],"refetch"],t.nextUrl,t.buildId)));let[C,_]=(0,s.readRecordValue)(a.data);if("string"==typeof C)return(0,d.handleExternalUrl)(t,m,C,t.pushRef.pendingPush);for(let n of(a.data=null,C)){if(3!==n.length)return console.log("REFRESH FAILED"),t;let[i]=n,o=(0,u.applyRouterStatePatchToTree)([""],v,i);if(null===o)throw Error("SEGMENT MISMATCH");if((0,c.isNavigatingToNewRootLayout)(v,o))return(0,d.handleExternalUrl)(t,m,b,t.pushRef.pendingPush);let s=_?(0,l.createHrefFromUrl)(_):void 0;_&&(m.canonicalUrl=s);let[h,g]=n.slice(-2);null!==h&&(a.status=p.CacheStates.READY,a.subTreeData=h,(0,y.fillLazyItemsTillLeafWithHead)(a,void 0,i,g),m.cache=a,m.prefetchCache=new Map),m.previousTree=v,m.patchedTree=o,m.canonicalUrl=b,v=o}return(0,h.handleMutable)(t,m)}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},3913:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"restoreReducer",{enumerable:!0,get:function(){return restoreReducer}});let i=a(31558);function restoreReducer(t,n){let{url:a,tree:o}=n,s=(0,i.createHrefFromUrl)(a);return{buildId:t.buildId,canonicalUrl:s,pushRef:t.pushRef,focusAndScrollRef:t.focusAndScrollRef,cache:t.cache,prefetchCache:t.prefetchCache,tree:o,nextUrl:a.pathname}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},318:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"serverActionReducer",{enumerable:!0,get:function(){return serverActionReducer}});let i=a(70391),o=a(32763),s=a(89654),l=a(83354),u=a(57488),c=a(31558),d=a(65913),h=a(5849),p=a(50850),y=a(82428),m=a(96940),g=a(29069),{createFromFetch:b,encodeReply:v}=a(12623);async function fetchServerAction(t,n){let a,{actionId:s,actionArgs:l}=n,c=await v(l),d=await fetch("",{method:"POST",headers:{Accept:o.RSC_CONTENT_TYPE_HEADER,[o.ACTION]:s,[o.NEXT_ROUTER_STATE_TREE]:encodeURIComponent(JSON.stringify(t.tree)),...t.nextUrl?{[o.NEXT_URL]:t.nextUrl}:{}},body:c}),h=d.headers.get("x-action-redirect");try{let t=JSON.parse(d.headers.get("x-action-revalidated")||"[[],0,0]");a={paths:t[0]||[],tag:!!t[1],cookie:t[2]}}catch(t){a={paths:[],tag:!1,cookie:!1}}let p=h?new URL((0,u.addBasePath)(h),new URL(t.canonicalUrl,window.location.href)):void 0;if(d.headers.get("content-type")===o.RSC_CONTENT_TYPE_HEADER){let t=await b(Promise.resolve(d),{callServer:i.callServer});if(h){let[,n]=null!=t?t:[];return{actionFlightData:n,redirectLocation:p,revalidatedParts:a}}let[n,[,o]]=null!=t?t:[];return{actionResult:n,actionFlightData:o,redirectLocation:p,revalidatedParts:a}}return{redirectLocation:p,revalidatedParts:a}}function serverActionReducer(t,n){let{mutable:a,cache:i,resolve:o,reject:u}=n,b=t.canonicalUrl,v=t.tree,S=JSON.stringify(a.previousTree)===JSON.stringify(v);if(S)return(0,m.handleMutable)(t,a);if(a.inFlightServerAction){if("fulfilled"!==a.inFlightServerAction.status&&a.globalMutable.pendingNavigatePath&&a.globalMutable.pendingNavigatePath!==b)return a.inFlightServerAction.then(()=>{a.actionResultResolved||(a.inFlightServerAction=null,a.globalMutable.pendingNavigatePath=void 0,a.globalMutable.refresh(),a.actionResultResolved=!0)},()=>{}),t}else a.inFlightServerAction=(0,s.createRecordFromThenable)(fetchServerAction(t,n));try{let{actionResult:n,actionFlightData:s,redirectLocation:u}=(0,l.readRecordValue)(a.inFlightServerAction);if(u&&(t.pushRef.pendingPush=!0,a.pendingPush=!0),a.previousTree=t.tree,!s){if(a.actionResultResolved||(o(n),a.actionResultResolved=!0),u)return(0,d.handleExternalUrl)(t,a,u.href,t.pushRef.pendingPush);return t}if("string"==typeof s)return(0,d.handleExternalUrl)(t,a,s,t.pushRef.pendingPush);for(let n of(a.inFlightServerAction=null,s)){if(3!==n.length)return console.log("SERVER ACTION APPLY FAILED"),t;let[o]=n,s=(0,h.applyRouterStatePatchToTree)([""],v,o);if(null===s)throw Error("SEGMENT MISMATCH");if((0,p.isNavigatingToNewRootLayout)(v,s))return(0,d.handleExternalUrl)(t,a,b,t.pushRef.pendingPush);let[l,u]=n.slice(-2);null!==l&&(i.status=y.CacheStates.READY,i.subTreeData=l,(0,g.fillLazyItemsTillLeafWithHead)(i,void 0,o,u),a.cache=i,a.prefetchCache=new Map),a.previousTree=v,a.patchedTree=s,a.canonicalUrl=b,v=s}if(u){let t=(0,c.createHrefFromUrl)(u,!1);a.canonicalUrl=t}return a.actionResultResolved||(o(n),a.actionResultResolved=!0),(0,m.handleMutable)(t,a)}catch(n){if("rejected"===n.status)return a.actionResultResolved||(u(n.reason),a.actionResultResolved=!0),t;throw n}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},14258:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"serverPatchReducer",{enumerable:!0,get:function(){return serverPatchReducer}});let i=a(31558),o=a(5849),s=a(50850),l=a(65913),u=a(98510),c=a(96940);function serverPatchReducer(t,n){let{flightData:a,previousTree:d,overrideCanonicalUrl:h,cache:p,mutable:y}=n,m=JSON.stringify(d)===JSON.stringify(t.tree);if(!m)return console.log("TREE MISMATCH"),t;if(y.previousTree)return(0,c.handleMutable)(t,y);if("string"==typeof a)return(0,l.handleExternalUrl)(t,y,a,t.pushRef.pendingPush);let g=t.tree,b=t.cache;for(let n of a){let a=n.slice(0,-4),[c]=n.slice(-3,-2),d=(0,o.applyRouterStatePatchToTree)(["",...a],g,c);if(null===d)throw Error("SEGMENT MISMATCH");if((0,s.isNavigatingToNewRootLayout)(g,d))return(0,l.handleExternalUrl)(t,y,t.canonicalUrl,t.pushRef.pendingPush);let m=h?(0,i.createHrefFromUrl)(h):void 0;m&&(y.canonicalUrl=m),(0,u.applyFlightData)(b,p,n),y.previousTree=g,y.patchedTree=d,y.cache=p,b=p,g=d}return(0,c.handleMutable)(t,y)}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},66165:(t,n)=>{"use strict";var a;Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{PrefetchKind:function(){return a},ACTION_REFRESH:function(){return i},ACTION_NAVIGATE:function(){return o},ACTION_RESTORE:function(){return s},ACTION_SERVER_PATCH:function(){return l},ACTION_PREFETCH:function(){return u},ACTION_FAST_REFRESH:function(){return c},ACTION_SERVER_ACTION:function(){return d}});let i="refresh",o="navigate",s="restore",l="server-patch",u="prefetch",c="fast-refresh",d="server-action";(function(t){t.AUTO="auto",t.FULL="full",t.TEMPORARY="temporary"})(a||(a={})),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},74635:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"reducer",{enumerable:!0,get:function(){return reducer}}),a(66165),a(65913),a(14258),a(3913),a(21236),a(22392),a(37892),a(318);let reducer=function(t,n){return t};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},24505:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"shouldHardNavigate",{enumerable:!0,get:function(){return function shouldHardNavigate(t,n){let[a,o]=n,[s,l]=t;if(!(0,i.matchSegment)(s,a))return!!Array.isArray(s);let u=t.length<=2;return!u&&shouldHardNavigate(t.slice(2),o[l])}}});let i=a(85324);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},74249:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createSearchParamsBailoutProxy",{enumerable:!0,get:function(){return createSearchParamsBailoutProxy}});let i=a(29420);function createSearchParamsBailoutProxy(){return new Proxy({},{get(t,n){"string"==typeof n&&(0,i.staticGenerationBailout)("searchParams."+n)}})}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},29420:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"staticGenerationBailout",{enumerable:!0,get:function(){return staticGenerationBailout}});let i=a(77743),o=a(94749);let StaticGenBailoutError=class StaticGenBailoutError extends Error{constructor(...t){super(...t),this.code="NEXT_STATIC_GEN_BAILOUT"}};function formatErrorMessage(t,n){let{dynamic:a,link:i}=n||{};return"Page"+(a?' with `dynamic = "'+a+'"`':"")+" couldn't be rendered statically because it used `"+t+"`."+(i?" See more info here: "+i:"")}let staticGenerationBailout=(t,n)=>{let a=o.staticGenerationAsyncStorage.getStore();if(null==a?void 0:a.forceStatic)return!0;if(null==a?void 0:a.dynamicShouldError){var s;throw new StaticGenBailoutError(formatErrorMessage(t,{...n,dynamic:null!=(s=null==n?void 0:n.dynamic)?s:"error"}))}if(!a||(a.revalidate=0,(null==n?void 0:n.dynamic)||(a.staticPrefetchBailout=!0)),null==a?void 0:a.isStaticGeneration){let o=new i.DynamicServerError(formatErrorMessage(t,{...n,link:"https://nextjs.org/docs/messages/dynamic-server-error"}));throw a.dynamicUsageDescription=t,a.dynamicUsageStack=o.stack,o}return!1};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},92427:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return StaticGenerationSearchParamsBailoutProvider}});let i=a(82147),o=i._(a(9885)),s=a(74249);function StaticGenerationSearchParamsBailoutProvider(t){let{Component:n,propsForComponent:a,isStaticGeneration:i}=t;if(i){let t=(0,s.createSearchParamsBailoutProxy)();return o.default.createElement(n,{searchParams:t,...a})}return o.default.createElement(n,a)}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},97028:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useReducerWithReduxDevtools",{enumerable:!0,get:function(){return useReducerWithReduxDevtools}});let i=a(9885),useReducerWithReduxDevtools=function(t,n){let[a,o]=(0,i.useReducer)(t,n);return[a,o,()=>{}]};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},49498:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"hasBasePath",{enumerable:!0,get:function(){return hasBasePath}});let i=a(36896);function hasBasePath(t){return(0,i.pathHasPrefix)(t,"")}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},81920:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"normalizePathTrailingSlash",{enumerable:!0,get:function(){return normalizePathTrailingSlash}});let i=a(3383),o=a(12125),normalizePathTrailingSlash=t=>{if(!t.startsWith("/"))return t;let{pathname:n,query:a,hash:s}=(0,o.parsePath)(t);return""+(0,i.removeTrailingSlash)(n)+a+s};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},86671:(t,n,a)=>{"use strict";function removeBasePath(t){return t}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"removeBasePath",{enumerable:!0,get:function(){return removeBasePath}}),a(49498),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},84035:(t,n)=>{"use strict";function djb2Hash(t){let n=5381;for(let a=0;a<t.length;a++){let i=t.charCodeAt(a);n=(n<<5)+n+i}return Math.abs(n)}function hexHash(t){return djb2Hash(t).toString(36).slice(0,5)}Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{djb2Hash:function(){return djb2Hash},hexHash:function(){return hexHash}})},42796:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{suspense:function(){return suspense},NoSSR:function(){return NoSSR}}),a(82147),a(9885);let i=a(42943);function suspense(){let t=Error(i.NEXT_DYNAMIC_NO_SSR_CODE);throw t.digest=i.NEXT_DYNAMIC_NO_SSR_CODE,t}function NoSSR(t){let{children:n}=t;return suspense(),n}},42943:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NEXT_DYNAMIC_NO_SSR_CODE",{enumerable:!0,get:function(){return a}});let a="NEXT_DYNAMIC_NO_SSR_CODE"},22883:(t,n)=>{"use strict";function ensureLeadingSlash(t){return t.startsWith("/")?t:"/"+t}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ensureLeadingSlash",{enumerable:!0,get:function(){return ensureLeadingSlash}})},13916:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"addPathPrefix",{enumerable:!0,get:function(){return addPathPrefix}});let i=a(12125);function addPathPrefix(t,n){if(!t.startsWith("/")||!n)return t;let{pathname:a,query:o,hash:s}=(0,i.parsePath)(t);return""+n+a+o+s}},93663:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{normalizeAppPath:function(){return normalizeAppPath},normalizeRscPath:function(){return normalizeRscPath}});let i=a(22883),o=a(48882);function normalizeAppPath(t){return(0,i.ensureLeadingSlash)(t.split("/").reduce((t,n,a,i)=>!n||(0,o.isGroupSegment)(n)||"@"===n[0]||("page"===n||"route"===n)&&a===i.length-1?t:t+"/"+n,""))}function normalizeRscPath(t,n){return n?t.replace(/\.rsc($|\?)/,"$1"):t}},21688:(t,n)=>{"use strict";function handleSmoothScroll(t,n){if(void 0===n&&(n={}),n.onlyHashChange){t();return}let a=document.documentElement,i=a.style.scrollBehavior;a.style.scrollBehavior="auto",n.dontForceLayout||a.getClientRects(),t(),a.style.scrollBehavior=i}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"handleSmoothScroll",{enumerable:!0,get:function(){return handleSmoothScroll}})},10504:(t,n)=>{"use strict";function isBot(t){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(t)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isBot",{enumerable:!0,get:function(){return isBot}})},12125:(t,n)=>{"use strict";function parsePath(t){let n=t.indexOf("#"),a=t.indexOf("?"),i=a>-1&&(n<0||a<n);return i||n>-1?{pathname:t.substring(0,i?a:n),query:i?t.substring(a,n>-1?n:void 0):"",hash:n>-1?t.slice(n):""}:{pathname:t,query:"",hash:""}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"parsePath",{enumerable:!0,get:function(){return parsePath}})},36896:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"pathHasPrefix",{enumerable:!0,get:function(){return pathHasPrefix}});let i=a(12125);function pathHasPrefix(t,n){if("string"!=typeof t)return!1;let{pathname:a}=(0,i.parsePath)(t);return a===n||a.startsWith(n+"/")}},3383:(t,n)=>{"use strict";function removeTrailingSlash(t){return t.replace(/\/$/,"")||"/"}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"removeTrailingSlash",{enumerable:!0,get:function(){return removeTrailingSlash}})},48882:(t,n)=>{"use strict";function isGroupSegment(t){return"("===t[0]&&t.endsWith(")")}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isGroupSegment",{enumerable:!0,get:function(){return isGroupSegment}})},78912:(t,n,a)=>{"use strict";var i,o,s=Object.create,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,d=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,__copyProps=(t,n,a,i)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let o of c(n))h.call(t,o)||o===a||l(t,o,{get:()=>n[o],enumerable:!(i=u(n,o))||i.enumerable});return t},__toESM=(t,n,a)=>(a=null!=t?s(d(t)):{},__copyProps(!n&&t&&t.__esModule?a:l(a,"default",{value:t,enumerable:!0}),t)),p={};((t,n)=>{for(var a in n)l(t,a,{get:n[a],enumerable:!0})})(p,{AllowlistIdentifier:()=>ea,AuthStatus:()=>eI,Clerk:()=>Clerk,Client:()=>eo,DeletedObject:()=>es,Email:()=>el,EmailAddress:()=>ed,ExternalAccount:()=>ef,IdentificationLink:()=>eu,Invitation:()=>eh,OauthAccessToken:()=>ey,ObjectType:()=>ep,Organization:()=>em,OrganizationInvitation:()=>eg,OrganizationMembership:()=>eb,OrganizationMembershipPublicUserData:()=>ev,PhoneNumber:()=>eS,RedirectUrl:()=>eC,SMSMessage:()=>ew,Session:()=>ei,SignInToken:()=>e_,Token:()=>eA,User:()=>eE,Verification:()=>ec,buildRequestUrl:()=>buildRequestUrl,constants:()=>en,createAuthenticateRequest:()=>createAuthenticateRequest,createIsomorphicRequest:()=>createIsomorphicRequest,debugRequestState:()=>debugRequestState,decodeJwt:()=>decodeJwt,deserialize:()=>deserialize,hasValidSignature:()=>hasValidSignature,loadInterstitialFromLocal:()=>loadInterstitialFromLocal,makeAuthObjectSerializable:()=>makeAuthObjectSerializable,prunePrivateMetadata:()=>prunePrivateMetadata,redirect:()=>redirect,sanitizeAuthObject:()=>sanitizeAuthObject,signedInAuthObject:()=>signedInAuthObject,signedOutAuthObject:()=>signedOutAuthObject,verifyJwt:()=>verifyJwt,verifyToken:()=>verifyToken}),t.exports=__copyProps(l({},"__esModule",{value:!0}),p);var y=class{constructor(t){this.request=t}requireId(t){if(!t)throw Error("A valid resource ID is required.")}},m=RegExp("/{1,}","g");function joinPaths(...t){return t.filter(t=>t).join("/").replace(m,"/")}var g="/allowlist_identifiers",b=class extends y{async getAllowlistIdentifierList(){return this.request({method:"GET",path:g})}async createAllowlistIdentifier(t){return this.request({method:"POST",path:g,bodyParams:t})}async deleteAllowlistIdentifier(t){return this.requireId(t),this.request({method:"DELETE",path:joinPaths(g,t)})}},v="/clients",S=class extends y{async getClientList(){return this.request({method:"GET",path:v})}async getClient(t){return this.requireId(t),this.request({method:"GET",path:joinPaths(v,t)})}verifyClient(t){return this.request({method:"POST",path:joinPaths(v,"verify"),bodyParams:{token:t}})}},C=class extends y{async deleteDomain(t){return this.request({method:"DELETE",path:joinPaths("/domains",t)})}},_="/email_addresses",w=class extends y{async getEmailAddress(t){return this.requireId(t),this.request({method:"GET",path:joinPaths(_,t)})}async createEmailAddress(t){return this.request({method:"POST",path:_,bodyParams:t})}async updateEmailAddress(t,n={}){return this.requireId(t),this.request({method:"PATCH",path:joinPaths(_,t),bodyParams:n})}async deleteEmailAddress(t){return this.requireId(t),this.request({method:"DELETE",path:joinPaths(_,t)})}},A=class extends y{async createEmail(t){return this.request({method:"POST",path:"/emails",bodyParams:t})}},P=class extends y{async getInterstitial(){return this.request({path:"internal/interstitial",method:"GET",headerParams:{"Content-Type":"text/html"}})}},E="/invitations",k=class extends y{async getInvitationList(t={}){return this.request({method:"GET",path:E,queryParams:t})}async createInvitation(t){return this.request({method:"POST",path:E,bodyParams:t})}async revokeInvitation(t){return this.requireId(t),this.request({method:"POST",path:joinPaths(E,t,"revoke")})}},R=__toESM(a(35788)),{default:B,RuntimeAbortController:O,RuntimeBlob:T,RuntimeFormData:I,RuntimeHeaders:j,RuntimeRequest:U,RuntimeResponse:N}=__toESM(a(86935)),K=B.bind(globalThis),L={crypto:R.default,fetch:K,AbortController:O,Blob:T,FormData:I,Headers:j,Request:U,Response:N},D="/organizations",M=class extends y{async getOrganizationList(t){return this.request({method:"GET",path:D,queryParams:t})}async createOrganization(t){return this.request({method:"POST",path:D,bodyParams:t})}async getOrganization(t){let n="organizationId"in t?t.organizationId:t.slug;return this.requireId(n),this.request({method:"GET",path:joinPaths(D,n)})}async updateOrganization(t,n){return this.requireId(t),this.request({method:"PATCH",path:joinPaths(D,t),bodyParams:n})}async updateOrganizationLogo(t,n){this.requireId(t);let a=new L.FormData;return a.append("file",n?.file),a.append("uploader_user_id",n?.uploaderUserId),this.request({method:"PUT",path:joinPaths(D,t,"logo"),formData:a})}async deleteOrganizationLogo(t){return this.requireId(t),this.request({method:"DELETE",path:joinPaths(D,t,"logo")})}async updateOrganizationMetadata(t,n){return this.requireId(t),this.request({method:"PATCH",path:joinPaths(D,t,"metadata"),bodyParams:n})}async deleteOrganization(t){return this.request({method:"DELETE",path:joinPaths(D,t)})}async getOrganizationMembershipList(t){let{organizationId:n,limit:a,offset:i}=t;return this.requireId(n),this.request({method:"GET",path:joinPaths(D,n,"memberships"),queryParams:{limit:a,offset:i}})}async createOrganizationMembership(t){let{organizationId:n,userId:a,role:i}=t;return this.requireId(n),this.request({method:"POST",path:joinPaths(D,n,"memberships"),bodyParams:{userId:a,role:i}})}async updateOrganizationMembership(t){let{organizationId:n,userId:a,role:i}=t;return this.requireId(n),this.request({method:"PATCH",path:joinPaths(D,n,"memberships",a),bodyParams:{role:i}})}async updateOrganizationMembershipMetadata(t){let{organizationId:n,userId:a,publicMetadata:i,privateMetadata:o}=t;return this.request({method:"PATCH",path:joinPaths(D,n,"memberships",a,"metadata"),bodyParams:{publicMetadata:i,privateMetadata:o}})}async deleteOrganizationMembership(t){let{organizationId:n,userId:a}=t;return this.requireId(n),this.request({method:"DELETE",path:joinPaths(D,n,"memberships",a)})}async getOrganizationInvitationList(t){let{organizationId:n,status:a,limit:i,offset:o}=t;return this.requireId(n),this.request({method:"GET",path:joinPaths(D,n,"invitations"),queryParams:{status:a,limit:i,offset:o}})}async getPendingOrganizationInvitationList(t){let{organizationId:n,limit:a,offset:i}=t;return this.requireId(n),this.request({method:"GET",path:joinPaths(D,n,"invitations","pending"),queryParams:{limit:a,offset:i}})}async createOrganizationInvitation(t){let{organizationId:n,...a}=t;return this.requireId(n),this.request({method:"POST",path:joinPaths(D,n,"invitations"),bodyParams:{...a}})}async getOrganizationInvitation(t){let{organizationId:n,invitationId:a}=t;return this.requireId(n),this.requireId(a),this.request({method:"GET",path:joinPaths(D,n,"invitations",a)})}async revokeOrganizationInvitation(t){let{organizationId:n,invitationId:a,requestingUserId:i}=t;return this.requireId(n),this.request({method:"POST",path:joinPaths(D,n,"invitations",a,"revoke"),bodyParams:{requestingUserId:i}})}},z="/phone_numbers",F=class extends y{async getPhoneNumber(t){return this.requireId(t),this.request({method:"GET",path:joinPaths(z,t)})}async createPhoneNumber(t){return this.request({method:"POST",path:z,bodyParams:t})}async updatePhoneNumber(t,n={}){return this.requireId(t),this.request({method:"PATCH",path:joinPaths(z,t),bodyParams:n})}async deletePhoneNumber(t){return this.requireId(t),this.request({method:"DELETE",path:joinPaths(z,t)})}},W="/redirect_urls",H=class extends y{async getRedirectUrlList(){return this.request({method:"GET",path:W})}async getRedirectUrl(t){return this.requireId(t),this.request({method:"GET",path:joinPaths(W,t)})}async createRedirectUrl(t){return this.request({method:"POST",path:W,bodyParams:t})}async deleteRedirectUrl(t){return this.requireId(t),this.request({method:"DELETE",path:joinPaths(W,t)})}},q="/sessions",V=class extends y{async getSessionList(t){return this.request({method:"GET",path:q,queryParams:t})}async getSession(t){return this.requireId(t),this.request({method:"GET",path:joinPaths(q,t)})}async revokeSession(t){return this.requireId(t),this.request({method:"POST",path:joinPaths(q,t,"revoke")})}async verifySession(t,n){return this.requireId(t),this.request({method:"POST",path:joinPaths(q,t,"verify"),bodyParams:{token:n}})}async getToken(t,n){return this.requireId(t),(await this.request({method:"POST",path:joinPaths(q,t,"tokens",n||"")})).jwt}},$="/sign_in_tokens",J=class extends y{async createSignInToken(t){return this.request({method:"POST",path:$,bodyParams:t})}async revokeSignInToken(t){return this.requireId(t),this.request({method:"POST",path:joinPaths($,t,"revoke")})}},G=class extends y{async createSMSMessage(t){return this.request({method:"POST",path:"/sms_messages",bodyParams:t})}},Y="/users",Q=class extends y{async getUserList(t={}){return this.request({method:"GET",path:Y,queryParams:t})}async getUser(t){return this.requireId(t),this.request({method:"GET",path:joinPaths(Y,t)})}async createUser(t){return this.request({method:"POST",path:Y,bodyParams:t})}async updateUser(t,n={}){return this.requireId(t),this.request({method:"PATCH",path:joinPaths(Y,t),bodyParams:n})}async updateUserProfileImage(t,n){this.requireId(t);let a=new L.FormData;return a.append("file",n?.file),this.request({method:"POST",path:joinPaths(Y,t,"profile_image"),formData:a})}async updateUserMetadata(t,n){return this.requireId(t),this.request({method:"PATCH",path:joinPaths(Y,t,"metadata"),bodyParams:n})}async deleteUser(t){return this.requireId(t),this.request({method:"DELETE",path:joinPaths(Y,t)})}async getCount(t={}){return this.request({method:"GET",path:joinPaths(Y,"count"),queryParams:t})}async getUserOauthAccessToken(t,n){return this.requireId(t),this.request({method:"GET",path:joinPaths(Y,t,"oauth_access_tokens",n)})}async disableUserMFA(t){return this.requireId(t),this.request({method:"DELETE",path:joinPaths(Y,t,"mfa")})}async getOrganizationMembershipList(t){let{userId:n,limit:a,offset:i}=t;return this.requireId(n),this.request({method:"GET",path:joinPaths(Y,n,"organization_memberships"),queryParams:{limit:a,offset:i}})}async verifyPassword(t){let{userId:n,password:a}=t;return this.requireId(n),this.request({method:"POST",path:joinPaths(Y,n,"verify_password"),bodyParams:{password:a}})}async verifyTOTP(t){let{userId:n,code:a}=t;return this.requireId(n),this.request({method:"POST",path:joinPaths(Y,n,"verify_totp"),bodyParams:{code:a}})}},X=__toESM(a(76196)),Z=__toESM(a(53918)),ee="https://api.clerk.dev",et="@clerk/backend",er={AuthStatus:"x-clerk-auth-status",AuthReason:"x-clerk-auth-reason",AuthMessage:"x-clerk-auth-message",EnableDebug:"x-clerk-debug",ClerkRedirectTo:"x-clerk-redirect-to",CloudFrontForwardedProto:"cloudfront-forwarded-proto",Authorization:"authorization",ForwardedPort:"x-forwarded-port",ForwardedProto:"x-forwarded-proto",ForwardedHost:"x-forwarded-host",Referrer:"referer",UserAgent:"user-agent",Origin:"origin",Host:"host",ContentType:"content-type"},en={Attributes:{AuthStatus:"__clerkAuthStatus",AuthReason:"__clerkAuthReason",AuthMessage:"__clerkAuthMessage"},Cookies:{Session:"__session",ClientUat:"__client_uat"},Headers:er,SearchParams:{AuthStatus:er.AuthStatus},ContentTypes:{Json:"application/json"}};function assertValidSecretKey(t){if(!t||"string"!=typeof t)throw Error("Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.")}var ea=class{constructor(t,n,a,i,o){this.id=t,this.identifier=n,this.createdAt=a,this.updatedAt=i,this.invitationId=o}static fromJSON(t){return new ea(t.id,t.identifier,t.created_at,t.updated_at,t.invitation_id)}},ei=class{constructor(t,n,a,i,o,s,l,u,c){this.id=t,this.clientId=n,this.userId=a,this.status=i,this.lastActiveAt=o,this.expireAt=s,this.abandonAt=l,this.createdAt=u,this.updatedAt=c}static fromJSON(t){return new ei(t.id,t.client_id,t.user_id,t.status,t.last_active_at,t.expire_at,t.abandon_at,t.created_at,t.updated_at)}},eo=class{constructor(t,n,a,i,o,s,l,u){this.id=t,this.sessionIds=n,this.sessions=a,this.signInId=i,this.signUpId=o,this.lastActiveSessionId=s,this.createdAt=l,this.updatedAt=u}static fromJSON(t){return new eo(t.id,t.session_ids,t.sessions.map(t=>ei.fromJSON(t)),t.sign_in_id,t.sign_up_id,t.last_active_session_id,t.created_at,t.updated_at)}},es=class{constructor(t,n,a,i){this.object=t,this.id=n,this.slug=a,this.deleted=i}static fromJSON(t){return new es(t.object,t.id||null,t.slug||null,t.deleted)}},el=class{constructor(t,n,a,i,o,s,l,u,c,d,h){this.id=t,this.fromEmailName=n,this.emailAddressId=a,this.toEmailAddress=i,this.subject=o,this.body=s,this.bodyPlain=l,this.status=u,this.slug=c,this.data=d,this.deliveredByClerk=h}static fromJSON(t){return new el(t.id,t.from_email_name,t.email_address_id,t.to_email_address,t.subject,t.body,t.body_plain,t.status,t.slug,t.data,t.delivered_by_clerk)}},eu=class{constructor(t,n){this.id=t,this.type=n}static fromJSON(t){return new eu(t.id,t.type)}},ec=class{constructor(t,n,a=null,i=null,o=null,s=null){this.status=t,this.strategy=n,this.externalVerificationRedirectURL=a,this.attempts=i,this.expireAt=o,this.nonce=s}static fromJSON(t){return new ec(t.status,t.strategy,t.external_verification_redirect_url?new URL(t.external_verification_redirect_url):null,t.attempts,t.expire_at,t.nonce)}},ed=class{constructor(t,n,a,i){this.id=t,this.emailAddress=n,this.verification=a,this.linkedTo=i}static fromJSON(t){return new ed(t.id,t.email_address,t.verification&&ec.fromJSON(t.verification),t.linked_to.map(t=>eu.fromJSON(t)))}},ef=class{constructor(t,n,a,i,o,s,l,u,c,d,h,p={},y,m){this.id=t,this.provider=n,this.identificationId=a,this.externalId=i,this.approvedScopes=o,this.emailAddress=s,this.firstName=l,this.lastName=u,this.picture=c,this.imageUrl=d,this.username=h,this.publicMetadata=p,this.label=y,this.verification=m}static fromJSON(t){return new ef(t.id,t.provider,t.identification_id,t.provider_user_id,t.approved_scopes,t.email_address,t.first_name,t.last_name,t.avatar_url,t.image_url,t.username,t.public_metadata,t.label,t.verification&&ec.fromJSON(t.verification))}},eh=class{constructor(t,n,a,i,o,s,l){this.id=t,this.emailAddress=n,this.publicMetadata=a,this.createdAt=i,this.updatedAt=o,this.status=s,this.revoked=l}static fromJSON(t){return new eh(t.id,t.email_address,t.public_metadata,t.created_at,t.updated_at,t.status,t.revoked)}},ep=((i=ep||{}).AllowlistIdentifier="allowlist_identifier",i.Client="client",i.Email="email",i.EmailAddress="email_address",i.ExternalAccount="external_account",i.FacebookAccount="facebook_account",i.GoogleAccount="google_account",i.Invitation="invitation",i.OauthAccessToken="oauth_access_token",i.Organization="organization",i.OrganizationInvitation="organization_invitation",i.OrganizationMembership="organization_membership",i.PhoneNumber="phone_number",i.RedirectUrl="redirect_url",i.Session="session",i.SignInAttempt="sign_in_attempt",i.SignInToken="sign_in_token",i.SignUpAttempt="sign_up_attempt",i.SmsMessage="sms_message",i.User="user",i.Web3Wallet="web3_wallet",i.Token="token",i.TotalCount="total_count",i),ey=class{constructor(t,n,a={},i,o,s){this.provider=t,this.token=n,this.publicMetadata=a,this.label=i,this.scopes=o,this.tokenSecret=s}static fromJSON(t){return new ey(t.provider,t.token,t.public_metadata,t.label,t.scopes,t.token_secret)}},em=class{constructor(t,n,a,i,o,s,l,u,c,d={},h={},p,y,m){this.id=t,this.name=n,this.slug=a,this.logoUrl=i,this.imageUrl=o,this.hasImage=s,this.createdBy=l,this.createdAt=u,this.updatedAt=c,this.publicMetadata=d,this.privateMetadata=h,this.maxAllowedMemberships=p,this.adminDeleteEnabled=y,this.members_count=m}static fromJSON(t){return new em(t.id,t.name,t.slug,t.logo_url,t.image_url,t.has_image,t.created_by,t.created_at,t.updated_at,t.public_metadata,t.private_metadata,t.max_allowed_memberships,t.admin_delete_enabled,t.members_count)}},eg=class{constructor(t,n,a,i,o,s,l,u={},c={}){this.id=t,this.emailAddress=n,this.role=a,this.organizationId=i,this.createdAt=o,this.updatedAt=s,this.status=l,this.publicMetadata=u,this.privateMetadata=c}static fromJSON(t){return new eg(t.id,t.email_address,t.role,t.organization_id,t.created_at,t.updated_at,t.status,t.public_metadata,t.private_metadata)}},eb=class{constructor(t,n,a={},i={},o,s,l,u){this.id=t,this.role=n,this.publicMetadata=a,this.privateMetadata=i,this.createdAt=o,this.updatedAt=s,this.organization=l,this.publicUserData=u}static fromJSON(t){return new eb(t.id,t.role,t.public_metadata,t.private_metadata,t.created_at,t.updated_at,em.fromJSON(t.organization),ev.fromJSON(t.public_user_data))}},ev=class{constructor(t,n,a,i,o,s,l){this.identifier=t,this.firstName=n,this.lastName=a,this.profileImageUrl=i,this.imageUrl=o,this.hasImage=s,this.userId=l}static fromJSON(t){return new ev(t.identifier,t.first_name,t.last_name,t.profile_image_url,t.image_url,t.has_image,t.user_id)}},eS=class{constructor(t,n,a,i,o,s){this.id=t,this.phoneNumber=n,this.reservedForSecondFactor=a,this.defaultSecondFactor=i,this.verification=o,this.linkedTo=s}static fromJSON(t){return new eS(t.id,t.phone_number,t.reserved_for_second_factor,t.default_second_factor,t.verification&&ec.fromJSON(t.verification),t.linked_to.map(t=>eu.fromJSON(t)))}},eC=class{constructor(t,n,a,i){this.id=t,this.url=n,this.createdAt=a,this.updatedAt=i}static fromJSON(t){return new eC(t.id,t.url,t.created_at,t.updated_at)}},e_=class{constructor(t,n,a,i,o,s,l){this.id=t,this.userId=n,this.token=a,this.status=i,this.url=o,this.createdAt=s,this.updatedAt=l}static fromJSON(t){return new e_(t.id,t.user_id,t.token,t.status,t.url,t.created_at,t.updated_at)}},ew=class{constructor(t,n,a,i,o,s,l){this.id=t,this.fromPhoneNumber=n,this.toPhoneNumber=a,this.message=i,this.status=o,this.phoneNumberId=s,this.data=l}static fromJSON(t){return new ew(t.id,t.from_phone_number,t.to_phone_number,t.message,t.status,t.phone_number_id,t.data)}},eA=class{constructor(t){this.jwt=t}static fromJSON(t){return new eA(t.jwt)}},eP=class{constructor(t,n,a){this.id=t,this.web3Wallet=n,this.verification=a}static fromJSON(t){return new eP(t.id,t.web3_wallet,t.verification&&ec.fromJSON(t.verification))}},eE=class{constructor(t,n,a,i,o,s,l,u,c,d,h,p,y,m,g,b,v,S,C,_,w,A={},P={},E={},k=[],R=[],B=[],O=[]){this.id=t,this.passwordEnabled=n,this.totpEnabled=a,this.backupCodeEnabled=i,this.twoFactorEnabled=o,this.banned=s,this.createdAt=l,this.updatedAt=u,this.profileImageUrl=c,this.imageUrl=d,this.hasImage=h,this.gender=p,this.birthday=y,this.primaryEmailAddressId=m,this.primaryPhoneNumberId=g,this.primaryWeb3WalletId=b,this.lastSignInAt=v,this.externalId=S,this.username=C,this.firstName=_,this.lastName=w,this.publicMetadata=A,this.privateMetadata=P,this.unsafeMetadata=E,this.emailAddresses=k,this.phoneNumbers=R,this.web3Wallets=B,this.externalAccounts=O}static fromJSON(t){return new eE(t.id,t.password_enabled,t.totp_enabled,t.backup_code_enabled,t.two_factor_enabled,t.banned,t.created_at,t.updated_at,t.profile_image_url,t.image_url,t.has_image,t.gender,t.birthday,t.primary_email_address_id,t.primary_phone_number_id,t.primary_web3_wallet_id,t.last_sign_in_at,t.external_id,t.username,t.first_name,t.last_name,t.public_metadata,t.private_metadata,t.unsafe_metadata,(t.email_addresses||[]).map(t=>ed.fromJSON(t)),(t.phone_numbers||[]).map(t=>eS.fromJSON(t)),(t.web3_wallets||[]).map(t=>eP.fromJSON(t)),(t.external_accounts||[]).map(t=>ef.fromJSON(t)))}};function deserialize(t){return Array.isArray(t)?t.map(t=>jsonToObject(t)):Array.isArray(t.data)&&void 0!==t.data?t.data.map(t=>jsonToObject(t)):jsonToObject(t)}function jsonToObject(t){if("string"!=typeof t&&"object"in t&&"deleted"in t)return es.fromJSON(t);switch(t.object){case"allowlist_identifier":return ea.fromJSON(t);case"client":return eo.fromJSON(t);case"email_address":return ed.fromJSON(t);case"email":return el.fromJSON(t);case"invitation":return eh.fromJSON(t);case"oauth_access_token":return ey.fromJSON(t);case"organization":return em.fromJSON(t);case"organization_invitation":return eg.fromJSON(t);case"organization_membership":return eb.fromJSON(t);case"phone_number":return eS.fromJSON(t);case"redirect_url":return eC.fromJSON(t);case"sign_in_token":return e_.fromJSON(t);case"session":return ei.fromJSON(t);case"sms_message":return ew.fromJSON(t);case"token":return eA.fromJSON(t);case"total_count":return t.total_count;case"user":return eE.fromJSON(t);default:return t}}var withLegacyReturn=t=>async(...n)=>{let{data:a,errors:i,status:o,statusText:s}=await t(...n);if(null===i)return a;throw new ek(s||"",{data:i,status:o||""})};function parseError(t){return{code:t.code,message:t.message,longMessage:t.long_message,meta:{paramName:t?.meta?.param_name,sessionId:t?.meta?.session_id}}}var ek=class extends Error{constructor(t,{data:n,status:a}){super(t),Object.setPrototypeOf(this,ek.prototype),this.clerkError=!0,this.message=t,this.status=a,this.errors=n}};function createBackendApiClient(t){let n=function(t){let request=async n=>{let a;let{apiKey:i,secretKey:o,apiUrl:s=ee,apiVersion:l="v1",userAgent:u=et,httpOptions:c={}}=t,{path:d,method:h,queryParams:p,headerParams:y,bodyParams:m,formData:g}=n,b=o||i;assertValidSecretKey(b);let v=joinPaths(s,l,d),S=new URL(v);if(p){let t=(0,Z.default)({...p});for(let[n,a]of Object.entries(t))a&&[a].flat().forEach(t=>S.searchParams.append(n,t))}let C={Authorization:`Bearer ${b}`,"Clerk-Backend-SDK":u,...y};try{if(g)a=await L.fetch(S.href,{...c,method:h,headers:C,body:g});else{C["Content-Type"]="application/json";let t="GET"!==h&&m&&Object.keys(m).length>0,n=t?{body:JSON.stringify((0,Z.default)(m,{deep:!1}))}:null;a=await L.fetch(S.href,(0,X.default)(c,{method:h,headers:C,...n}))}let t=a?.headers&&a.headers?.get(en.Headers.ContentType)===en.ContentTypes.Json,n=await (t?a.json():a.text());if(!a.ok)throw n;return{data:deserialize(n),errors:null}}catch(t){if(t instanceof Error)return{data:null,errors:[{code:"unexpected_error",message:t.message||"Unexpected error"}]};return{data:null,errors:function(t){if(t&&"object"==typeof t&&"errors"in t){let n=t.errors;return n.length>0?n.map(parseError):[]}return[]}(t),status:a?.status,statusText:a?.statusText}}};return withLegacyReturn(request)}(t);return{allowlistIdentifiers:new b(n),clients:new S(n),emailAddresses:new w(n),emails:new A(n),interstitial:new P(n),invitations:new k(n),organizations:new M(n),phoneNumbers:new F(n),redirectUrls:new H(n),sessions:new V(n),signInTokens:new J(n),smsMessages:new G(n),users:new Q(n),domains:new C(n)}}var createDebug=t=>()=>{let n={...t};return n.apiKey=(n.apiKey||"").substring(0,7),n.secretKey=(n.secretKey||"").substring(0,7),n.jwtKey=(n.jwtKey||"").substring(0,7),{...n}};function signedInAuthObject(t,n,a){let{act:i,sid:o,org_id:s,org_role:l,org_slug:u,sub:c}=t,{apiKey:d,secretKey:h,apiUrl:p,apiVersion:y,token:m,session:g,user:b,organization:v}=n,{sessions:S}=createBackendApiClient({apiKey:d,secretKey:h,apiUrl:p,apiVersion:y}),C=createGetToken({sessionId:o,sessionToken:m,fetcher:(...t)=>S.getToken(...t)});return{actor:i,sessionClaims:t,sessionId:o,session:g,userId:c,user:b,orgId:s,orgRole:l,orgSlug:u,organization:v,getToken:C,debug:createDebug({...n,...a})}}function signedOutAuthObject(t){return{sessionClaims:null,sessionId:null,session:null,userId:null,user:null,actor:null,orgId:null,orgRole:null,orgSlug:null,organization:null,getToken:()=>Promise.resolve(null),debug:createDebug(t)}}function prunePrivateMetadata(t){return t&&(delete t.privateMetadata,delete t.private_metadata),t}function sanitizeAuthObject(t){let n=t.user?{...t.user}:t.user,a=t.organization?{...t.organization}:t.organization;return prunePrivateMetadata(n),prunePrivateMetadata(a),{...t,user:n,organization:a}}var makeAuthObjectSerializable=t=>{let{debug:n,getToken:a,...i}=t;return i},createGetToken=t=>{let{fetcher:n,sessionToken:a,sessionId:i}=t||{};return async(t={})=>i?t.template?n(i,t.template):a:null};function isDevelopmentFromApiKey(t){return t.startsWith("test_")||t.startsWith("sk_test_")}var getClerkJsMajorVersionOrTag=(t,n)=>!n&&function(t){return t.endsWith(".lclstage.dev")||t.endsWith(".stgstage.dev")||t.endsWith(".clerkstage.dev")||t.endsWith(".accountsstage.dev")}(t)?"staging":n?n.includes("next")?"next":n.split(".")[0]||"latest":"latest",getScriptUrl=(t,{pkgVersion:n,clerkJSVersion:a})=>{let i=t.replace(/http(s)?:\/\//,""),o=getClerkJsMajorVersionOrTag(t,n);return`https://${i}/npm/@clerk/clerk-js@${a||o}/dist/clerk.browser.js`};async function callWithRetry(t,n=1,a=5){try{return await t()}catch(o){var i;if(n>=a)throw o;return await (i=2**n*100,new Promise(t=>setTimeout(t,i))),callWithRetry(t,n+1)}}var{isDevOrStagingUrl:eR}=function(){let t=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],n=new Map;return{isDevOrStagingUrl:a=>{if(!a)return!1;let i="string"==typeof a?a:a.hostname,o=n.get(i);return void 0===o&&(o=t.some(t=>i.endsWith(t)),n.set(i,o)),o}}}(),eB="pk_live_";function parsePublishableKey(t){if(!function(t){t=t||"";let n=t.startsWith(eB)||t.startsWith("pk_test_"),a=isomorphicAtob(t.split("_")[2]||"").endsWith("$");return n&&a}(t=t||""))return null;let n=t.startsWith(eB)?"production":"development",a=isomorphicAtob(t.split("_")[2]);return a.endsWith("$")?{instanceType:n,frontendApi:a=a.slice(0,-1)}:null}var isomorphicAtob=t=>"undefined"!=typeof atob&&"function"==typeof atob?atob(t):"undefined"!=typeof globalThis&&globalThis.Buffer?new globalThis.Buffer(t,"base64").toString():t,eO="Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",eT=class extends Error{constructor({action:t,message:n,reason:a}){super(n),Object.setPrototypeOf(this,eT.prototype),this.reason=a,this.message=n,this.action=t}getFullMessage(){return`${[this.message,this.action].filter(t=>t).join(" ")} (reason=${this.reason}, token-carrier=${this.tokenCarrier})`}};function loadInterstitialFromLocal(t){t.frontendApi=parsePublishableKey(t.publishableKey)?.frontendApi||t.frontendApi||"";let n=eR(t.frontendApi)?"":function(t){let n;if(!t)return"";if(t.match(/^(clerk\.)+\w*$/))n=/(clerk\.)*(?=clerk\.)/;else{if(t.match(/\.clerk.accounts/))return t;n=/^(clerk\.)*/gi}let a=t.replace(n,"");return`clerk.${a}`}(t.domain),{debugData:a,frontendApi:i,pkgVersion:o,clerkJSUrl:s,clerkJSVersion:l,publishableKey:u,proxyUrl:c,isSatellite:d=!1,domain:h,signInUrl:p}=t;return`
    <head>
        <meta charset="UTF-8" />
    </head>
    <body>
        <script>
            window.__clerk_frontend_api = '${i}';
            window.__clerk_debug = ${JSON.stringify(a||{})};
            ${c?`window.__clerk_proxy_url = '${c}'`:""}
            ${h?`window.__clerk_domain = '${h}'`:""}
            window.startClerk = async () => {
                function formRedirect(){
                    const form = '<form method="get" action="" name="redirect"></form>';
                    document.body.innerHTML = document.body.innerHTML + form;

                    const searchParams = new URLSearchParams(window.location.search);
                    for (let paramTuple of searchParams) {
                        const input = document.createElement("input");
                        input.type = "hidden";
                        input.name = paramTuple[0];
                        input.value = paramTuple[1];
                        document.forms.redirect.appendChild(input);
                    }
                    const url = new URL(window.location.origin + window.location.pathname + window.location.hash);
                    window.history.pushState({}, '', url);

                    document.forms.redirect.action = window.location.pathname + window.location.hash;
                    document.forms.redirect.submit();
                }

                const Clerk = window.Clerk;
                try {
                    await Clerk.load({
                        isSatellite: ${d},
                        isInterstitial: true,
                        signInUrl: ${p?`'${p}'`:void 0}
                    });
                    if(Clerk.loaded){
                      if(window.location.href.indexOf("#") === -1){
                        window.location.href = window.location.href;
                      } else if (window.navigator.userAgent.toLowerCase().includes("firefox/")){
                          formRedirect();
                      } else {
                          window.location.reload();
                      }
                    }
                } catch (err) {
                    console.error('Clerk: ', err);
                }
            };
            (() => {
                const script = document.createElement('script');
                ${u?`script.setAttribute('data-clerk-publishable-key', '${u}');`:`script.setAttribute('data-clerk-frontend-api', '${i}');`}

                ${h?`script.setAttribute('data-clerk-domain', '${h}');`:""}
                ${c?`script.setAttribute('data-clerk-proxy-url', '${c}')`:""};
                script.async = true;
                script.src = '${s||getScriptUrl(c||n||i,{pkgVersion:o,clerkJSVersion:l})}';
                script.crossOrigin = 'anonymous';
                script.addEventListener('load', startClerk);
                document.body.appendChild(script);
            })();
        </script>
    </body>
`}async function loadInterstitialFromBAPI(t){t.frontendApi=parsePublishableKey(t.publishableKey)?.frontendApi||t.frontendApi||"";let n=buildPublicInterstitialUrl(t),a=await callWithRetry(()=>L.fetch(buildPublicInterstitialUrl(t),{method:"GET",headers:{"Clerk-Backend-SDK":t.userAgent||et}}));if(!a.ok)throw new eT({action:"Contact support@clerk.com",message:`Error loading Clerk Interstitial from ${n} with code=${a.status}`,reason:"interstitial-remote-failed-to-load"});return a.text()}function buildPublicInterstitialUrl(t){t.frontendApi=parsePublishableKey(t.publishableKey)?.frontendApi||t.frontendApi||"";let{apiUrl:n,frontendApi:a,pkgVersion:i,clerkJSVersion:o,publishableKey:s,proxyUrl:l,isSatellite:u,domain:c,signInUrl:d}=t,h=new URL(n);return h.pathname=joinPaths(h.pathname,"v1","/public/interstitial"),h.searchParams.append("clerk_js_version",o||getClerkJsMajorVersionOrTag(a,i)),s?h.searchParams.append("publishable_key",s):h.searchParams.append("frontend_api",a),l&&h.searchParams.append("proxy_url",l),u&&h.searchParams.append("is_satellite","true"),h.searchParams.append("sign_in_url",d||""),eR(t.frontendApi)||h.searchParams.append("use_domain_for_script","true"),c&&h.searchParams.append("domain",c),h.href}var ex=a(50002),getHeader=(t,n)=>t.headers.get(n),getFirstValueFromHeader=t=>t?.split(",")[0],buildRequestUrl=(t,n)=>{let a=new URL(t.url),i=getHeader(t,en.Headers.ForwardedProto),o=getHeader(t,en.Headers.ForwardedHost),s=getHeader(t,en.Headers.Host),l=a.protocol,u=buildOrigin({protocol:l,forwardedProto:i,forwardedHost:o,host:s||a.host});return new URL(n||a.pathname,u)},buildOrigin=({protocol:t,forwardedProto:n,forwardedHost:a,host:i})=>{let o=getFirstValueFromHeader(a)??i,s=getFirstValueFromHeader(n)??t?.replace(/[:/]/,"");return o&&s?`${s}://${o}`:""},createIsomorphicRequest=t=>{let n=t(L.Request,L.Headers),a=buildRequestUrl(n);return new L.Request(a,n)},buildRequest2=t=>{if(!t)return{};let n=parseIsomorphicRequestCookies(t),a=getHeaderFromIsomorphicRequest(t),i=getSearchParamsFromIsomorphicRequest(t);return{cookies:n,headers:a,searchParams:i}},decode=t=>t?t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):t,parseIsomorphicRequestCookies=t=>{let n=t.headers&&t.headers?.get("cookie")?(0,ex.parse)(t.headers.get("cookie")):{};return t=>{let a=n?.[t];if(void 0!==a)return decode(a)}},getHeaderFromIsomorphicRequest=t=>n=>t?.headers?.get(n)||void 0,getSearchParamsFromIsomorphicRequest=t=>t?.url?new URL(t.url)?.searchParams:void 0,stripAuthorizationHeader=t=>t?.replace("Bearer ",""),eI=((o=eI||{}).SignedIn="signed-in",o.SignedOut="signed-out",o.Interstitial="interstitial",o.Unknown="unknown",o);async function signedIn(t,n){let{apiKey:a,secretKey:i,apiUrl:o,apiVersion:s,cookieToken:l,frontendApi:u,proxyUrl:c,publishableKey:d,domain:h,isSatellite:p,headerToken:y,loadSession:m,loadUser:g,loadOrganization:b,signInUrl:v,signUpUrl:S,afterSignInUrl:C,afterSignUpUrl:_}=t,{sid:w,org_id:A,sub:P}=n,{sessions:E,users:k,organizations:R}=createBackendApiClient({apiKey:a,secretKey:i,apiUrl:o,apiVersion:s}),[B,O,T]=await Promise.all([m?E.getSession(w):Promise.resolve(void 0),g?k.getUser(P):Promise.resolve(void 0),b&&A?R.getOrganization({organizationId:A}):Promise.resolve(void 0)]),I=signedInAuthObject(n,{secretKey:i,apiKey:a,apiUrl:o,apiVersion:s,token:l||y||"",session:B,user:O,organization:T},{...t,status:"signed-in"});return{status:"signed-in",reason:null,message:null,frontendApi:u,proxyUrl:c,publishableKey:d,domain:h,isSatellite:p,signInUrl:v,signUpUrl:S,afterSignInUrl:C,afterSignUpUrl:_,isSignedIn:!0,isInterstitial:!1,isUnknown:!1,toAuth:()=>I}}function signedOut(t,n,a=""){let{frontendApi:i,publishableKey:o,proxyUrl:s,isSatellite:l,domain:u,signInUrl:c,signUpUrl:d,afterSignInUrl:h,afterSignUpUrl:p}=t;return{status:"signed-out",reason:n,message:a,frontendApi:i,proxyUrl:s,publishableKey:o,isSatellite:l,domain:u,signInUrl:c,signUpUrl:d,afterSignInUrl:h,afterSignUpUrl:p,isSignedIn:!1,isInterstitial:!1,isUnknown:!1,toAuth:()=>signedOutAuthObject({...t,status:"signed-out",reason:n,message:a})}}function interstitial(t,n,a=""){let{frontendApi:i,publishableKey:o,proxyUrl:s,isSatellite:l,domain:u,signInUrl:c,signUpUrl:d,afterSignInUrl:h,afterSignUpUrl:p}=t;return{status:"interstitial",reason:n,message:a,frontendApi:i,publishableKey:o,isSatellite:l,domain:u,proxyUrl:s,signInUrl:c,signUpUrl:d,afterSignInUrl:h,afterSignUpUrl:p,isSignedIn:!1,isInterstitial:!0,isUnknown:!1,toAuth:()=>null}}function checkCrossOrigin({originURL:t,host:n,forwardedHost:a,forwardedProto:i}){let o=buildOrigin({forwardedProto:i,forwardedHost:a,protocol:t.protocol,host:n});return o&&new URL(o).origin!==t.origin}var getErrorObjectByCode=(t,n)=>t?t.find(t=>t.code===n):null,ej={parse:(t,n)=>(function(t,n,a={}){if(!n.codes){n.codes={};for(let t=0;t<n.chars.length;++t)n.codes[n.chars[t]]=t}if(!a.loose&&t.length*n.bits&7)throw SyntaxError("Invalid padding");let i=t.length;for(;"="===t[i-1];)if(--i,!a.loose&&!((t.length-i)*n.bits&7))throw SyntaxError("Invalid padding");let o=new(a.out??Uint8Array)(i*n.bits/8|0),s=0,l=0,u=0;for(let a=0;a<i;++a){let i=n.codes[t[a]];if(void 0===i)throw SyntaxError("Invalid character "+t[a]);l=l<<n.bits|i,(s+=n.bits)>=8&&(s-=8,o[u++]=255&l>>s)}if(s>=n.bits||255&l<<8-s)throw SyntaxError("Unexpected end of data");return o})(t,eU,n),stringify:(t,n)=>(function(t,n,a={}){let{pad:i=!0}=a,o=(1<<n.bits)-1,s="",l=0,u=0;for(let a=0;a<t.length;++a)for(u=u<<8|255&t[a],l+=8;l>n.bits;)l-=n.bits,s+=n.chars[o&u>>l];if(l&&(s+=n.chars[o&u<<n.bits-l]),i)for(;s.length*n.bits&7;)s+="=";return s})(t,eU,n)},eU={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6},eN={RS256:"SHA-256",RS384:"SHA-384",RS512:"SHA-512",ES256:"SHA-256",ES384:"SHA-384",ES512:"SHA-512"},eK=Object.keys(eN),isArrayString=t=>Array.isArray(t)&&t.length>0&&t.every(t=>"string"==typeof t),assertAudienceClaim=(t,n)=>{let a=[n].flat().filter(t=>!!t),i=[t].flat().filter(t=>!!t),o=a.length>0&&i.length>0;if(o){if("string"==typeof t){if(!a.includes(t))throw new eT({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT audience claim (aud) ${JSON.stringify(t)}. Is not included in "${JSON.stringify(a)}".`})}else if(isArrayString(t)&&!t.some(t=>a.includes(t)))throw new eT({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT audience claim array (aud) ${JSON.stringify(t)}. Is not included in "${JSON.stringify(a)}".`})}},assertHeaderType=t=>{if(void 0!==t&&"JWT"!==t)throw new eT({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-invalid",message:`Invalid JWT type ${JSON.stringify(t)}. Expected "JWT".`})},assertHeaderAlgorithm=t=>{if(!eN[t])throw new eT({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-invalid-algorithm",message:`Invalid JWT algorithm ${JSON.stringify(t)}. Supported: ${eK}.`})},assertSubClaim=t=>{if("string"!=typeof t)throw new eT({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Subject claim (sub) is required and must be a string. Received ${JSON.stringify(t)}.`})},assertAuthorizedPartiesClaim=(t,n)=>{if(t&&n&&0!==n.length&&!n.includes(t))throw new eT({reason:"token-invalid-authorized-parties",message:`Invalid JWT Authorized party claim (azp) ${JSON.stringify(t)}. Expected "${n}".`})},assertIssuerClaim=(t,n)=>{if("function"!=typeof n||n(t)){if("string"==typeof n&&t&&t!==n)throw new eT({reason:"token-invalid-issuer",message:`Invalid JWT issuer claim (iss) ${JSON.stringify(t)}. Expected "${n}".`})}else throw new eT({reason:"token-invalid-issuer",message:"Failed JWT issuer resolver. Make sure that the resolver returns a truthy value."})},assertExpirationClaim=(t,n)=>{if("number"!=typeof t)throw new eT({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT expiry date claim (exp) ${JSON.stringify(t)}. Expected number.`});let a=new Date(Date.now()),i=new Date(0);i.setUTCSeconds(t);let o=i.getTime()<=a.getTime()-n;if(o)throw new eT({reason:"token-expired",message:`JWT is expired. Expiry date: ${i.toUTCString()}, Current date: ${a.toUTCString()}.`})},assertActivationClaim=(t,n)=>{if(void 0===t)return;if("number"!=typeof t)throw new eT({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT not before date claim (nbf) ${JSON.stringify(t)}. Expected number.`});let a=new Date(Date.now()),i=new Date(0);i.setUTCSeconds(t);let o=i.getTime()>a.getTime()+n;if(o)throw new eT({reason:"token-not-active-yet",message:`JWT cannot be used prior to not before date claim (nbf). Not before date: ${i.toUTCString()}; Current date: ${a.toUTCString()};`})},assertIssuedAtClaim=(t,n)=>{if(void 0===t)return;if("number"!=typeof t)throw new eT({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT issued at date claim (iat) ${JSON.stringify(t)}. Expected number.`});let a=new Date(Date.now()),i=new Date(0);i.setUTCSeconds(t);let o=i.getTime()>a.getTime()+n;if(o)throw new eT({reason:"token-not-active-yet",message:`JWT issued at date claim (iat) is in the future. Issued at date: ${i.toUTCString()}; Current date: ${a.toUTCString()};`})},eL="RSASSA-PKCS1-v1_5",eD="ECDSA",eM={RS256:eL,RS384:eL,RS512:eL,ES256:eD,ES384:eD,ES512:eD};async function hasValidSignature(t,n){let{header:a,signature:i,raw:o}=t,s=new TextEncoder,l=s.encode([o.header,o.payload].join(".")),u=await L.crypto.subtle.importKey("jwk",n,{name:eM[a.alg],hash:eN[a.alg]},!1,["verify"]);return L.crypto.subtle.verify("RSASSA-PKCS1-v1_5",u,i,l)}function decodeJwt(t){let n=(t||"").toString().split(".");if(3!==n.length)throw new eT({reason:"token-invalid",message:"Invalid JWT form. A JWT consists of three parts separated by dots."});let[a,i,o]=n,s=new TextDecoder,l=JSON.parse(s.decode(ej.parse(a,{loose:!0}))),u=JSON.parse(s.decode(ej.parse(i,{loose:!0}))),c=ej.parse(o,{loose:!0});return{header:l,payload:u,signature:c,raw:{header:a,payload:i,signature:o,text:t}}}async function verifyJwt(t,{audience:n,authorizedParties:a,clockSkewInSeconds:i,clockSkewInMs:o,issuer:s,key:l}){let u;let c=o||i||5e3,d=decodeJwt(t),{header:h,payload:p}=d,{typ:y,alg:m}=h;assertHeaderType(y),assertHeaderAlgorithm(m);let{azp:g,sub:b,aud:v,iss:S,iat:C,exp:_,nbf:w}=p;assertSubClaim(b),assertAudienceClaim([v],[n]),assertAuthorizedPartiesClaim(g,a),assertIssuerClaim(S,s),assertExpirationClaim(_,c),assertActivationClaim(w,c),assertIssuedAtClaim(C,c);try{u=await hasValidSignature(d,l)}catch(t){throw new eT({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Error verifying JWT signature. ${t}`})}if(!u)throw new eT({reason:"token-invalid-signature",message:"JWT signature is invalid."});return p}var ez={},eF=0;function setInCache(t,n=36e5){ez[t.kid]=t,eF=Date.now(),n>=0&&setTimeout(()=>{t?delete ez[t.kid]:ez={}},n)}var eW="local";async function loadClerkJWKFromRemote({apiKey:t,secretKey:n,apiUrl:a=ee,apiVersion:i="v1",issuer:o,kid:s,jwksCacheTtlInMs:l=36e5,skipJwksCache:u}){let c=!ez[s]&&Date.now()-eF>=3e5;if(u||c){let s;let u=n||t;if(u)s=()=>fetchJWKSFromBAPI(a,u,i);else if(o)s=()=>fetchJWKSFromFAPI(o);else throw new eT({action:"Contact support@clerk.com",message:"Failed to load JWKS from Clerk Backend or Frontend API.",reason:"jwk-remote-failed-to-load"});let{keys:c}=await callWithRetry(s);if(!c||!c.length)throw new eT({action:"Contact support@clerk.com",message:"The JWKS endpoint did not contain any signing keys. Contact support@clerk.com.",reason:"jwk-remote-failed-to-load"});c.forEach(t=>setInCache(t,l))}let d=ez[s];if(!d){let t=Object.values(ez),n=t.map(t=>t.kid).join(", ");throw new eT({action:"Contact support@clerk.com",message:`Unable to find a signing key in JWKS that matches the kid='${s}' of the provided session token. Please make sure that the __session cookie or the HTTP authorization header contain a Clerk-generated session JWT.${n?` The following kid are available: ${n}`:""}`,reason:"jwk-remote-missing"})}return d}async function fetchJWKSFromFAPI(t){let n=new URL(t);n.pathname=joinPaths(n.pathname,".well-known/jwks.json");let a=await L.fetch(n.href);if(!a.ok)throw new eT({action:"Contact support@clerk.com",message:`Error loading Clerk JWKS from ${n.href} with code=${a.status}`,reason:"jwk-remote-failed-to-load"});return a.json()}async function fetchJWKSFromBAPI(t,n,a){if(!n)throw new eT({action:"Set the CLERK_SECRET_KEY or CLERK_API_KEY environment variable.",message:"Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.",reason:"jwk-remote-failed-to-load"});let i=new URL(t);i.pathname=joinPaths(i.pathname,a,"/jwks");let o=await L.fetch(i.href,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!o.ok){let t=await o.json(),n=getErrorObjectByCode(t?.errors,"clerk_key_invalid");if(n)throw new eT({action:"Contact support@clerk.com",message:n.message,reason:"secret-key-invalid"});throw new eT({action:"Contact support@clerk.com",message:`Error loading Clerk JWKS from ${i.href} with code=${o.status}`,reason:"jwk-remote-failed-to-load"})}return o.json()}async function verifyToken(t,n){let a;let{apiKey:i,secretKey:o,apiUrl:s,apiVersion:l,audience:u,authorizedParties:c,clockSkewInSeconds:d,clockSkewInMs:h,issuer:p,jwksCacheTtlInMs:y,jwtKey:m,skipJwksCache:g}=n,{header:b}=decodeJwt(t),{kid:v}=b;if(m)a=function(t){if(!ez[eW]){if(!t)throw new eT({action:"Set the CLERK_JWT_KEY environment variable.",message:"Missing local JWK.",reason:"jwk-local-missing"});let n=t.replace(/(\r\n|\n|\r)/gm,"").replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace("MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA","").replace("IDAQAB","").replace(/\+/g,"-").replace(/\//g,"_");setInCache({kid:"local",kty:"RSA",alg:"RS256",n:n,e:"AQAB"},-1)}return ez[eW]}(m);else if("string"==typeof p)a=await loadClerkJWKFromRemote({issuer:p,kid:v,jwksCacheTtlInMs:y,skipJwksCache:g});else if(i||o)a=await loadClerkJWKFromRemote({apiKey:i,secretKey:o,apiUrl:s,apiVersion:l,kid:v,jwksCacheTtlInMs:y,skipJwksCache:g});else throw new eT({action:"Set the CLERK_JWT_KEY environment variable.",message:"Failed to resolve JWK during verification.",reason:"jwk-failed-to-resolve"});return await verifyJwt(t,{audience:u,authorizedParties:c,clockSkewInSeconds:d,clockSkewInMs:h,key:a,issuer:p})}var shouldRedirectToSatelliteUrl=t=>!!t?.get("__clerk_satellite_url"),hasJustSynced=t=>t?.get("__clerk_synced")==="true",eH=/^Mozilla\/|(Amazon CloudFront)/,isBrowser=t=>eH.test(t||""),nonBrowserRequestInDevRule=t=>{let{apiKey:n,secretKey:a,userAgent:i}=t,o=a||n||"";if(isDevelopmentFromApiKey(o)&&!isBrowser(i))return signedOut(t,"header-missing-non-browser")},crossOriginRequestWithoutHeader=t=>{let{origin:n,host:a,forwardedHost:i,forwardedProto:o}=t,s=n&&checkCrossOrigin({originURL:new URL(n),host:a,forwardedHost:i,forwardedProto:o});if(s)return signedOut(t,"header-missing-cors")},isPrimaryInDevAndRedirectsToSatellite=t=>{let{apiKey:n,secretKey:a,isSatellite:i,searchParams:o}=t,s=isDevelopmentFromApiKey(a||n||"");if(s&&!i&&shouldRedirectToSatelliteUrl(o))return interstitial(t,"primary-responds-to-syncing")},potentialFirstLoadInDevWhenUATMissing=t=>{let{apiKey:n,secretKey:a,clientUat:i}=t,o=isDevelopmentFromApiKey(a||n||"");if(o&&!i)return interstitial(t,"uat-missing")},potentialRequestAfterSignInOrOutFromClerkHostedUiInDev=t=>{let{apiKey:n,secretKey:a,referrer:i,host:o,forwardedHost:s,forwardedProto:l}=t,u=i&&checkCrossOrigin({originURL:new URL(i),host:o,forwardedHost:s,forwardedProto:l}),c=a||n||"";if(isDevelopmentFromApiKey(c)&&u)return interstitial(t,"cross-origin-referrer")},potentialFirstRequestOnProductionEnvironment=t=>{let{apiKey:n,secretKey:a,clientUat:i,cookieToken:o}=t,s=a||n||"";if(function(t){return t.startsWith("live_")||t.startsWith("sk_live_")}(s)&&!i&&!o)return signedOut(t,"cookie-and-uat-missing")},isNormalSignedOutState=t=>{let{clientUat:n}=t;if("0"===n)return signedOut(t,"standard-signed-out")},hasPositiveClientUatButCookieIsMissing=t=>{let{clientUat:n,cookieToken:a}=t;if(n&&Number.parseInt(n)>0&&!a)return interstitial(t,"cookie-missing")},hasValidHeaderToken=async t=>{let{headerToken:n}=t,a=await verifyRequestState(t,n);return await signedIn(t,a)},hasValidCookieToken=async t=>{let{cookieToken:n,clientUat:a}=t,i=await verifyRequestState(t,n),o=await signedIn(t,i),s=o.toAuth().sessionClaims,l=s.iat<Number.parseInt(a);return!a||l?interstitial(t,"cookie-outdated"):o};async function runInterstitialRules(t,n){for(let a of n){let n=await a(t);if(n)return n}return signedOut(t,"unexpected-error")}async function verifyRequestState(t,n){let a;let{isSatellite:i,proxyUrl:o}=t;return a=i?null:o||(t=>t.startsWith("https://clerk.")||t.includes(".clerk.accounts")),verifyToken(n,{...t,issuer:a})}var isSatelliteAndNeedsSyncing=t=>{let{clientUat:n,isSatellite:a,searchParams:i,userAgent:o}=t,s=!n||"0"===n;return a&&s&&!isBrowser(o)?signedOut(t,"satellite-needs-syncing"):a&&s&&!hasJustSynced(i)?interstitial(t,"satellite-needs-syncing"):void 0};async function authenticateRequest(t){let{cookies:n,headers:a,searchParams:i}=buildRequest2(t?.request);async function authenticateRequestWithTokenInHeader(){try{let n=await runInterstitialRules(t,[hasValidHeaderToken]);return n}catch(t){return handleError(t,"header")}}async function authenticateRequestWithTokenInCookie(){try{let n=await runInterstitialRules(t,[crossOriginRequestWithoutHeader,nonBrowserRequestInDevRule,isSatelliteAndNeedsSyncing,isPrimaryInDevAndRedirectsToSatellite,potentialFirstRequestOnProductionEnvironment,potentialFirstLoadInDevWhenUATMissing,potentialRequestAfterSignInOrOutFromClerkHostedUiInDev,hasPositiveClientUatButCookieIsMissing,isNormalSignedOutState,hasValidCookieToken]);return n}catch(t){return handleError(t,"cookie")}}function handleError(n,a){if(n instanceof eT){n.tokenCarrier=a;let i=["token-expired","token-not-active-yet"].includes(n.reason);return i?"header"===a?function(t,n,a=""){let{frontendApi:i,publishableKey:o,isSatellite:s,domain:l,signInUrl:u,signUpUrl:c,afterSignInUrl:d,afterSignUpUrl:h}=t;return{status:"unknown",reason:n,message:a,frontendApi:i,publishableKey:o,isSatellite:s,domain:l,signInUrl:u,signUpUrl:c,afterSignInUrl:d,afterSignUpUrl:h,isSignedIn:!1,isInterstitial:!1,isUnknown:!0,toAuth:()=>null}}(t,n.reason,n.getFullMessage()):interstitial(t,n.reason,n.getFullMessage()):signedOut(t,n.reason,n.getFullMessage())}return signedOut(t,"unexpected-error",n.message)}return(assertValidSecretKey((t={...t,...loadOptionsFromHeaders(t,a),frontendApi:parsePublishableKey(t.publishableKey)?.frontendApi||t.frontendApi,apiUrl:t.apiUrl||ee,apiVersion:t.apiVersion||"v1",cookieToken:t.cookieToken||n?.(en.Cookies.Session),clientUat:t.clientUat||n?.(en.Cookies.ClientUat),searchParams:t.searchParams||i||void 0}).secretKey||t.apiKey),t.isSatellite&&(function(t,n){if(!t&&isDevelopmentFromApiKey(n))throw Error("Missing signInUrl. Pass a signInUrl for dev instances if an app is satellite")}(t.signInUrl,t.secretKey||t.apiKey),function(t){if(!t)throw Error("Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl")}(t.proxyUrl||t.domain)),t.headerToken)?authenticateRequestWithTokenInHeader():authenticateRequestWithTokenInCookie()}var debugRequestState=t=>{let{frontendApi:n,isSignedIn:a,proxyUrl:i,isInterstitial:o,reason:s,message:l,publishableKey:u,isSatellite:c,domain:d}=t;return{frontendApi:n,isSignedIn:a,proxyUrl:i,isInterstitial:o,reason:s,message:l,publishableKey:u,isSatellite:c,domain:d}},loadOptionsFromHeaders=(t,n)=>n?{headerToken:stripAuthorizationHeader(t.headerToken||n(en.Headers.Authorization)),origin:t.origin||n(en.Headers.Origin),host:t.host||n(en.Headers.Host),forwardedHost:t.forwardedHost||n(en.Headers.ForwardedHost),forwardedPort:t.forwardedPort||n(en.Headers.ForwardedPort),forwardedProto:t.forwardedProto||n(en.Headers.CloudFrontForwardedProto)||n(en.Headers.ForwardedProto),referrer:t.referrer||n(en.Headers.Referrer),userAgent:t.userAgent||n(en.Headers.UserAgent)}:{};function createAuthenticateRequest(t){let{apiClient:n}=t,{apiKey:a="",secretKey:i="",jwtKey:o="",apiUrl:s=ee,apiVersion:l="v1",frontendApi:u="",proxyUrl:c="",publishableKey:d="",isSatellite:h=!1,domain:p="",audience:y="",userAgent:m}=t.options;return{authenticateRequest:({apiKey:t,secretKey:n,audience:m,frontendApi:g,proxyUrl:b,publishableKey:v,jwtKey:S,isSatellite:C,domain:_,searchParams:w,...A})=>authenticateRequest({...A,apiKey:t||a,secretKey:n||i,audience:m||y,apiUrl:s,apiVersion:l,frontendApi:g||u,proxyUrl:b||c,publishableKey:v||d,isSatellite:C||h,domain:_||p,jwtKey:S||o,searchParams:w}),localInterstitial:({frontendApi:t,publishableKey:n,proxyUrl:a,isSatellite:i,domain:o,...s})=>loadInterstitialFromLocal({...s,frontendApi:t||u,proxyUrl:a||c,publishableKey:n||d,isSatellite:i||h,domain:o||p}),remotePublicInterstitial:({frontendApi:t,publishableKey:n,proxyUrl:a,isSatellite:i,domain:o,userAgent:l,...y})=>loadInterstitialFromBAPI({...y,apiUrl:s,frontendApi:t||u,publishableKey:n||d,proxyUrl:a||c,isSatellite:i||h,domain:o||p,userAgent:l||m}),remotePrivateInterstitial:()=>n.interstitial.getInterstitial(),remotePublicInterstitialUrl:buildPublicInterstitialUrl,debugRequestState}}var buildUrl=(t,n)=>{let a;if(t.startsWith("http"))a=new URL(t);else{if(!n||!n.startsWith("http"))throw Error("destination url or return back url should be an absolute path url!");let i=new URL(n);a=new URL(t,i.origin)}return n&&a.searchParams.set("redirect_url",n),a.toString()};function redirect({redirectAdapter:t,signUpUrl:n,signInUrl:a,frontendApi:i,publishableKey:o}){i||(i=parsePublishableKey(o)?.frontendApi);let s=function(t){if(!t)return"";let n=t.replace(/(clerk\.accountsstage\.)/,"accountsstage.").replace(/(clerk\.accounts\.|clerk\.)/,"accounts.");return`https://${n}`}(i);return{redirectToSignUp:({returnBackUrl:a}={})=>{if(!n&&!s)throw Error(eO);let i=`${s}/sign-up`;return t(buildUrl(n||i,a))},redirectToSignIn:({returnBackUrl:n}={})=>{if(!a&&!s)throw Error(eO);let i=`${s}/sign-in`;return t(buildUrl(a||i,n))}}}function Clerk(t){let n={...t},a=createBackendApiClient(n),i=createAuthenticateRequest({options:n,apiClient:a});return{...a,...i,__unstable_options:n}}},35788:(t,n,a)=>{"use strict";let i;try{(i=a(6005).webcrypto)||(i=new(a(21604)).w)}catch(t){i=new(a(21604)).w}t.exports=i},86935:(t,n,a)=>{"use strict";let{fetch:i,Blob:o,FormData:s,Headers:l,Request:u,Response:c,AbortController:d}=a(60013);t.exports=i,t.exports.RuntimeBlob=o,t.exports.RuntimeFormData=s,t.exports.RuntimeHeaders=l,t.exports.RuntimeRequest=u,t.exports.RuntimeResponse=c,t.exports.RuntimeAbortController=d},38798:(t,n,a)=>{"use strict";a.d(n,{El:()=>esm_ClerkProvider,CH:()=>esm_SignedIn,I8:()=>B});var i=a(53830),o=a.n(i);let mergeNextClerkPropsWithEnv=t=>({...t,frontendApi:t.frontendApi||process.env.NEXT_PUBLIC_CLERK_FRONTEND_API||"",publishableKey:t.publishableKey||"pk_test_cHVyZS1zd2lmdC05MC5jbGVyay5hY2NvdW50cy5kZXYk",clerkJSUrl:t.clerkJSUrl||process.env.NEXT_PUBLIC_CLERK_JS,clerkJSVersion:t.clerkJSVersion||process.env.NEXT_PUBLIC_CLERK_JS_VERSION,proxyUrl:t.proxyUrl||process.env.NEXT_PUBLIC_CLERK_PROXY_URL||"",domain:t.domain||process.env.NEXT_PUBLIC_CLERK_DOMAIN||"",isSatellite:t.isSatellite||"true"===process.env.NEXT_PUBLIC_CLERK_IS_SATELLITE,signInUrl:t.signInUrl||"/sign-in",signUpUrl:t.signUpUrl||"/sign-up",afterSignInUrl:t.afterSignInUrl||"/",afterSignUpUrl:t.afterSignUpUrl||"/"});var s=a(17536);let l=(0,s.createProxy)(String.raw`C:\Users\af_K_ar\stack_overflow_nextjs14\node_modules\@clerk\nextjs\dist\esm\app-router\client\ClerkProvider.js`),{__esModule:u,$$typeof:c}=l;l.default;let d=l.ClientClerkProvider,authAuthHeaderMissing=()=>"Clerk: auth() was called but it looks like you aren't using `authMiddleware` in your middleware file. Please use `authMiddleware` and make sure your middleware matcher is configured correctly and it matches this route or page. See https://clerk.com/docs/quickstarts/get-started-with-nextjs";var h=a(78912);let maskSecretKey=t=>{if(!t||"string"!=typeof t)return t;try{return(t||"").replace(/^(sk_(live|test)_)(.+?)(.{3})$/,"$1*********$4")}catch(t){return""}},logFormatter=t=>(Array.isArray(t)?t:[t]).map(t=>{if("string"==typeof t)return maskSecretKey(t);let n=Object.fromEntries(Object.entries(t).map(([t,n])=>[t,maskSecretKey(n)]));return JSON.stringify(n,null,2)}).join(", "),createDebugLogger=(t,n)=>()=>{let a=[],i=!1;return{enable:()=>{i=!0},debug:(...t)=>{i&&a.push(t.map(t=>"function"==typeof t?t():t))},commit:()=>{if(i){let i=`Clerk debug start :: ${t}
${a.map(t=>n(t)).map(t=>`-- ${t}
`).join("")}`;process.env.VERCEL?console.log(function(t,n){let a=new TextEncoder,i=new TextDecoder("utf-8"),o=a.encode(t),s=o.slice(0,4096);return i.decode(s).replace(/\uFFFD/g,"")}(i,0)):console.log(i)}}}},withLogger=(t,n)=>(...a)=>{let i="string"==typeof t?createDebugLogger(t,logFormatter):t,o=i(),s=n(o);try{let t=s(...a);if("object"==typeof t&&"then"in t&&"function"==typeof t.then)return t.then(t=>(o.commit(),t)).catch(t=>{throw o.commit(),t});return o.commit(),t}catch(t){throw o.commit(),t}},isTestEnvironment=()=>!1,isProductionEnvironment=()=>{try{return!0}catch(t){}return!1},p=new Set,deprecated_deprecated=(t,n,a)=>{let i=isTestEnvironment()||isProductionEnvironment(),o=a??t;p.has(o)||i||(p.add(o),console.warn(`DEPRECATION WARNING: "${t}" is deprecated and will be removed in the next major release.
${n}`))},y=process.env.CLERK_JS_VERSION||"";y&&deprecated_deprecated("CLERK_JS_VERSION","Use `NEXT_PUBLIC_CLERK_JS_VERSION` environment variable instead."),process.env.NEXT_PUBLIC_CLERK_JS_VERSION,process.env.NEXT_PUBLIC_CLERK_JS;let m=process.env.CLERK_API_URL||"https://api.clerk.dev",g=process.env.CLERK_API_VERSION||"v1",b=process.env.CLERK_API_KEY||"";b&&deprecated_deprecated("CLERK_API_KEY","Use `CLERK_SECRET_KEY` environment variable instead.");let v=process.env.CLERK_SECRET_KEY||"",S=process.env.NEXT_PUBLIC_CLERK_FRONTEND_API||"";S&&deprecated_deprecated("NEXT_PUBLIC_CLERK_FRONTEND_API","Use `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY` environment variable instead.");let C=process.env.NEXT_PUBLIC_CLERK_DOMAIN||"",_=process.env.NEXT_PUBLIC_CLERK_PROXY_URL||"",w="true"===process.env.NEXT_PUBLIC_CLERK_IS_SATELLITE;var A=a(66886);function getAuthKeyFromRequest(t,n){var a;return((a=h.constants.Attributes[n])in t?t[a]:void 0)||getHeader(t,h.constants.Headers[n])||("AuthStatus"===n?function(t,n){let a;if(isNextRequest(t))return t.nextUrl.searchParams.get(n);if("query"in t&&(a=t.query[n]),!a){let i=(t.url||"").split("?")[1];a=new URLSearchParams(i).get(n)}return a}(t,h.constants.SearchParams.AuthStatus):void 0)}function getHeader(t,n){return isNextRequest(t)?t.headers.get(n):t.headers[n]||t.headers[n.toLowerCase()]||t.socket?._httpMessage?.getHeader(n)}function isNextRequest(t){try{let{headers:n,nextUrl:a,cookies:i}=t||{};return"function"==typeof n?.get&&"function"==typeof a?.searchParams.get&&"function"==typeof i?.get}catch(t){return!1}}let injectSSRStateIntoObject=(t,n)=>{let a={...n};return{...t,__clerk_ssr_state:a}},createGetAuth=({debugLoggerName:t,noAuthStatusMessage:n})=>withLogger(t,t=>(a,i)=>{let o="true"===getHeader(a,h.constants.Headers.EnableDebug);o&&t.enable();let s=getAuthKeyFromRequest(a,"AuthStatus"),l=getAuthKeyFromRequest(a,"AuthMessage"),u=getAuthKeyFromRequest(a,"AuthReason");if(t.debug("Headers debug",{authStatus:s,authMessage:l,authReason:u}),!s)throw Error(n);let c={apiKey:i?.apiKey||b,secretKey:i?.secretKey||v,apiUrl:m,apiVersion:g,authStatus:s,authMessage:l,authReason:u};if(t.debug("Options debug",c),s!==h.AuthStatus.SignedIn)return(0,h.signedOutAuthObject)(c);let d=parseJwt(a);return t.debug("JWT debug",d.raw.text),(0,h.signedInAuthObject)(d.payload,{...c,token:d.raw.text})});createGetAuth({debugLoggerName:"getAuth()",noAuthStatusMessage:'You need to use "authMiddleware" (or the deprecated "withClerkMiddleware") in your Next.js middleware file. You also need to make sure that your middleware matcher is configured correctly and matches this route or page. See https://clerk.com/docs/quickstarts/get-started-with-nextjs'});let buildClerkProps=(t,n={})=>{let a;let i=getAuthKeyFromRequest(t,"AuthStatus"),o=getAuthKeyFromRequest(t,"AuthMessage"),s=getAuthKeyFromRequest(t,"AuthReason"),l={apiKey:b,secretKey:v,apiUrl:m,apiVersion:g,authStatus:i,authMessage:o,authReason:s};if(i&&i===h.AuthStatus.SignedIn){let{payload:n,raw:i}=parseJwt(t);a=(0,h.signedInAuthObject)(n,{...l,token:i.text})}else a=(0,h.signedOutAuthObject)(l);let u=(0,h.makeAuthObjectSerializable)((0,h.sanitizeAuthObject)({...a,...n}));return injectSSRStateIntoObject({},u)},parseJwt=t=>{let n=function(t,n){if(isNextRequest(t)){let a=t.cookies.get(n);if(!a)return;return"string"==typeof a?a:a.value}return t.cookies[n]}(t,h.constants.Cookies.Session),a=getHeader(t,"authorization")?.replace("Bearer ","");return(0,h.decodeJwt)(n||a||"")};var P=a(32160);let buildRequestLike=()=>{try{let{headers:t}=a(59859);return new P.Z("https://placeholder.com",{headers:t()})}catch(t){if(t&&"message"in t&&"string"==typeof t.message&&t.message.toLowerCase().includes("dynamic server usage"))throw t;throw Error(`Clerk: auth() and currentUser() are only supported in App Router (/app directory).
If you're using /pages, try getAuth() instead.
Original error: ${t}`)}},auth=()=>createGetAuth({debugLoggerName:"auth()",noAuthStatusMessage:authAuthHeaderMissing()})(buildRequestLike()),initialState=()=>buildClerkProps(buildRequestLike()),E=((0,h.Clerk)({apiKey:b,secretKey:v,apiUrl:m,apiVersion:g,userAgent:"@clerk/nextjs",proxyUrl:_,domain:C,isSatellite:w}),(t,n,a)=>(t.headers.set(n,a),t));a(18624);let{redirectToSignIn:k,redirectToSignUp:R}=(0,h.redirect)({redirectAdapter:t=>{let n=A.Z.redirect(t);return E(n,h.constants.Headers.ClerkRedirectTo,"true")},signInUrl:"/sign-in",signUpUrl:"/sign-up",publishableKey:"pk_test_cHVyZS1zd2lmdC05MC5jbGVyay5hY2NvdW50cy5kZXYk",frontendApi:S}),esm_ClerkProvider=function(t){let{children:n,...a}=t,i=initialState()?.__clerk_ssr_state;return o().createElement(d,{...mergeNextClerkPropsWithEnv(a),initialState:i},n)},esm_SignedIn=function(t){let{children:n}=t,{userId:a}=auth();return a?o().createElement(o().Fragment,null,n):null},B=auth},5213:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsnConvert=void 0;let i=a(94549),o=a(81648),s=a(14969),l=a(67631);let AsnConvert=class AsnConvert{static serialize(t){return l.AsnSerializer.serialize(t)}static parse(t,n){return s.AsnParser.parse(t,n)}static toString(t){let n=o.BufferSourceConverter.isBufferSource(t)?o.BufferSourceConverter.toArrayBuffer(t):AsnConvert.serialize(t),a=i.fromBER(n);if(-1===a.offset)throw Error(`Cannot decode ASN.1 data. ${a.result.error}`);return a.result.toString()}};n.AsnConvert=AsnConvert},16954:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defaultConverter=n.AsnNullConverter=n.AsnGeneralizedTimeConverter=n.AsnUTCTimeConverter=n.AsnCharacterStringConverter=n.AsnGeneralStringConverter=n.AsnVisibleStringConverter=n.AsnGraphicStringConverter=n.AsnIA5StringConverter=n.AsnVideotexStringConverter=n.AsnTeletexStringConverter=n.AsnPrintableStringConverter=n.AsnNumericStringConverter=n.AsnUniversalStringConverter=n.AsnBmpStringConverter=n.AsnUtf8StringConverter=n.AsnConstructedOctetStringConverter=n.AsnOctetStringConverter=n.AsnBooleanConverter=n.AsnObjectIdentifierConverter=n.AsnBitStringConverter=n.AsnIntegerBigIntConverter=n.AsnIntegerArrayBufferConverter=n.AsnEnumeratedConverter=n.AsnIntegerConverter=n.AsnAnyConverter=void 0;let i=a(94549),o=a(36348),s=a(38525);function createStringConverter(t){return{fromASN:t=>t.valueBlock.value,toASN:n=>new t({value:n})}}n.AsnAnyConverter={fromASN:t=>t instanceof i.Null?null:t.valueBeforeDecodeView,toASN:t=>{if(null===t)return new i.Null;let n=i.fromBER(t);if(n.result.error)throw Error(n.result.error);return n.result}},n.AsnIntegerConverter={fromASN:t=>t.valueBlock.valueHexView.byteLength>=4?t.valueBlock.toString():t.valueBlock.valueDec,toASN:t=>new i.Integer({value:+t})},n.AsnEnumeratedConverter={fromASN:t=>t.valueBlock.valueDec,toASN:t=>new i.Enumerated({value:t})},n.AsnIntegerArrayBufferConverter={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new i.Integer({valueHex:t})},n.AsnIntegerBigIntConverter={fromASN:t=>t.toBigInt(),toASN:t=>i.Integer.fromBigInt(t)},n.AsnBitStringConverter={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new i.BitString({valueHex:t})},n.AsnObjectIdentifierConverter={fromASN:t=>t.valueBlock.toString(),toASN:t=>new i.ObjectIdentifier({value:t})},n.AsnBooleanConverter={fromASN:t=>t.valueBlock.value,toASN:t=>new i.Boolean({value:t})},n.AsnOctetStringConverter={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new i.OctetString({valueHex:t})},n.AsnConstructedOctetStringConverter={fromASN:t=>new s.OctetString(t.getValue()),toASN:t=>t.toASN()},n.AsnUtf8StringConverter=createStringConverter(i.Utf8String),n.AsnBmpStringConverter=createStringConverter(i.BmpString),n.AsnUniversalStringConverter=createStringConverter(i.UniversalString),n.AsnNumericStringConverter=createStringConverter(i.NumericString),n.AsnPrintableStringConverter=createStringConverter(i.PrintableString),n.AsnTeletexStringConverter=createStringConverter(i.TeletexString),n.AsnVideotexStringConverter=createStringConverter(i.VideotexString),n.AsnIA5StringConverter=createStringConverter(i.IA5String),n.AsnGraphicStringConverter=createStringConverter(i.GraphicString),n.AsnVisibleStringConverter=createStringConverter(i.VisibleString),n.AsnGeneralStringConverter=createStringConverter(i.GeneralString),n.AsnCharacterStringConverter=createStringConverter(i.CharacterString),n.AsnUTCTimeConverter={fromASN:t=>t.toDate(),toASN:t=>new i.UTCTime({valueDate:t})},n.AsnGeneralizedTimeConverter={fromASN:t=>t.toDate(),toASN:t=>new i.GeneralizedTime({valueDate:t})},n.AsnNullConverter={fromASN:()=>null,toASN:()=>new i.Null},n.defaultConverter=function(t){switch(t){case o.AsnPropTypes.Any:return n.AsnAnyConverter;case o.AsnPropTypes.BitString:return n.AsnBitStringConverter;case o.AsnPropTypes.BmpString:return n.AsnBmpStringConverter;case o.AsnPropTypes.Boolean:return n.AsnBooleanConverter;case o.AsnPropTypes.CharacterString:return n.AsnCharacterStringConverter;case o.AsnPropTypes.Enumerated:return n.AsnEnumeratedConverter;case o.AsnPropTypes.GeneralString:return n.AsnGeneralStringConverter;case o.AsnPropTypes.GeneralizedTime:return n.AsnGeneralizedTimeConverter;case o.AsnPropTypes.GraphicString:return n.AsnGraphicStringConverter;case o.AsnPropTypes.IA5String:return n.AsnIA5StringConverter;case o.AsnPropTypes.Integer:return n.AsnIntegerConverter;case o.AsnPropTypes.Null:return n.AsnNullConverter;case o.AsnPropTypes.NumericString:return n.AsnNumericStringConverter;case o.AsnPropTypes.ObjectIdentifier:return n.AsnObjectIdentifierConverter;case o.AsnPropTypes.OctetString:return n.AsnOctetStringConverter;case o.AsnPropTypes.PrintableString:return n.AsnPrintableStringConverter;case o.AsnPropTypes.TeletexString:return n.AsnTeletexStringConverter;case o.AsnPropTypes.UTCTime:return n.AsnUTCTimeConverter;case o.AsnPropTypes.UniversalString:return n.AsnUniversalStringConverter;case o.AsnPropTypes.Utf8String:return n.AsnUtf8StringConverter;case o.AsnPropTypes.VideotexString:return n.AsnVideotexStringConverter;case o.AsnPropTypes.VisibleString:return n.AsnVisibleStringConverter;default:return null}}},34629:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsnProp=n.AsnSequenceType=n.AsnSetType=n.AsnChoiceType=n.AsnType=void 0;let i=a(16954),o=a(36348),s=a(39457);n.AsnType=t=>n=>{let a;s.schemaStorage.has(n)?a=s.schemaStorage.get(n):(a=s.schemaStorage.createDefault(n),s.schemaStorage.set(n,a)),Object.assign(a,t)},n.AsnChoiceType=()=>(0,n.AsnType)({type:o.AsnTypeTypes.Choice}),n.AsnSetType=t=>(0,n.AsnType)({type:o.AsnTypeTypes.Set,...t}),n.AsnSequenceType=t=>(0,n.AsnType)({type:o.AsnTypeTypes.Sequence,...t}),n.AsnProp=t=>(n,a)=>{let o;s.schemaStorage.has(n.constructor)?o=s.schemaStorage.get(n.constructor):(o=s.schemaStorage.createDefault(n.constructor),s.schemaStorage.set(n.constructor,o));let l=Object.assign({},t);if("number"==typeof l.type&&!l.converter){let o=i.defaultConverter(t.type);if(!o)throw Error(`Cannot get default converter for property '${a}' of ${n.constructor.name}`);l.converter=o}o.items[a]=l}},36348:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsnPropTypes=n.AsnTypeTypes=void 0,function(t){t[t.Sequence=0]="Sequence",t[t.Set=1]="Set",t[t.Choice=2]="Choice"}(n.AsnTypeTypes||(n.AsnTypeTypes={})),function(t){t[t.Any=1]="Any",t[t.Boolean=2]="Boolean",t[t.OctetString=3]="OctetString",t[t.BitString=4]="BitString",t[t.Integer=5]="Integer",t[t.Enumerated=6]="Enumerated",t[t.ObjectIdentifier=7]="ObjectIdentifier",t[t.Utf8String=8]="Utf8String",t[t.BmpString=9]="BmpString",t[t.UniversalString=10]="UniversalString",t[t.NumericString=11]="NumericString",t[t.PrintableString=12]="PrintableString",t[t.TeletexString=13]="TeletexString",t[t.VideotexString=14]="VideotexString",t[t.IA5String=15]="IA5String",t[t.GraphicString=16]="GraphicString",t[t.VisibleString=17]="VisibleString",t[t.GeneralString=18]="GeneralString",t[t.CharacterString=19]="CharacterString",t[t.UTCTime=20]="UTCTime",t[t.GeneralizedTime=21]="GeneralizedTime",t[t.DATE=22]="DATE",t[t.TimeOfDay=23]="TimeOfDay",t[t.DateTime=24]="DateTime",t[t.Duration=25]="Duration",t[t.TIME=26]="TIME",t[t.Null=27]="Null"}(n.AsnPropTypes||(n.AsnPropTypes={}))},66374:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});let i=a(15803);i.__exportStar(a(38042),n)},38042:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsnSchemaValidationError=void 0,n.AsnSchemaValidationError=class extends Error{constructor(){super(...arguments),this.schemas=[]}}},52174:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isArrayEqual=n.isTypeOfArray=n.isConvertible=void 0,n.isConvertible=function isConvertible(t){return"function"==typeof t&&t.prototype?!!t.prototype.toASN&&!!t.prototype.fromASN||isConvertible(t.prototype):!!(t&&"object"==typeof t&&"toASN"in t&&"fromASN"in t)},n.isTypeOfArray=function isTypeOfArray(t){var n;if(t){let a=Object.getPrototypeOf(t);return(null===(n=null==a?void 0:a.prototype)||void 0===n?void 0:n.constructor)===Array||isTypeOfArray(a)}return!1},n.isArrayEqual=function(t,n){if(!(t&&n)||t.byteLength!==n.byteLength)return!1;let a=new Uint8Array(t),i=new Uint8Array(n);for(let n=0;n<t.byteLength;n++)if(a[n]!==i[n])return!1;return!0}},98763:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsnSerializer=n.AsnParser=n.AsnPropTypes=n.AsnTypeTypes=n.AsnSetType=n.AsnSequenceType=n.AsnChoiceType=n.AsnType=n.AsnProp=void 0;let i=a(15803);i.__exportStar(a(16954),n),i.__exportStar(a(38525),n);var o=a(34629);Object.defineProperty(n,"AsnProp",{enumerable:!0,get:function(){return o.AsnProp}}),Object.defineProperty(n,"AsnType",{enumerable:!0,get:function(){return o.AsnType}}),Object.defineProperty(n,"AsnChoiceType",{enumerable:!0,get:function(){return o.AsnChoiceType}}),Object.defineProperty(n,"AsnSequenceType",{enumerable:!0,get:function(){return o.AsnSequenceType}}),Object.defineProperty(n,"AsnSetType",{enumerable:!0,get:function(){return o.AsnSetType}});var s=a(36348);Object.defineProperty(n,"AsnTypeTypes",{enumerable:!0,get:function(){return s.AsnTypeTypes}}),Object.defineProperty(n,"AsnPropTypes",{enumerable:!0,get:function(){return s.AsnPropTypes}});var l=a(14969);Object.defineProperty(n,"AsnParser",{enumerable:!0,get:function(){return l.AsnParser}});var u=a(67631);Object.defineProperty(n,"AsnSerializer",{enumerable:!0,get:function(){return u.AsnSerializer}}),i.__exportStar(a(66374),n),i.__exportStar(a(67656),n),i.__exportStar(a(5213),n)},67656:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsnArray=void 0,n.AsnArray=class extends Array{constructor(t=[]){if("number"==typeof t)super(t);else for(let n of(super(),t))this.push(n)}}},14969:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsnParser=void 0;let i=a(94549),o=a(36348),s=a(16954),l=a(66374),u=a(52174),c=a(39457);n.AsnParser=class{static parse(t,n){let a=i.fromBER(t);if(a.result.error)throw Error(a.result.error);let o=this.fromASN(a.result,n);return o}static fromASN(t,n){var a;try{if((0,u.isConvertible)(n)){let a=new n;return a.fromASN(t)}let d=c.schemaStorage.get(n);c.schemaStorage.cache(n);let h=d.schema;if(t.constructor===i.Constructed&&d.type!==o.AsnTypeTypes.Choice)for(let n in h=new i.Constructed({idBlock:{tagClass:3,tagNumber:t.idBlock.tagNumber},value:d.schema.valueBlock.value}),d.items)delete t[n];let p=i.compareSchema({},t,h);if(!p.verified)throw new l.AsnSchemaValidationError(`Data does not match to ${n.name} ASN1 schema. ${p.result.error}`);let y=new n;if((0,u.isTypeOfArray)(n)){if(!("value"in t.valueBlock&&Array.isArray(t.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let a=d.itemType;if("number"!=typeof a)return n.from(t.valueBlock.value,t=>this.fromASN(t,a));{let i=s.defaultConverter(a);if(!i)throw Error(`Cannot get default converter for array item of ${n.name} ASN1 schema`);return n.from(t.valueBlock.value,t=>i.fromASN(t))}}for(let t in d.items){let n=p.result[t];if(!n)continue;let s=d.items[t],l=s.type;if("number"==typeof l||(0,u.isConvertible)(l)){let c=null!==(a=s.converter)&&void 0!==a?a:(0,u.isConvertible)(l)?new l:null;if(!c)throw Error("Converter is empty");if(s.repeated){if(s.implicit){let a="sequence"===s.repeated?i.Sequence:i.Set,o=new a;o.valueBlock=n.valueBlock;let l=i.fromBER(o.toBER(!1));if(-1===l.offset)throw Error(`Cannot parse the child item. ${l.result.error}`);if(!("value"in l.result.valueBlock&&Array.isArray(l.result.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let u=l.result.valueBlock.value;y[t]=Array.from(u,t=>c.fromASN(t))}else y[t]=Array.from(n,t=>c.fromASN(t))}else{let a=n;if(s.implicit){let t;if((0,u.isConvertible)(l))t=new l().toSchema("");else{let n=o.AsnPropTypes[l],a=i[n];if(!a)throw Error(`Cannot get '${n}' class from asn1js module`);t=new a}t.valueBlock=a.valueBlock,a=i.fromBER(t.toBER(!1)).result}y[t]=c.fromASN(a)}}else if(s.repeated){if(!Array.isArray(n))throw Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");y[t]=Array.from(n,t=>this.fromASN(t,l))}else y[t]=this.fromASN(n,l)}return y}catch(t){throw t instanceof l.AsnSchemaValidationError&&t.schemas.push(n.name),t}}}},43659:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsnSchemaStorage=void 0;let i=a(94549),o=a(36348),s=a(52174);n.AsnSchemaStorage=class{constructor(){this.items=new WeakMap}has(t){return this.items.has(t)}get(t,n=!1){let a=this.items.get(t);if(!a)throw Error(`Cannot get schema for '${t.prototype.constructor.name}' target`);if(n&&!a.schema)throw Error(`Schema '${t.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return a}cache(t){let n=this.get(t);n.schema||(n.schema=this.create(t,!0))}createDefault(t){let n={type:o.AsnTypeTypes.Sequence,items:{}},a=this.findParentSchema(t);return a&&(Object.assign(n,a),n.items=Object.assign({},n.items,a.items)),n}create(t,n){let a=this.items.get(t)||this.createDefault(t),l=[];for(let t in a.items){let u;let c=a.items[t],d=n?t:"";if("number"==typeof c.type){let t=o.AsnPropTypes[c.type],n=i[t];if(!n)throw Error(`Cannot get ASN1 class by name '${t}'`);u=new n({name:d})}else if((0,s.isConvertible)(c.type)){let t=new c.type;u=t.toSchema(d)}else if(c.optional){let t=this.get(c.type);t.type===o.AsnTypeTypes.Choice?u=new i.Any({name:d}):(u=this.create(c.type,!1)).name=d}else u=new i.Any({name:d});let h=!!c.optional||void 0!==c.defaultValue;if(c.repeated){u.name="";let t="set"===c.repeated?i.Set:i.Sequence;u=new t({name:"",value:[new i.Repeated({name:d,value:u})]})}if(null!==c.context&&void 0!==c.context){if(c.implicit){if("number"==typeof c.type||(0,s.isConvertible)(c.type)){let t=c.repeated?i.Constructed:i.Primitive;l.push(new t({name:d,optional:h,idBlock:{tagClass:3,tagNumber:c.context}}))}else{this.cache(c.type);let t=!!c.repeated,n=t?u:this.get(c.type,!0).schema;n="valueBlock"in n?n.valueBlock.value:n.value,l.push(new i.Constructed({name:t?"":d,optional:h,idBlock:{tagClass:3,tagNumber:c.context},value:n}))}}else l.push(new i.Constructed({optional:h,idBlock:{tagClass:3,tagNumber:c.context},value:[u]}))}else u.optional=h,l.push(u)}switch(a.type){case o.AsnTypeTypes.Sequence:return new i.Sequence({value:l,name:""});case o.AsnTypeTypes.Set:return new i.Set({value:l,name:""});case o.AsnTypeTypes.Choice:return new i.Choice({value:l,name:""});default:throw Error("Unsupported ASN1 type in use")}}set(t,n){return this.items.set(t,n),this}findParentSchema(t){let n=Object.getPrototypeOf(t);if(n){let t=this.items.get(n);return t||this.findParentSchema(n)}return null}}},67631:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsnSerializer=void 0;let i=a(94549),o=a(16954),s=a(36348),l=a(52174),u=a(39457);let AsnSerializer=class AsnSerializer{static serialize(t){return t instanceof i.BaseBlock?t.toBER(!1):this.toASN(t).toBER(!1)}static toASN(t){let n;if(t&&"object"==typeof t&&(0,l.isConvertible)(t))return t.toASN();if(!(t&&"object"==typeof t))throw TypeError("Parameter 1 should be type of Object.");let a=t.constructor,c=u.schemaStorage.get(a);u.schemaStorage.cache(a);let d=[];if(c.itemType){if(!Array.isArray(t))throw TypeError("Parameter 1 should be type of Array.");if("number"==typeof c.itemType){let n=o.defaultConverter(c.itemType);if(!n)throw Error(`Cannot get default converter for array item of ${a.name} ASN1 schema`);d=t.map(t=>n.toASN(t))}else d=t.map(t=>this.toAsnItem({type:c.itemType},"[]",a,t))}else for(let n in c.items){let o=c.items[n],s=t[n];if(void 0===s||o.defaultValue===s||"object"==typeof o.defaultValue&&"object"==typeof s&&(0,l.isArrayEqual)(this.serialize(o.defaultValue),this.serialize(s)))continue;let u=AsnSerializer.toAsnItem(o,n,a,s);if("number"==typeof o.context){if(o.implicit){if(!o.repeated&&("number"==typeof o.type||(0,l.isConvertible)(o.type))){let t={};t.valueHex=u instanceof i.Null?u.valueBeforeDecodeView:u.valueBlock.toBER(),d.push(new i.Primitive({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},...t}))}else d.push(new i.Constructed({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},value:u.valueBlock.value}))}else d.push(new i.Constructed({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},value:[u]}))}else o.repeated?d=d.concat(u):d.push(u)}switch(c.type){case s.AsnTypeTypes.Sequence:n=new i.Sequence({value:d});break;case s.AsnTypeTypes.Set:n=new i.Set({value:d});break;case s.AsnTypeTypes.Choice:if(!d[0])throw Error(`Schema '${a.name}' has wrong data. Choice cannot be empty.`);n=d[0]}return n}static toAsnItem(t,n,a,o){let l;if("number"==typeof t.type){let u=t.converter;if(!u)throw Error(`Property '${n}' doesn't have converter for type ${s.AsnPropTypes[t.type]} in schema '${a.name}'`);if(t.repeated){if(!Array.isArray(o))throw TypeError("Parameter 'objProp' should be type of Array.");let n=Array.from(o,t=>u.toASN(t)),a="sequence"===t.repeated?i.Sequence:i.Set;l=new a({value:n})}else l=u.toASN(o)}else if(t.repeated){if(!Array.isArray(o))throw TypeError("Parameter 'objProp' should be type of Array.");let n=Array.from(o,t=>this.toASN(t)),a="sequence"===t.repeated?i.Sequence:i.Set;l=new a({value:n})}else l=this.toASN(o);return l}};n.AsnSerializer=AsnSerializer},39457:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.schemaStorage=void 0;let i=a(43659);n.schemaStorage=new i.AsnSchemaStorage},98107:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BitString=void 0;let i=a(94549),o=a(81648);n.BitString=class{constructor(t,n=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),t){if("number"==typeof t)this.fromNumber(t);else if(o.BufferSourceConverter.isBufferSource(t))this.unusedBits=n,this.value=o.BufferSourceConverter.toArrayBuffer(t);else throw TypeError("Unsupported type of 'params' argument for BitString")}}fromASN(t){if(!(t instanceof i.BitString))throw TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=t.valueBlock.unusedBits,this.value=t.valueBlock.valueHex,this}toASN(){return new i.BitString({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(t){return new i.BitString({name:t})}toNumber(){let t="",n=new Uint8Array(this.value);for(let a of n)t+=a.toString(2).padStart(8,"0");return t=t.split("").reverse().join(""),this.unusedBits&&(t=t.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(t,2)}fromNumber(t){let n=t.toString(2),a=n.length+7>>3;this.unusedBits=(a<<3)-n.length;let i=new Uint8Array(a);n=n.padStart(a<<3,"0").split("").reverse().join("");let o=0;for(;o<a;)i[o]=parseInt(n.slice(o<<3,(o<<3)+8),2),o++;this.value=i.buffer}}},38525:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});let i=a(15803);i.__exportStar(a(98107),n),i.__exportStar(a(10095),n)},10095:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.OctetString=void 0;let i=a(94549),o=a(81648);n.OctetString=class{constructor(t){"number"==typeof t?this.buffer=new ArrayBuffer(t):o.BufferSourceConverter.isBufferSource(t)?this.buffer=o.BufferSourceConverter.toArrayBuffer(t):Array.isArray(t)?this.buffer=new Uint8Array(t):this.buffer=new ArrayBuffer(0)}get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}fromASN(t){if(!(t instanceof i.OctetString))throw TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=t.valueBlock.valueHex,this}toASN(){return new i.OctetString({valueHex:this.buffer})}toSchema(t){return new i.OctetString({name:t})}}},55632:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});let JsonError=class JsonError extends Error{constructor(t,n){super(n?`${t}. See the inner exception for more details.`:t),this.message=t,this.innerError=n}};let TransformError=class TransformError extends JsonError{constructor(t,n,a){super(n,a),this.schema=t}};let ParserError=class ParserError extends TransformError{constructor(t,n,a){super(t,`JSON doesn't match to '${t.target.name}' schema. ${n}`,a)}};let ValidationError=class ValidationError extends JsonError{};let SerializerError=class SerializerError extends JsonError{constructor(t,n,a){super(`Cannot serialize by '${t}' schema. ${n}`,a),this.schemaName=t}};let KeyError=class KeyError extends ParserError{constructor(t,n,a={}){super(t,"Some keys doesn't match to schema"),this.keys=n,this.errors=a}};function throwIfTypeIsWrong(t,a){if(!function(t,a){switch(a){case n.JsonPropTypes.Boolean:return"boolean"==typeof t;case n.JsonPropTypes.Number:return"number"==typeof t;case n.JsonPropTypes.String:return"string"==typeof t}return!0}(t,a))throw TypeError(`Value must be ${n.JsonPropTypes[a]}`)}function isConvertible(t){return t&&t.prototype?!!t.prototype.toJSON&&!!t.prototype.fromJSON||isConvertible(t.prototype):!!(t&&t.toJSON&&t.fromJSON)}!function(t){t[t.Any=0]="Any",t[t.Boolean=1]="Boolean",t[t.Number=2]="Number",t[t.String=3]="String"}(n.JsonPropTypes||(n.JsonPropTypes={}));let a="default",i=new class{constructor(){this.items=new Map}has(t){return this.items.has(t)||!!this.findParentSchema(t)}get(t){let n=this.items.get(t)||this.findParentSchema(t);if(!n)throw Error("Cannot get schema for current target");return n}create(t){let n={names:{}},a=this.findParentSchema(t);if(a)for(let t in Object.assign(n,a),n.names={},a.names)n.names[t]=Object.assign({},a.names[t]);return n.target=t,n}set(t,n){return this.items.set(t,n),this}findParentSchema(t){let n=t.__proto__;if(n){let t=this.items.get(n);return t||this.findParentSchema(n)}return null}};let PatternValidation=class PatternValidation{constructor(t){this.pattern=new RegExp(t)}validate(t){let n=new RegExp(this.pattern.source,this.pattern.flags);if("string"!=typeof t)throw new ValidationError("Incoming value must be string");if(!n.exec(t))throw new ValidationError(`Value doesn't match to pattern '${n.toString()}'`)}};let InclusiveValidation=class InclusiveValidation{constructor(t=Number.MIN_VALUE,n=Number.MAX_VALUE){this.min=t,this.max=n}validate(t){if(throwIfTypeIsWrong(t,n.JsonPropTypes.Number),!(this.min<=t&&t<=this.max)){let t=this.min===Number.MIN_VALUE?"MIN":this.min,n=this.max===Number.MAX_VALUE?"MAX":this.max;throw new ValidationError(`Value doesn't match to diapason [${t},${n}]`)}}};let ExclusiveValidation=class ExclusiveValidation{constructor(t=Number.MIN_VALUE,n=Number.MAX_VALUE){this.min=t,this.max=n}validate(t){if(throwIfTypeIsWrong(t,n.JsonPropTypes.Number),!(this.min<t&&t<this.max)){let t=this.min===Number.MIN_VALUE?"MIN":this.min,n=this.max===Number.MAX_VALUE?"MAX":this.max;throw new ValidationError(`Value doesn't match to diapason (${t},${n})`)}}};let LengthValidation=class LengthValidation{constructor(t,n,a){this.length=t,this.minLength=n,this.maxLength=a}validate(t){if(void 0!==this.length){if(t.length!==this.length)throw new ValidationError(`Value length must be exactly ${this.length}.`);return}if(void 0!==this.minLength&&t.length<this.minLength)throw new ValidationError(`Value length must be more than ${this.minLength}.`);if(void 0!==this.maxLength&&t.length>this.maxLength)throw new ValidationError(`Value length must be less than ${this.maxLength}.`)}};let EnumerationValidation=class EnumerationValidation{constructor(t){this.enumeration=t}validate(t){if(throwIfTypeIsWrong(t,n.JsonPropTypes.String),!this.enumeration.includes(t))throw new ValidationError(`Value must be one of ${this.enumeration.map(t=>`'${t}'`).join(", ")}`)}};let JsonTransform=class JsonTransform{static checkValues(t,n){let a=Array.isArray(t)?t:[t];for(let i of a)for(let a of n.validations)a instanceof LengthValidation&&n.repeated?a.validate(t):a.validate(i)}static checkTypes(t,n){if(n.repeated&&!Array.isArray(t))throw TypeError("Value must be Array");if("number"==typeof n.type){let a=Array.isArray(t)?t:[t];for(let t of a)throwIfTypeIsWrong(t,n.type)}}static getSchemaByName(t,n=a){return{...t.names[a],...t.names[n]}}};let JsonParser=class JsonParser extends JsonTransform{static parse(t,n){let a=JSON.parse(t);return this.fromJSON(a,n)}static fromJSON(t,n){let o=n.targetSchema,s=n.schemaName||a,l=new o;if(isConvertible(l))return l.fromJSON(t);let u=i.get(o),c=this.getSchemaByName(u,s),d={};for(let a in n.strictProperty&&!Array.isArray(t)&&JsonParser.checkStrictProperty(t,c,u),c)try{let i=c[a],o=i.name||a,d=t[o];if(void 0===d&&(i.optional||void 0!==i.defaultValue))continue;if(!i.optional&&void 0===d)throw new ParserError(u,`Property '${o}' is required.`);if(this.checkTypes(d,i),this.checkValues(d,i),"number"==typeof i.type)i.converter?i.repeated?l[a]=d.map(t=>i.converter.fromJSON(t,l)):l[a]=i.converter.fromJSON(d,l):l[a]=d;else{let t={...n,targetSchema:i.type,schemaName:s};i.repeated?l[a]=d.map(n=>this.fromJSON(n,t)):l[a]=this.fromJSON(d,t)}}catch(t){if(t instanceof ParserError||(t=new ParserError(u,`Property '${a}' is wrong. ${t.message}`,t)),n.strictAllKeys)d[a]=t;else throw t}let h=Object.keys(d);if(h.length)throw new KeyError(u,h,d);return l}static checkStrictProperty(t,n,a){let i=Object.keys(t),o=Object.keys(n),s=[];for(let t of i)-1===o.indexOf(t)&&s.push(t);if(s.length)throw new KeyError(a,s)}};n.JsonError=JsonError,n.JsonParser=JsonParser,n.JsonProp=(t={})=>(o,s)=>{let l;let u=`Cannot set type for ${s} property of ${o.constructor.name} schema`;i.has(o.constructor)?(l=i.get(o.constructor)).target!==o.constructor&&(l=i.create(o.constructor),i.set(o.constructor,l)):(l=i.create(o.constructor),i.set(o.constructor,l));let c={type:n.JsonPropTypes.Any,validations:[]},d=Object.assign(c,t);if(d.validations=function(t){let a=[];return t.pattern&&a.push(new PatternValidation(t.pattern)),(t.type===n.JsonPropTypes.Number||t.type===n.JsonPropTypes.Any)&&((void 0!==t.minInclusive||void 0!==t.maxInclusive)&&a.push(new InclusiveValidation(t.minInclusive,t.maxInclusive)),(void 0!==t.minExclusive||void 0!==t.maxExclusive)&&a.push(new ExclusiveValidation(t.minExclusive,t.maxExclusive)),void 0!==t.enumeration&&a.push(new EnumerationValidation(t.enumeration))),(t.type===n.JsonPropTypes.String||t.repeated||t.type===n.JsonPropTypes.Any)&&(void 0!==t.length||void 0!==t.minLength||void 0!==t.maxLength)&&a.push(new LengthValidation(t.length,t.minLength,t.maxLength)),a}(d),"number"!=typeof d.type&&!i.has(d.type)&&!isConvertible(d.type))throw Error(`${u}. Assigning type doesn't have schema.`);for(let n of Array.isArray(t.schema)?t.schema:[t.schema||a]){l.names[n]||(l.names[n]={});let t=l.names[n];t[s]=d}},n.JsonSerializer=class extends JsonTransform{static serialize(t,n,a,i){let o=this.toJSON(t,n);return JSON.stringify(o,a,i)}static toJSON(t,n={}){let o;let s=n.targetSchema,l=n.schemaName||a;if(isConvertible(t))return t.toJSON();if(Array.isArray(t))for(let a of(o=[],t))o.push(this.toJSON(a,n));else if("object"==typeof t){if(s&&!i.has(s))throw new JsonError("Cannot get schema for `targetSchema` param");if(s=s||t.constructor,i.has(s)){let n=i.get(s);o={};let a=this.getSchemaByName(n,l);for(let i in a)try{let n;let u=a[i],c=t[i];if(u.optional&&void 0===c||void 0!==u.defaultValue&&c===u.defaultValue)continue;if(!u.optional&&void 0===c)throw new SerializerError(s.name,`Property '${i}' is required.`);n="number"==typeof u.type?u.converter?u.repeated?c.map(n=>u.converter.toJSON(n,t)):u.converter.toJSON(c,t):c:u.repeated?c.map(t=>this.toJSON(t,{schemaName:l})):this.toJSON(c,{schemaName:l}),this.checkTypes(n,u),this.checkValues(n,u),o[u.name||i]=n}catch(t){if(t instanceof SerializerError)throw t;throw new SerializerError(n.target.name,`Property '${i}' is wrong. ${t.message}`,t)}}else for(let n in o={},t)o[n]=this.toJSON(t[n],{schemaName:l})}else o=t;return o}},n.KeyError=KeyError,n.ParserError=ParserError,n.SerializerError=SerializerError,n.TransformError=TransformError,n.ValidationError=ValidationError},21604:(t,n,a)=>{"use strict";/*!
 Copyright (c) Peculiar Ventures, LLC
*/var i=a(87713),o=a(6113),s=a(77282),l=a(15803),u=a(55632),c=a(81648),d=a(98763);function _interopNamespaceDefault(t){var n=Object.create(null);return t&&Object.keys(t).forEach(function(a){if("default"!==a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}}),n.default=t,Object.freeze(n)}var h=_interopNamespaceDefault(i),p=_interopNamespaceDefault(o),y=_interopNamespaceDefault(s);let m={fromJSON:t=>Buffer.from(c.Convert.FromBase64Url(t)),toJSON:t=>c.Convert.ToBase64Url(t)};let CryptoKey=class CryptoKey extends h.CryptoKey{constructor(){super(...arguments),this.data=Buffer.alloc(0),this.algorithm={name:""},this.extractable=!1,this.type="secret",this.usages=[],this.kty="oct",this.alg=""}};l.__decorate([u.JsonProp({name:"ext",type:u.JsonPropTypes.Boolean,optional:!0})],CryptoKey.prototype,"extractable",void 0),l.__decorate([u.JsonProp({name:"key_ops",type:u.JsonPropTypes.String,repeated:!0,optional:!0})],CryptoKey.prototype,"usages",void 0),l.__decorate([u.JsonProp({type:u.JsonPropTypes.String})],CryptoKey.prototype,"kty",void 0),l.__decorate([u.JsonProp({type:u.JsonPropTypes.String,optional:!0})],CryptoKey.prototype,"alg",void 0);let SymmetricKey=class SymmetricKey extends CryptoKey{constructor(){super(...arguments),this.kty="oct",this.type="secret"}};let AsymmetricKey=class AsymmetricKey extends CryptoKey{};let AesCryptoKey=class AesCryptoKey extends SymmetricKey{get alg(){switch(this.algorithm.name.toUpperCase()){case"AES-CBC":return`A${this.algorithm.length}CBC`;case"AES-CTR":return`A${this.algorithm.length}CTR`;case"AES-GCM":return`A${this.algorithm.length}GCM`;case"AES-KW":return`A${this.algorithm.length}KW`;case"AES-CMAC":return`A${this.algorithm.length}CMAC`;case"AES-ECB":return`A${this.algorithm.length}ECB`;default:throw new h.AlgorithmError("Unsupported algorithm name")}}set alg(t){}};l.__decorate([u.JsonProp({name:"k",converter:m})],AesCryptoKey.prototype,"data",void 0);let g=new WeakMap;function getCryptoKey(t){let n=g.get(t);if(!n)throw new h.OperationError("Cannot get CryptoKey from secure storage");return n}function setCryptoKey(t){let n=h.CryptoKey.create(t.algorithm,t.type,t.extractable,t.usages);return Object.freeze(n),g.set(n,t),n}let AesCrypto=class AesCrypto{static async generateKey(t,n,a){let i=new AesCryptoKey;return i.algorithm=t,i.extractable=n,i.usages=a,i.data=o.randomBytes(t.length>>3),i}static async exportKey(t,n){if(!(n instanceof AesCryptoKey))throw Error("key: Is not AesCryptoKey");switch(t.toLowerCase()){case"jwk":return u.JsonSerializer.toJSON(n);case"raw":return new Uint8Array(n.data).buffer;default:throw new h.OperationError("format: Must be 'jwk' or 'raw'")}}static async importKey(t,n,a,i,o){let s;switch(t.toLowerCase()){case"jwk":s=u.JsonParser.fromJSON(n,{targetSchema:AesCryptoKey});break;case"raw":(s=new AesCryptoKey).data=Buffer.from(n);break;default:throw new h.OperationError("format: Must be 'jwk' or 'raw'")}switch(s.algorithm=a,s.algorithm.length=s.data.length<<3,s.extractable=i,s.usages=o,s.algorithm.length){case 128:case 192:case 256:break;default:throw new h.OperationError("keyData: Is wrong key length")}return s}static async encrypt(t,n,a){switch(t.name.toUpperCase()){case"AES-CBC":return this.encryptAesCBC(t,n,Buffer.from(a));case"AES-CTR":return this.encryptAesCTR(t,n,Buffer.from(a));case"AES-GCM":return this.encryptAesGCM(t,n,Buffer.from(a));case"AES-KW":return this.encryptAesKW(t,n,Buffer.from(a));case"AES-ECB":return this.encryptAesECB(t,n,Buffer.from(a));default:throw new h.OperationError("algorithm: Is not recognized")}}static async decrypt(t,n,a){if(!(n instanceof AesCryptoKey))throw Error("key: Is not AesCryptoKey");switch(t.name.toUpperCase()){case"AES-CBC":return this.decryptAesCBC(t,n,Buffer.from(a));case"AES-CTR":return this.decryptAesCTR(t,n,Buffer.from(a));case"AES-GCM":return this.decryptAesGCM(t,n,Buffer.from(a));case"AES-KW":return this.decryptAesKW(t,n,Buffer.from(a));case"AES-ECB":return this.decryptAesECB(t,n,Buffer.from(a));default:throw new h.OperationError("algorithm: Is not recognized")}}static async encryptAesCBC(t,n,a){let i=o.createCipheriv(`aes-${n.algorithm.length}-cbc`,n.data,new Uint8Array(t.iv)),s=i.update(a);s=Buffer.concat([s,i.final()]);let l=new Uint8Array(s).buffer;return l}static async decryptAesCBC(t,n,a){let i=o.createDecipheriv(`aes-${n.algorithm.length}-cbc`,n.data,new Uint8Array(t.iv)),s=i.update(a);return s=Buffer.concat([s,i.final()]),new Uint8Array(s).buffer}static async encryptAesCTR(t,n,a){let i=o.createCipheriv(`aes-${n.algorithm.length}-ctr`,n.data,Buffer.from(t.counter)),s=i.update(a);s=Buffer.concat([s,i.final()]);let l=new Uint8Array(s).buffer;return l}static async decryptAesCTR(t,n,a){let i=o.createDecipheriv(`aes-${n.algorithm.length}-ctr`,n.data,new Uint8Array(t.counter)),s=i.update(a);return s=Buffer.concat([s,i.final()]),new Uint8Array(s).buffer}static async encryptAesGCM(t,n,a){let i=o.createCipheriv(`aes-${n.algorithm.length}-gcm`,n.data,Buffer.from(t.iv),{authTagLength:(t.tagLength||128)>>3});t.additionalData&&i.setAAD(Buffer.from(t.additionalData));let s=i.update(a);s=Buffer.concat([s,i.final(),i.getAuthTag()]);let l=new Uint8Array(s).buffer;return l}static async decryptAesGCM(t,n,a){let i=o.createDecipheriv(`aes-${n.algorithm.length}-gcm`,n.data,new Uint8Array(t.iv)),s=(t.tagLength||128)>>3,l=a.slice(0,a.length-s),u=a.slice(a.length-s);t.additionalData&&i.setAAD(Buffer.from(t.additionalData)),i.setAuthTag(u);let c=i.update(l);return c=Buffer.concat([c,i.final()]),new Uint8Array(c).buffer}static async encryptAesKW(t,n,a){let i=o.createCipheriv(`id-aes${n.algorithm.length}-wrap`,n.data,this.AES_KW_IV),s=i.update(a);return s=Buffer.concat([s,i.final()]),new Uint8Array(s).buffer}static async decryptAesKW(t,n,a){let i=o.createDecipheriv(`id-aes${n.algorithm.length}-wrap`,n.data,this.AES_KW_IV),s=i.update(a);return s=Buffer.concat([s,i.final()]),new Uint8Array(s).buffer}static async encryptAesECB(t,n,a){let i=o.createCipheriv(`aes-${n.algorithm.length}-ecb`,n.data,new Uint8Array(0)),s=i.update(a);s=Buffer.concat([s,i.final()]);let l=new Uint8Array(s).buffer;return l}static async decryptAesECB(t,n,a){let i=o.createDecipheriv(`aes-${n.algorithm.length}-ecb`,n.data,new Uint8Array(0)),s=i.update(a);return s=Buffer.concat([s,i.final()]),new Uint8Array(s).buffer}};AesCrypto.AES_KW_IV=Buffer.from("A6A6A6A6A6A6A6A6","hex");let AesCbcProvider=class AesCbcProvider extends h.AesCbcProvider{async onGenerateKey(t,n,a){let i=await AesCrypto.generateKey({name:this.name,length:t.length},n,a);return setCryptoKey(i)}async onEncrypt(t,n,a){return AesCrypto.encrypt(t,getCryptoKey(n),new Uint8Array(a))}async onDecrypt(t,n,a){return AesCrypto.decrypt(t,getCryptoKey(n),new Uint8Array(a))}async onExportKey(t,n){return AesCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await AesCrypto.importKey(t,n,{name:a.name},i,o);return setCryptoKey(s)}checkCryptoKey(t,n){if(super.checkCryptoKey(t,n),!(getCryptoKey(t) instanceof AesCryptoKey))throw TypeError("key: Is not a AesCryptoKey")}};let b=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),v=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135]);function bitShiftLeft(t){let n=Buffer.alloc(t.length),a=t.length-1;for(let i=0;i<a;i++)n[i]=t[i]<<1,128&t[i+1]&&(n[i]+=1);return n[a]=t[a]<<1,n}function xor(t,n){let a=Math.min(t.length,n.length),i=Buffer.alloc(a);for(let o=0;o<a;o++)i[o]=t[o]^n[o];return i}function aes(t,n){let a=p.createCipheriv(`aes${t.length<<3}`,t,b),i=a.update(n);return a.final(),i}function getMessageBlock(t,n){let a=Buffer.alloc(16),i=16*n,o=i+16;return t.copy(a,0,i,o),a}let AesCmacProvider=class AesCmacProvider extends h.AesCmacProvider{async onGenerateKey(t,n,a){let i=await AesCrypto.generateKey({name:this.name,length:t.length},n,a);return setCryptoKey(i)}async onSign(t,n,a){let i=function(t,n){let a,i;let o=function(t){let n=aes(t,b),a=bitShiftLeft(n);128&n[0]&&(a=xor(a,v));let i=bitShiftLeft(a);return 128&a[0]&&(i=xor(i,v)),{subkey1:a,subkey2:i}}(t),s=Math.ceil(n.length/16);0===s?(s=1,a=!1):a=n.length%16==0;let l=s-1;i=a?xor(getMessageBlock(n,l),o.subkey1):xor(function(t,n){let a=Buffer.alloc(16),i=16*n,o=t.length;return a.fill(0),t.copy(a,0,i,o),a[o-i]=128,a}(n,l),o.subkey2);let u=b;for(let a=0;a<l;a++)u=aes(t,xor(u,getMessageBlock(n,a)));return aes(t,xor(i,u))}(getCryptoKey(n).data,Buffer.from(a));return new Uint8Array(i).buffer}async onVerify(t,n,a,i){let o=await this.sign(t,n,i);return 0===Buffer.from(a).compare(Buffer.from(o))}async onExportKey(t,n){return AesCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await AesCrypto.importKey(t,n,{name:a.name},i,o);return setCryptoKey(s)}checkCryptoKey(t,n){if(super.checkCryptoKey(t,n),!(getCryptoKey(t) instanceof AesCryptoKey))throw TypeError("key: Is not a AesCryptoKey")}};let AesCtrProvider=class AesCtrProvider extends h.AesCtrProvider{async onGenerateKey(t,n,a){let i=await AesCrypto.generateKey({name:this.name,length:t.length},n,a);return setCryptoKey(i)}async onEncrypt(t,n,a){return AesCrypto.encrypt(t,getCryptoKey(n),new Uint8Array(a))}async onDecrypt(t,n,a){return AesCrypto.decrypt(t,getCryptoKey(n),new Uint8Array(a))}async onExportKey(t,n){return AesCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await AesCrypto.importKey(t,n,{name:a.name},i,o);return setCryptoKey(s)}checkCryptoKey(t,n){if(super.checkCryptoKey(t,n),!(getCryptoKey(t) instanceof AesCryptoKey))throw TypeError("key: Is not a AesCryptoKey")}};let AesGcmProvider=class AesGcmProvider extends h.AesGcmProvider{async onGenerateKey(t,n,a){let i=await AesCrypto.generateKey({name:this.name,length:t.length},n,a);return setCryptoKey(i)}async onEncrypt(t,n,a){return AesCrypto.encrypt(t,getCryptoKey(n),new Uint8Array(a))}async onDecrypt(t,n,a){return AesCrypto.decrypt(t,getCryptoKey(n),new Uint8Array(a))}async onExportKey(t,n){return AesCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await AesCrypto.importKey(t,n,{name:a.name},i,o);return setCryptoKey(s)}checkCryptoKey(t,n){if(super.checkCryptoKey(t,n),!(getCryptoKey(t) instanceof AesCryptoKey))throw TypeError("key: Is not a AesCryptoKey")}};let AesKwProvider=class AesKwProvider extends h.AesKwProvider{async onGenerateKey(t,n,a){let i=await AesCrypto.generateKey({name:this.name,length:t.length},n,a);return setCryptoKey(i)}async onExportKey(t,n){return AesCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await AesCrypto.importKey(t,n,{name:a.name},i,o);return setCryptoKey(s)}async onEncrypt(t,n,a){return AesCrypto.encrypt(t,getCryptoKey(n),new Uint8Array(a))}async onDecrypt(t,n,a){return AesCrypto.decrypt(t,getCryptoKey(n),new Uint8Array(a))}checkCryptoKey(t,n){if(super.checkCryptoKey(t,n),!(getCryptoKey(t) instanceof AesCryptoKey))throw TypeError("key: Is not a AesCryptoKey")}};let AesEcbProvider=class AesEcbProvider extends h.AesEcbProvider{async onGenerateKey(t,n,a){let i=await AesCrypto.generateKey({name:this.name,length:t.length},n,a);return setCryptoKey(i)}async onEncrypt(t,n,a){return AesCrypto.encrypt(t,getCryptoKey(n),new Uint8Array(a))}async onDecrypt(t,n,a){return AesCrypto.decrypt(t,getCryptoKey(n),new Uint8Array(a))}async onExportKey(t,n){return AesCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await AesCrypto.importKey(t,n,{name:a.name},i,o);return setCryptoKey(s)}checkCryptoKey(t,n){if(super.checkCryptoKey(t,n),!(getCryptoKey(t) instanceof AesCryptoKey))throw TypeError("key: Is not a AesCryptoKey")}};let DesCryptoKey=class DesCryptoKey extends SymmetricKey{get alg(){switch(this.algorithm.name.toUpperCase()){case"DES-CBC":return"DES-CBC";case"DES-EDE3-CBC":return"3DES-CBC";default:throw new h.AlgorithmError("Unsupported algorithm name")}}set alg(t){}};l.__decorate([u.JsonProp({name:"k",converter:m})],DesCryptoKey.prototype,"data",void 0);let DesCrypto=class DesCrypto{static async generateKey(t,n,a){let i=new DesCryptoKey;return i.algorithm=t,i.extractable=n,i.usages=a,i.data=o.randomBytes(t.length>>3),i}static async exportKey(t,n){switch(t.toLowerCase()){case"jwk":return u.JsonSerializer.toJSON(n);case"raw":return new Uint8Array(n.data).buffer;default:throw new h.OperationError("format: Must be 'jwk' or 'raw'")}}static async importKey(t,n,a,i,o){let s;switch(t.toLowerCase()){case"jwk":s=u.JsonParser.fromJSON(n,{targetSchema:DesCryptoKey});break;case"raw":(s=new DesCryptoKey).data=Buffer.from(n);break;default:throw new h.OperationError("format: Must be 'jwk' or 'raw'")}return s.algorithm=a,s.extractable=i,s.usages=o,s}static async encrypt(t,n,a){switch(t.name.toUpperCase()){case"DES-CBC":return this.encryptDesCBC(t,n,Buffer.from(a));case"DES-EDE3-CBC":return this.encryptDesEDE3CBC(t,n,Buffer.from(a));default:throw new h.OperationError("algorithm: Is not recognized")}}static async decrypt(t,n,a){if(!(n instanceof DesCryptoKey))throw Error("key: Is not DesCryptoKey");switch(t.name.toUpperCase()){case"DES-CBC":return this.decryptDesCBC(t,n,Buffer.from(a));case"DES-EDE3-CBC":return this.decryptDesEDE3CBC(t,n,Buffer.from(a));default:throw new h.OperationError("algorithm: Is not recognized")}}static async encryptDesCBC(t,n,a){let i=o.createCipheriv("des-cbc",n.data,new Uint8Array(t.iv)),s=i.update(a);s=Buffer.concat([s,i.final()]);let l=new Uint8Array(s).buffer;return l}static async decryptDesCBC(t,n,a){let i=o.createDecipheriv("des-cbc",n.data,new Uint8Array(t.iv)),s=i.update(a);return s=Buffer.concat([s,i.final()]),new Uint8Array(s).buffer}static async encryptDesEDE3CBC(t,n,a){let i=o.createCipheriv("des-ede3-cbc",n.data,Buffer.from(t.iv)),s=i.update(a);s=Buffer.concat([s,i.final()]);let l=new Uint8Array(s).buffer;return l}static async decryptDesEDE3CBC(t,n,a){let i=o.createDecipheriv("des-ede3-cbc",n.data,new Uint8Array(t.iv)),s=i.update(a);return s=Buffer.concat([s,i.final()]),new Uint8Array(s).buffer}};let DesCbcProvider=class DesCbcProvider extends h.DesProvider{constructor(){super(...arguments),this.keySizeBits=64,this.ivSize=8,this.name="DES-CBC"}async onGenerateKey(t,n,a){let i=await DesCrypto.generateKey({name:this.name,length:this.keySizeBits},n,a);return setCryptoKey(i)}async onEncrypt(t,n,a){return DesCrypto.encrypt(t,getCryptoKey(n),new Uint8Array(a))}async onDecrypt(t,n,a){return DesCrypto.decrypt(t,getCryptoKey(n),new Uint8Array(a))}async onExportKey(t,n){return DesCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await DesCrypto.importKey(t,n,{name:this.name,length:this.keySizeBits},i,o);if(s.data.length!==this.keySizeBits>>3)throw new h.OperationError("keyData: Wrong key size");return setCryptoKey(s)}checkCryptoKey(t,n){if(super.checkCryptoKey(t,n),!(getCryptoKey(t) instanceof DesCryptoKey))throw TypeError("key: Is not a DesCryptoKey")}};let DesEde3CbcProvider=class DesEde3CbcProvider extends h.DesProvider{constructor(){super(...arguments),this.keySizeBits=192,this.ivSize=8,this.name="DES-EDE3-CBC"}async onGenerateKey(t,n,a){let i=await DesCrypto.generateKey({name:this.name,length:this.keySizeBits},n,a);return setCryptoKey(i)}async onEncrypt(t,n,a){return DesCrypto.encrypt(t,getCryptoKey(n),new Uint8Array(a))}async onDecrypt(t,n,a){return DesCrypto.decrypt(t,getCryptoKey(n),new Uint8Array(a))}async onExportKey(t,n){return DesCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await DesCrypto.importKey(t,n,{name:this.name,length:this.keySizeBits},i,o);if(s.data.length!==this.keySizeBits>>3)throw new h.OperationError("keyData: Wrong key size");return setCryptoKey(s)}checkCryptoKey(t,n){if(super.checkCryptoKey(t,n),!(getCryptoKey(t) instanceof DesCryptoKey))throw TypeError("key: Is not a DesCryptoKey")}};function getJwkAlgorithm(t){switch(t.name.toUpperCase()){case"RSA-OAEP":{let n=/(\d+)$/.exec(t.hash.name)[1];return`RSA-OAEP${"1"!==n?`-${n}`:""}`}case"RSASSA-PKCS1-V1_5":return`RS${/(\d+)$/.exec(t.hash.name)[1]}`;case"RSA-PSS":return`PS${/(\d+)$/.exec(t.hash.name)[1]}`;case"RSA-PKCS1":return"RS1";default:throw new h.OperationError("algorithm: Is not recognized")}}let RsaPrivateKey=class RsaPrivateKey extends AsymmetricKey{constructor(){super(...arguments),this.type="private"}getKey(){let t=d.AsnParser.parse(this.data,h.asn1.PrivateKeyInfo);return d.AsnParser.parse(t.privateKey,h.asn1.RsaPrivateKey)}toJSON(){let t=this.getKey(),n={kty:"RSA",alg:getJwkAlgorithm(this.algorithm),key_ops:this.usages,ext:this.extractable};return Object.assign(n,u.JsonSerializer.toJSON(t))}fromJSON(t){let n=u.JsonParser.fromJSON(t,{targetSchema:h.asn1.RsaPrivateKey}),a=new h.asn1.PrivateKeyInfo;a.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",a.privateKeyAlgorithm.parameters=null,a.privateKey=d.AsnSerializer.serialize(n),this.data=Buffer.from(d.AsnSerializer.serialize(a))}};let RsaPublicKey=class RsaPublicKey extends AsymmetricKey{constructor(){super(...arguments),this.type="public"}getKey(){let t=d.AsnParser.parse(this.data,h.asn1.PublicKeyInfo);return d.AsnParser.parse(t.publicKey,h.asn1.RsaPublicKey)}toJSON(){let t=this.getKey(),n={kty:"RSA",alg:getJwkAlgorithm(this.algorithm),key_ops:this.usages,ext:this.extractable};return Object.assign(n,u.JsonSerializer.toJSON(t))}fromJSON(t){let n=u.JsonParser.fromJSON(t,{targetSchema:h.asn1.RsaPublicKey}),a=new h.asn1.PublicKeyInfo;a.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",a.publicKeyAlgorithm.parameters=null,a.publicKey=d.AsnSerializer.serialize(n),this.data=Buffer.from(d.AsnSerializer.serialize(a))}};let RsaCrypto=class RsaCrypto{static async generateKey(t,n,a){let i=new RsaPrivateKey;i.algorithm=t,i.extractable=n,i.usages=a.filter(t=>-1!==this.privateKeyUsages.indexOf(t));let s=new RsaPublicKey;s.algorithm=t,s.extractable=!0,s.usages=a.filter(t=>-1!==this.publicKeyUsages.indexOf(t));let l=Buffer.concat([Buffer.alloc(4-t.publicExponent.byteLength,0),Buffer.from(t.publicExponent)]).readInt32BE(0),u=o.generateKeyPairSync("rsa",{modulusLength:t.modulusLength,publicExponent:l,publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=u.privateKey,s.data=u.publicKey,{privateKey:i,publicKey:s}}static async exportKey(t,n){switch(t.toLowerCase()){case"jwk":return u.JsonSerializer.toJSON(n);case"pkcs8":case"spki":return new Uint8Array(n.data).buffer;default:throw new h.OperationError("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async importKey(t,n,a,i,o){switch(t.toLowerCase()){case"jwk":if(n.d){let t=u.JsonParser.fromJSON(n,{targetSchema:h.asn1.RsaPrivateKey});return this.importPrivateKey(t,a,i,o)}{let t=u.JsonParser.fromJSON(n,{targetSchema:h.asn1.RsaPublicKey});return this.importPublicKey(t,a,i,o)}case"spki":{let t=d.AsnParser.parse(new Uint8Array(n),h.asn1.PublicKeyInfo),s=d.AsnParser.parse(t.publicKey,h.asn1.RsaPublicKey);return this.importPublicKey(s,a,i,o)}case"pkcs8":{let t=d.AsnParser.parse(new Uint8Array(n),h.asn1.PrivateKeyInfo),s=d.AsnParser.parse(t.privateKey,h.asn1.RsaPrivateKey);return this.importPrivateKey(s,a,i,o)}default:throw new h.OperationError("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async sign(t,n,a){switch(t.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.signRsa(t,n,a);default:throw new h.OperationError("algorithm: Is not recognized")}}static async verify(t,n,a,i){switch(t.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.verifySSA(t,n,i,a);default:throw new h.OperationError("algorithm: Is not recognized")}}static async encrypt(t,n,a){if("RSA-OAEP"===t.name.toUpperCase())return this.encryptOAEP(t,n,a);throw new h.OperationError("algorithm: Is not recognized")}static async decrypt(t,n,a){if("RSA-OAEP"===t.name.toUpperCase())return this.decryptOAEP(t,n,a);throw new h.OperationError("algorithm: Is not recognized")}static importPrivateKey(t,n,a,i){let o=new h.asn1.PrivateKeyInfo;o.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",o.privateKeyAlgorithm.parameters=null,o.privateKey=d.AsnSerializer.serialize(t);let s=new RsaPrivateKey;return s.data=Buffer.from(d.AsnSerializer.serialize(o)),s.algorithm=Object.assign({},n),s.algorithm.publicExponent=new Uint8Array(t.publicExponent),s.algorithm.modulusLength=t.modulus.byteLength<<3,s.extractable=a,s.usages=i,s}static importPublicKey(t,n,a,i){let o=new h.asn1.PublicKeyInfo;o.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",o.publicKeyAlgorithm.parameters=null,o.publicKey=d.AsnSerializer.serialize(t);let s=new RsaPublicKey;return s.data=Buffer.from(d.AsnSerializer.serialize(o)),s.algorithm=Object.assign({},n),s.algorithm.publicExponent=new Uint8Array(t.publicExponent),s.algorithm.modulusLength=t.modulus.byteLength<<3,s.extractable=a,s.usages=i,s}static getCryptoAlgorithm(t){switch(t.hash.name.toUpperCase()){case"SHA-1":return"RSA-SHA1";case"SHA-256":return"RSA-SHA256";case"SHA-384":return"RSA-SHA384";case"SHA-512":return"RSA-SHA512";case"SHA3-256":return"RSA-SHA3-256";case"SHA3-384":return"RSA-SHA3-384";case"SHA3-512":return"RSA-SHA3-512";default:throw new h.OperationError("algorithm.hash: Is not recognized")}}static signRsa(t,n,a){let i=this.getCryptoAlgorithm(n.algorithm),s=o.createSign(i);s.update(Buffer.from(a)),n.pem||(n.pem=`-----BEGIN PRIVATE KEY-----
${n.data.toString("base64")}
-----END PRIVATE KEY-----`);let l={key:n.pem};"RSA-PSS"===t.name.toUpperCase()&&(l.padding=o.constants.RSA_PKCS1_PSS_PADDING,l.saltLength=t.saltLength);let u=s.sign(l);return new Uint8Array(u).buffer}static verifySSA(t,n,a,i){let s=this.getCryptoAlgorithm(n.algorithm),l=o.createVerify(s);l.update(Buffer.from(a)),n.pem||(n.pem=`-----BEGIN PUBLIC KEY-----
${n.data.toString("base64")}
-----END PUBLIC KEY-----`);let u={key:n.pem};"RSA-PSS"===t.name.toUpperCase()&&(u.padding=o.constants.RSA_PKCS1_PSS_PADDING,u.saltLength=t.saltLength);let c=l.verify(u,i);return c}static encryptOAEP(t,n,a){let i={key:`-----BEGIN PUBLIC KEY-----
${n.data.toString("base64")}
-----END PUBLIC KEY-----`,padding:o.constants.RSA_PKCS1_OAEP_PADDING};return t.label,new Uint8Array(o.publicEncrypt(i,a)).buffer}static decryptOAEP(t,n,a){let i={key:`-----BEGIN PRIVATE KEY-----
${n.data.toString("base64")}
-----END PRIVATE KEY-----`,padding:o.constants.RSA_PKCS1_OAEP_PADDING};return t.label,new Uint8Array(o.privateDecrypt(i,a)).buffer}};RsaCrypto.publicKeyUsages=["verify","encrypt","wrapKey"],RsaCrypto.privateKeyUsages=["sign","decrypt","unwrapKey"];let RsaSsaProvider=class RsaSsaProvider extends h.RsaSsaProvider{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(t,n,a){let i=await RsaCrypto.generateKey({...t,name:this.name},n,a);return{privateKey:setCryptoKey(i.privateKey),publicKey:setCryptoKey(i.publicKey)}}async onSign(t,n,a){return RsaCrypto.sign(t,getCryptoKey(n),new Uint8Array(a))}async onVerify(t,n,a,i){return RsaCrypto.verify(t,getCryptoKey(n),new Uint8Array(a),new Uint8Array(i))}async onExportKey(t,n){return RsaCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await RsaCrypto.importKey(t,n,{...a,name:this.name},i,o);return setCryptoKey(s)}checkCryptoKey(t,n){super.checkCryptoKey(t,n);let a=getCryptoKey(t);if(!(a instanceof RsaPrivateKey||a instanceof RsaPublicKey))throw TypeError("key: Is not RSA CryptoKey")}};let RsaPssProvider=class RsaPssProvider extends h.RsaPssProvider{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(t,n,a){let i=await RsaCrypto.generateKey({...t,name:this.name},n,a);return{privateKey:setCryptoKey(i.privateKey),publicKey:setCryptoKey(i.publicKey)}}async onSign(t,n,a){return RsaCrypto.sign(t,getCryptoKey(n),new Uint8Array(a))}async onVerify(t,n,a,i){return RsaCrypto.verify(t,getCryptoKey(n),new Uint8Array(a),new Uint8Array(i))}async onExportKey(t,n){return RsaCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await RsaCrypto.importKey(t,n,{...a,name:this.name},i,o);return setCryptoKey(s)}checkCryptoKey(t,n){super.checkCryptoKey(t,n);let a=getCryptoKey(t);if(!(a instanceof RsaPrivateKey||a instanceof RsaPublicKey))throw TypeError("key: Is not RSA CryptoKey")}};let ShaCrypto=class ShaCrypto{static size(t){switch(t.name.toUpperCase()){case"SHA-1":return 160;case"SHA-256":case"SHA3-256":return 256;case"SHA-384":case"SHA3-384":return 384;case"SHA-512":case"SHA3-512":return 512;default:throw Error("Unrecognized name")}}static getAlgorithmName(t){switch(t.name.toUpperCase()){case"SHA-1":return"sha1";case"SHA-256":return"sha256";case"SHA-384":return"sha384";case"SHA-512":return"sha512";case"SHA3-256":return"sha3-256";case"SHA3-384":return"sha3-384";case"SHA3-512":return"sha3-512";default:throw Error("Unrecognized name")}}static digest(t,n){let a=this.getAlgorithmName(t),i=o.createHash(a).update(Buffer.from(n)).digest();return new Uint8Array(i).buffer}};let RsaOaepProvider=class RsaOaepProvider extends h.RsaOaepProvider{async onGenerateKey(t,n,a){let i=await RsaCrypto.generateKey({...t,name:this.name},n,a);return{privateKey:setCryptoKey(i.privateKey),publicKey:setCryptoKey(i.publicKey)}}async onEncrypt(t,n,a){let i=getCryptoKey(n),s=new Uint8Array(a),l=Math.ceil(i.algorithm.modulusLength>>3),u=ShaCrypto.size(i.algorithm.hash)>>3,c=s.byteLength,d=l-c-2*u-2;if(c>l-2*u-2)throw Error("Data too large");let p=new Uint8Array(l),y=p.subarray(1,u+1),m=p.subarray(u+1);m.set(s,u+d+1);let g=o.createHash(i.algorithm.hash.name.replace("-","")).update(h.BufferSourceConverter.toUint8Array(t.label||new Uint8Array(0))).digest();m.set(g,0),m[u+d]=1,o.randomFillSync(y);let b=this.mgf1(i.algorithm.hash,y,m.length);for(let t=0;t<m.length;t++)m[t]^=b[t];let v=this.mgf1(i.algorithm.hash,m,y.length);for(let t=0;t<y.length;t++)y[t]^=v[t];i.pem||(i.pem=`-----BEGIN PUBLIC KEY-----
${i.data.toString("base64")}
-----END PUBLIC KEY-----`);let S=o.publicEncrypt({key:i.pem,padding:o.constants.RSA_NO_PADDING},Buffer.from(p));return new Uint8Array(S).buffer}async onDecrypt(t,n,a){let i=getCryptoKey(n),s=Math.ceil(i.algorithm.modulusLength>>3),l=ShaCrypto.size(i.algorithm.hash)>>3,u=a.byteLength;if(u!==s)throw Error("Bad data");i.pem||(i.pem=`-----BEGIN PRIVATE KEY-----
${i.data.toString("base64")}
-----END PRIVATE KEY-----`);let c=o.privateDecrypt({key:i.pem,padding:o.constants.RSA_NO_PADDING},Buffer.from(a)),d=c[0],p=c.subarray(1,l+1),y=c.subarray(l+1);if(0!==d)throw Error("Decryption failed");let m=this.mgf1(i.algorithm.hash,y,p.length);for(let t=0;t<p.length;t++)p[t]^=m[t];let g=this.mgf1(i.algorithm.hash,p,y.length);for(let t=0;t<y.length;t++)y[t]^=g[t];let b=o.createHash(i.algorithm.hash.name.replace("-","")).update(h.BufferSourceConverter.toUint8Array(t.label||new Uint8Array(0))).digest();for(let t=0;t<l;t++)if(b[t]!==y[t])throw Error("Decryption failed");let v=l;for(;v<y.length;v++){let t=y[v];if(1===t)break;if(0!==t)throw Error("Decryption failed")}if(v===y.length)throw Error("Decryption failed");return c=y.subarray(v+1),new Uint8Array(c).buffer}async onExportKey(t,n){return RsaCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await RsaCrypto.importKey(t,n,{...a,name:this.name},i,o);return setCryptoKey(s)}checkCryptoKey(t,n){super.checkCryptoKey(t,n);let a=getCryptoKey(t);if(!(a instanceof RsaPrivateKey||a instanceof RsaPublicKey))throw TypeError("key: Is not RSA CryptoKey")}mgf1(t,n,a=0){let i=ShaCrypto.size(t)>>3,s=new Uint8Array(a),l=new Uint8Array(4),u=Math.ceil(a/i);for(let a=0;a<u;a++){l[0]=a>>>24,l[1]=a>>>16&255,l[2]=a>>>8&255,l[3]=255&a;let u=s.subarray(a*i),c=o.createHash(t.name.replace("-","")).update(n).update(l).digest();c.length>u.length&&(c=c.subarray(0,u.length)),u.set(c)}return s}};let RsaEsProvider=class RsaEsProvider extends h.ProviderCrypto{constructor(){super(...arguments),this.name="RSAES-PKCS1-v1_5",this.usages={publicKey:["encrypt","wrapKey"],privateKey:["decrypt","unwrapKey"]}}async onGenerateKey(t,n,a){let i=await RsaCrypto.generateKey({...t,name:this.name},n,a);return{privateKey:setCryptoKey(i.privateKey),publicKey:setCryptoKey(i.publicKey)}}checkGenerateKeyParams(t){if(this.checkRequiredProperty(t,"publicExponent"),!(t.publicExponent&&t.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let n=c.Convert.ToBase64(t.publicExponent);if(!("Aw=="===n||"AQAB"===n))throw TypeError("publicExponent: Must be [3] or [1,0,1]");switch(this.checkRequiredProperty(t,"modulusLength"),t.modulusLength){case 1024:case 2048:case 4096:break;default:throw TypeError("modulusLength: Must be 1024, 2048, or 4096")}}async onEncrypt(t,n,a){let i=this.toCryptoOptions(n),o=p.publicEncrypt(i,new Uint8Array(a));return new Uint8Array(o).buffer}async onDecrypt(t,n,a){let i=this.toCryptoOptions(n),o=p.privateDecrypt(i,new Uint8Array(a));return new Uint8Array(o).buffer}async onExportKey(t,n){return RsaCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await RsaCrypto.importKey(t,n,{...a,name:this.name},i,o);return setCryptoKey(s)}checkCryptoKey(t,n){super.checkCryptoKey(t,n);let a=getCryptoKey(t);if(!(a instanceof RsaPrivateKey||a instanceof RsaPublicKey))throw TypeError("key: Is not RSA CryptoKey")}toCryptoOptions(t){let n=t.type.toUpperCase();return{key:`-----BEGIN ${n} KEY-----
${getCryptoKey(t).data.toString("base64")}
-----END ${n} KEY-----`,padding:p.constants.RSA_PKCS1_PADDING}}};let S={"1.2.840.10045.3.1.7":"P-256","P-256":"1.2.840.10045.3.1.7","1.3.132.0.34":"P-384","P-384":"1.3.132.0.34","1.3.132.0.35":"P-521","P-521":"1.3.132.0.35","1.3.132.0.10":"K-256","K-256":"1.3.132.0.10",brainpoolP160r1:"1.3.36.3.3.2.8.1.1.1","1.3.36.3.3.2.8.1.1.1":"brainpoolP160r1",brainpoolP160t1:"1.3.36.3.3.2.8.1.1.2","1.3.36.3.3.2.8.1.1.2":"brainpoolP160t1",brainpoolP192r1:"1.3.36.3.3.2.8.1.1.3","1.3.36.3.3.2.8.1.1.3":"brainpoolP192r1",brainpoolP192t1:"1.3.36.3.3.2.8.1.1.4","1.3.36.3.3.2.8.1.1.4":"brainpoolP192t1",brainpoolP224r1:"1.3.36.3.3.2.8.1.1.5","1.3.36.3.3.2.8.1.1.5":"brainpoolP224r1",brainpoolP224t1:"1.3.36.3.3.2.8.1.1.6","1.3.36.3.3.2.8.1.1.6":"brainpoolP224t1",brainpoolP256r1:"1.3.36.3.3.2.8.1.1.7","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1",brainpoolP256t1:"1.3.36.3.3.2.8.1.1.8","1.3.36.3.3.2.8.1.1.8":"brainpoolP256t1",brainpoolP320r1:"1.3.36.3.3.2.8.1.1.9","1.3.36.3.3.2.8.1.1.9":"brainpoolP320r1",brainpoolP320t1:"1.3.36.3.3.2.8.1.1.10","1.3.36.3.3.2.8.1.1.10":"brainpoolP320t1",brainpoolP384r1:"1.3.36.3.3.2.8.1.1.11","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1",brainpoolP384t1:"1.3.36.3.3.2.8.1.1.12","1.3.36.3.3.2.8.1.1.12":"brainpoolP384t1",brainpoolP512r1:"1.3.36.3.3.2.8.1.1.13","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1",brainpoolP512t1:"1.3.36.3.3.2.8.1.1.14","1.3.36.3.3.2.8.1.1.14":"brainpoolP512t1"};function getOidByNamedCurve$1(t){let n=S[t];if(!n)throw new h.OperationError(`Cannot convert WebCrypto named curve '${t}' to OID`);return n}let EcPrivateKey=class EcPrivateKey extends AsymmetricKey{constructor(){super(...arguments),this.type="private"}getKey(){let t=d.AsnParser.parse(this.data,h.asn1.PrivateKeyInfo);return d.AsnParser.parse(t.privateKey,h.asn1.EcPrivateKey)}toJSON(){let t=this.getKey(),n={kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(n,u.JsonSerializer.toJSON(t))}fromJSON(t){if(!t.crv)throw new h.OperationError("Cannot get named curve from JWK. Property 'crv' is required");let n=new h.asn1.PrivateKeyInfo;n.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",n.privateKeyAlgorithm.parameters=d.AsnSerializer.serialize(new h.asn1.ObjectIdentifier(getOidByNamedCurve$1(t.crv)));let a=u.JsonParser.fromJSON(t,{targetSchema:h.asn1.EcPrivateKey});return n.privateKey=d.AsnSerializer.serialize(a),this.data=Buffer.from(d.AsnSerializer.serialize(n)),this}};let EcPublicKey=class EcPublicKey extends AsymmetricKey{constructor(){super(...arguments),this.type="public"}getKey(){let t=d.AsnParser.parse(this.data,h.asn1.PublicKeyInfo);return new h.asn1.EcPublicKey(t.publicKey)}toJSON(){let t=this.getKey(),n={kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(n,u.JsonSerializer.toJSON(t))}fromJSON(t){if(!t.crv)throw new h.OperationError("Cannot get named curve from JWK. Property 'crv' is required");let n=u.JsonParser.fromJSON(t,{targetSchema:h.asn1.EcPublicKey}),a=new h.asn1.PublicKeyInfo;return a.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1",a.publicKeyAlgorithm.parameters=d.AsnSerializer.serialize(new h.asn1.ObjectIdentifier(getOidByNamedCurve$1(t.crv))),a.publicKey=d.AsnSerializer.toASN(n).valueHex,this.data=Buffer.from(d.AsnSerializer.serialize(a)),this}};let Sha1Provider=class Sha1Provider extends h.ProviderCrypto{constructor(){super(...arguments),this.name="SHA-1",this.usages=[]}async onDigest(t,n){return ShaCrypto.digest(t,n)}};let Sha256Provider=class Sha256Provider extends h.ProviderCrypto{constructor(){super(...arguments),this.name="SHA-256",this.usages=[]}async onDigest(t,n){return ShaCrypto.digest(t,n)}};let Sha384Provider=class Sha384Provider extends h.ProviderCrypto{constructor(){super(...arguments),this.name="SHA-384",this.usages=[]}async onDigest(t,n){return ShaCrypto.digest(t,n)}};let Sha512Provider=class Sha512Provider extends h.ProviderCrypto{constructor(){super(...arguments),this.name="SHA-512",this.usages=[]}async onDigest(t,n){return ShaCrypto.digest(t,n)}};let Sha3256Provider=class Sha3256Provider extends h.ProviderCrypto{constructor(){super(...arguments),this.name="SHA3-256",this.usages=[]}async onDigest(t,n){return ShaCrypto.digest(t,n)}};let Sha3384Provider=class Sha3384Provider extends h.ProviderCrypto{constructor(){super(...arguments),this.name="SHA3-384",this.usages=[]}async onDigest(t,n){return ShaCrypto.digest(t,n)}};let Sha3512Provider=class Sha3512Provider extends h.ProviderCrypto{constructor(){super(...arguments),this.name="SHA3-512",this.usages=[]}async onDigest(t,n){return ShaCrypto.digest(t,n)}};let EcCrypto=class EcCrypto{static async generateKey(t,n,a){let i=new EcPrivateKey;i.algorithm=t,i.extractable=n,i.usages=a.filter(t=>-1!==this.privateKeyUsages.indexOf(t));let s=new EcPublicKey;s.algorithm=t,s.extractable=!0,s.usages=a.filter(t=>-1!==this.publicKeyUsages.indexOf(t));let l=o.generateKeyPairSync("ec",{namedCurve:this.getOpenSSLNamedCurve(t.namedCurve),publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=l.privateKey,s.data=l.publicKey,{privateKey:i,publicKey:s}}static async sign(t,n,a){let i=ShaCrypto.getAlgorithmName(t.hash),s=o.createSign(i);s.update(Buffer.from(a)),n.pem||(n.pem=`-----BEGIN PRIVATE KEY-----
${n.data.toString("base64")}
-----END PRIVATE KEY-----`);let l={key:n.pem},u=s.sign(l),c=d.AsnParser.parse(u,h.asn1.EcDsaSignature),p=h.EcUtils.encodeSignature(c,h.EcCurves.get(n.algorithm.namedCurve).size);return p.buffer}static async verify(t,n,a,i){let s=ShaCrypto.getAlgorithmName(t.hash),l=o.createVerify(s);l.update(Buffer.from(i)),n.pem||(n.pem=`-----BEGIN PUBLIC KEY-----
${n.data.toString("base64")}
-----END PUBLIC KEY-----`);let u={key:n.pem},p=new h.asn1.EcDsaSignature,y=h.EcCurves.get(n.algorithm.namedCurve),m=h.EcUtils.decodeSignature(a,y.size);p.r=c.BufferSourceConverter.toArrayBuffer(m.r),p.s=c.BufferSourceConverter.toArrayBuffer(m.s);let g=Buffer.from(d.AsnSerializer.serialize(p)),b=l.verify(u,g);return b}static async deriveBits(t,n,a){let i=this.getOpenSSLNamedCurve(n.algorithm.namedCurve),s=o.createECDH(i),l=d.AsnParser.parse(n.data,h.asn1.PrivateKeyInfo),u=d.AsnParser.parse(l.privateKey,h.asn1.EcPrivateKey);s.setPrivateKey(Buffer.from(u.privateKey));let c=d.AsnParser.parse(t.public.data,h.asn1.PublicKeyInfo),p=s.computeSecret(Buffer.from(c.publicKey));return null===a?p:new Uint8Array(p).buffer.slice(0,a>>3)}static async exportKey(t,n){switch(t.toLowerCase()){case"jwk":return u.JsonSerializer.toJSON(n);case"pkcs8":case"spki":return new Uint8Array(n.data).buffer;case"raw":{let t=d.AsnParser.parse(n.data,h.asn1.PublicKeyInfo);return t.publicKey}default:throw new h.OperationError("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(t,n,a,i,o){switch(t.toLowerCase()){case"jwk":if(n.d){let t=u.JsonParser.fromJSON(n,{targetSchema:h.asn1.EcPrivateKey});return this.importPrivateKey(t,a,i,o)}{let t=u.JsonParser.fromJSON(n,{targetSchema:h.asn1.EcPublicKey});return this.importPublicKey(t,a,i,o)}case"raw":{let t=new h.asn1.EcPublicKey(n);return this.importPublicKey(t,a,i,o)}case"spki":{let t=d.AsnParser.parse(new Uint8Array(n),h.asn1.PublicKeyInfo),s=new h.asn1.EcPublicKey(t.publicKey);return this.assertKeyParameters(t.publicKeyAlgorithm.parameters,a.namedCurve),this.importPublicKey(s,a,i,o)}case"pkcs8":{let t=d.AsnParser.parse(new Uint8Array(n),h.asn1.PrivateKeyInfo),s=d.AsnParser.parse(t.privateKey,h.asn1.EcPrivateKey);return this.assertKeyParameters(t.privateKeyAlgorithm.parameters,a.namedCurve),this.importPrivateKey(s,a,i,o)}default:throw new h.OperationError("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static assertKeyParameters(t,n){if(!t)throw new h.CryptoError("Key info doesn't have required parameters");let a="";try{a=d.AsnParser.parse(t,h.asn1.ObjectIdentifier).value}catch(t){throw new h.CryptoError("Cannot read key info parameters")}if(getOidByNamedCurve$1(n)!==a)throw new h.CryptoError("Key info parameter doesn't match to named curve")}static async importPrivateKey(t,n,a,i){let o=new h.asn1.PrivateKeyInfo;o.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",o.privateKeyAlgorithm.parameters=d.AsnSerializer.serialize(new h.asn1.ObjectIdentifier(getOidByNamedCurve$1(n.namedCurve))),o.privateKey=d.AsnSerializer.serialize(t);let s=new EcPrivateKey;return s.data=Buffer.from(d.AsnSerializer.serialize(o)),s.algorithm=Object.assign({},n),s.extractable=a,s.usages=i,s}static async importPublicKey(t,n,a,i){let o=new h.asn1.PublicKeyInfo;o.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1";let s=getOidByNamedCurve$1(n.namedCurve);o.publicKeyAlgorithm.parameters=d.AsnSerializer.serialize(new h.asn1.ObjectIdentifier(s)),o.publicKey=t.value;let l=new EcPublicKey;return l.data=Buffer.from(d.AsnSerializer.serialize(o)),l.algorithm=Object.assign({},n),l.extractable=a,l.usages=i,l}static getOpenSSLNamedCurve(t){switch(t.toUpperCase()){case"P-256":return"prime256v1";case"K-256":return"secp256k1";case"P-384":return"secp384r1";case"P-521":return"secp521r1";default:return t}}};EcCrypto.publicKeyUsages=["verify"],EcCrypto.privateKeyUsages=["sign","deriveKey","deriveBits"];let EcdsaProvider=class EcdsaProvider extends h.EcdsaProvider{constructor(){super(...arguments),this.namedCurves=h.EcCurves.names,this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(t,n,a){let i=await EcCrypto.generateKey({...t,name:this.name},n,a);return{privateKey:setCryptoKey(i.privateKey),publicKey:setCryptoKey(i.publicKey)}}async onSign(t,n,a){return EcCrypto.sign(t,getCryptoKey(n),new Uint8Array(a))}async onVerify(t,n,a,i){return EcCrypto.verify(t,getCryptoKey(n),new Uint8Array(a),new Uint8Array(i))}async onExportKey(t,n){return EcCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await EcCrypto.importKey(t,n,{...a,name:this.name},i,o);return setCryptoKey(s)}checkCryptoKey(t,n){super.checkCryptoKey(t,n);let a=getCryptoKey(t);if(!(a instanceof EcPrivateKey||a instanceof EcPublicKey))throw TypeError("key: Is not EC CryptoKey")}};let EcdhProvider=class EcdhProvider extends h.EcdhProvider{constructor(){super(...arguments),this.namedCurves=h.EcCurves.names}async onGenerateKey(t,n,a){let i=await EcCrypto.generateKey({...t,name:this.name},n,a);return{privateKey:setCryptoKey(i.privateKey),publicKey:setCryptoKey(i.publicKey)}}async onExportKey(t,n){return EcCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await EcCrypto.importKey(t,n,{...a,name:this.name},i,o);return setCryptoKey(s)}checkCryptoKey(t,n){super.checkCryptoKey(t,n);let a=getCryptoKey(t);if(!(a instanceof EcPrivateKey||a instanceof EcPublicKey))throw TypeError("key: Is not EC CryptoKey")}async onDeriveBits(t,n,a){let i=await EcCrypto.deriveBits({...t,public:getCryptoKey(t.public)},getCryptoKey(n),a);return i}};let C={[h.asn1.idEd448]:"Ed448",ed448:h.asn1.idEd448,[h.asn1.idX448]:"X448",x448:h.asn1.idX448,[h.asn1.idEd25519]:"Ed25519",ed25519:h.asn1.idEd25519,[h.asn1.idX25519]:"X25519",x25519:h.asn1.idX25519};function getOidByNamedCurve(t){let n=C[t.toLowerCase()];if(!n)throw new h.OperationError(`Cannot convert WebCrypto named curve '${t}' to OID`);return n}let EdPrivateKey=class EdPrivateKey extends AsymmetricKey{constructor(){super(...arguments),this.type="private"}getKey(){let t=d.AsnParser.parse(this.data,h.asn1.PrivateKeyInfo);return d.AsnParser.parse(t.privateKey,h.asn1.CurvePrivateKey)}toJSON(){let t=this.getKey(),n={kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(n,u.JsonSerializer.toJSON(t))}fromJSON(t){if(!t.crv)throw new h.OperationError("Cannot get named curve from JWK. Property 'crv' is required");let n=new h.asn1.PrivateKeyInfo;n.privateKeyAlgorithm.algorithm=getOidByNamedCurve(t.crv);let a=u.JsonParser.fromJSON(t,{targetSchema:h.asn1.CurvePrivateKey});return n.privateKey=d.AsnSerializer.serialize(a),this.data=Buffer.from(d.AsnSerializer.serialize(n)),this}};let EdPublicKey=class EdPublicKey extends AsymmetricKey{constructor(){super(...arguments),this.type="public"}getKey(){let t=d.AsnParser.parse(this.data,h.asn1.PublicKeyInfo);return t.publicKey}toJSON(){let t=this.getKey(),n={kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(n,{x:c.Convert.ToBase64Url(t)})}fromJSON(t){if(!t.crv)throw new h.OperationError("Cannot get named curve from JWK. Property 'crv' is required");if(!t.x)throw new h.OperationError("Cannot get property from JWK. Property 'x' is required");let n=new h.asn1.PublicKeyInfo;return n.publicKeyAlgorithm.algorithm=getOidByNamedCurve(t.crv),n.publicKey=c.Convert.FromBase64Url(t.x),this.data=Buffer.from(d.AsnSerializer.serialize(n)),this}};let EdCrypto=class EdCrypto{static async generateKey(t,n,a){let i=new EdPrivateKey;i.algorithm=t,i.extractable=n,i.usages=a.filter(t=>-1!==this.privateKeyUsages.indexOf(t));let s=new EdPublicKey;s.algorithm=t,s.extractable=!0,s.usages=a.filter(t=>-1!==this.publicKeyUsages.indexOf(t));let l=t.namedCurve.toLowerCase(),u=o.generateKeyPairSync(l,{publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=u.privateKey,s.data=u.publicKey,{privateKey:i,publicKey:s}}static async sign(t,n,a){n.pem||(n.pem=`-----BEGIN PRIVATE KEY-----
${n.data.toString("base64")}
-----END PRIVATE KEY-----`);let i={key:n.pem},s=o.sign(null,Buffer.from(a),i);return h.BufferSourceConverter.toArrayBuffer(s)}static async verify(t,n,a,i){n.pem||(n.pem=`-----BEGIN PUBLIC KEY-----
${n.data.toString("base64")}
-----END PUBLIC KEY-----`);let s={key:n.pem},l=o.verify(null,Buffer.from(i),s,Buffer.from(a));return l}static async deriveBits(t,n,a){let i=o.createPublicKey({key:t.public.data,format:"der",type:"spki"}),s=o.createPrivateKey({key:n.data,format:"der",type:"pkcs8"}),l=o.diffieHellman({publicKey:i,privateKey:s});return new Uint8Array(l).buffer.slice(0,a>>3)}static async exportKey(t,n){switch(t.toLowerCase()){case"jwk":return u.JsonSerializer.toJSON(n);case"pkcs8":case"spki":return new Uint8Array(n.data).buffer;case"raw":{let t=d.AsnParser.parse(n.data,h.asn1.PublicKeyInfo);return t.publicKey}default:throw new h.OperationError("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(t,n,a,i,o){switch(t.toLowerCase()){case"jwk":if(n.d){let t=u.JsonParser.fromJSON(n,{targetSchema:h.asn1.CurvePrivateKey});return this.importPrivateKey(t,a,i,o)}if(!n.x)throw TypeError("keyData: Cannot get required 'x' filed");return this.importPublicKey(c.Convert.FromBase64Url(n.x),a,i,o);case"raw":return this.importPublicKey(n,a,i,o);case"spki":{let t=d.AsnParser.parse(new Uint8Array(n),h.asn1.PublicKeyInfo);return this.importPublicKey(t.publicKey,a,i,o)}case"pkcs8":{let t=d.AsnParser.parse(new Uint8Array(n),h.asn1.PrivateKeyInfo),s=d.AsnParser.parse(t.privateKey,h.asn1.CurvePrivateKey);return this.importPrivateKey(s,a,i,o)}default:throw new h.OperationError("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static importPrivateKey(t,n,a,i){let o=new EdPrivateKey;return o.fromJSON({crv:n.namedCurve,d:c.Convert.ToBase64Url(t.d)}),o.algorithm=Object.assign({},n),o.extractable=a,o.usages=i,o}static async importPublicKey(t,n,a,i){let o=new EdPublicKey;return o.fromJSON({crv:n.namedCurve,x:c.Convert.ToBase64Url(t)}),o.algorithm=Object.assign({},n),o.extractable=a,o.usages=i,o}};EdCrypto.publicKeyUsages=["verify"],EdCrypto.privateKeyUsages=["sign","deriveKey","deriveBits"];let EdDsaProvider=class EdDsaProvider extends h.EdDsaProvider{async onGenerateKey(t,n,a){let i=await EdCrypto.generateKey({name:this.name,namedCurve:t.namedCurve.replace(/^ed/i,"Ed")},n,a);return{privateKey:setCryptoKey(i.privateKey),publicKey:setCryptoKey(i.publicKey)}}async onSign(t,n,a){return EdCrypto.sign(t,getCryptoKey(n),new Uint8Array(a))}async onVerify(t,n,a,i){return EdCrypto.verify(t,getCryptoKey(n),new Uint8Array(a),new Uint8Array(i))}async onExportKey(t,n){return EdCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await EdCrypto.importKey(t,n,{...a,name:this.name},i,o);return setCryptoKey(s)}};let EcdhEsProvider=class EcdhEsProvider extends h.EcdhEsProvider{async onGenerateKey(t,n,a){let i=await EdCrypto.generateKey({name:this.name,namedCurve:t.namedCurve.toUpperCase()},n,a);return{privateKey:setCryptoKey(i.privateKey),publicKey:setCryptoKey(i.publicKey)}}async onDeriveBits(t,n,a){let i=await EdCrypto.deriveBits({...t,public:getCryptoKey(t.public)},getCryptoKey(n),a);return i}async onExportKey(t,n){return EdCrypto.exportKey(t,getCryptoKey(n))}async onImportKey(t,n,a,i,o){let s=await EdCrypto.importKey(t,n,{...a,name:this.name},i,o);return setCryptoKey(s)}};let PbkdfCryptoKey=class PbkdfCryptoKey extends CryptoKey{};let Pbkdf2Provider=class Pbkdf2Provider extends h.Pbkdf2Provider{async onDeriveBits(t,n,a){return new Promise((i,s)=>{let l=h.BufferSourceConverter.toArrayBuffer(t.salt),u=t.hash.name.replace("-","");o.pbkdf2(getCryptoKey(n).data,Buffer.from(l),t.iterations,a>>3,u,(t,n)=>{t?s(t):i(new Uint8Array(n).buffer)})})}async onImportKey(t,n,a,i,o){if("raw"===t){let t=new PbkdfCryptoKey;return t.data=Buffer.from(n),t.algorithm={name:this.name},t.extractable=!1,t.usages=o,setCryptoKey(t)}throw new h.OperationError("format: Must be 'raw'")}checkCryptoKey(t,n){if(super.checkCryptoKey(t,n),!(getCryptoKey(t) instanceof PbkdfCryptoKey))throw TypeError("key: Is not PBKDF CryptoKey")}};let HmacCryptoKey=class HmacCryptoKey extends CryptoKey{get alg(){let t=this.algorithm.hash.name.toUpperCase();return`HS${t.replace("SHA-","")}`}set alg(t){}};l.__decorate([u.JsonProp({name:"k",converter:m})],HmacCryptoKey.prototype,"data",void 0);let HmacProvider=class HmacProvider extends h.HmacProvider{async onGenerateKey(t,n,a){let i=(t.length||this.getDefaultLength(t.hash.name))>>3<<3,s=new HmacCryptoKey;return s.algorithm={...t,length:i,name:this.name},s.extractable=n,s.usages=a,s.data=o.randomBytes(i>>3),setCryptoKey(s)}async onSign(t,n,a){let i=ShaCrypto.getAlgorithmName(n.algorithm.hash),s=o.createHmac(i,getCryptoKey(n).data).update(Buffer.from(a)).digest();return new Uint8Array(s).buffer}async onVerify(t,n,a,i){let s=ShaCrypto.getAlgorithmName(n.algorithm.hash),l=o.createHmac(s,getCryptoKey(n).data).update(Buffer.from(i)).digest();return 0===l.compare(Buffer.from(a))}async onImportKey(t,n,a,i,o){let s;switch(t.toLowerCase()){case"jwk":s=u.JsonParser.fromJSON(n,{targetSchema:HmacCryptoKey});break;case"raw":(s=new HmacCryptoKey).data=Buffer.from(n);break;default:throw new h.OperationError("format: Must be 'jwk' or 'raw'")}return s.algorithm={hash:{name:a.hash.name},name:this.name,length:s.data.length<<3},s.extractable=i,s.usages=o,setCryptoKey(s)}async onExportKey(t,n){switch(t.toLowerCase()){case"jwk":return u.JsonSerializer.toJSON(getCryptoKey(n));case"raw":return new Uint8Array(getCryptoKey(n).data).buffer;default:throw new h.OperationError("format: Must be 'jwk' or 'raw'")}}checkCryptoKey(t,n){if(super.checkCryptoKey(t,n),!(getCryptoKey(t) instanceof HmacCryptoKey))throw TypeError("key: Is not HMAC CryptoKey")}};let HkdfCryptoKey=class HkdfCryptoKey extends CryptoKey{};let HkdfProvider=class HkdfProvider extends h.HkdfProvider{async onImportKey(t,n,a,i,o){if("raw"!==t.toLowerCase())throw new h.OperationError("Operation not supported");let s=new HkdfCryptoKey;return s.data=Buffer.from(n),s.algorithm={name:this.name},s.extractable=i,s.usages=o,setCryptoKey(s)}async onDeriveBits(t,n,a){let s=t.hash.name.replace("-",""),l=o.createHash(s).digest().length,u=a/8,c=i.BufferSourceConverter.toUint8Array(t.info),d=o.createHmac(s,i.BufferSourceConverter.toUint8Array(t.salt)).update(i.BufferSourceConverter.toUint8Array(getCryptoKey(n).data)).digest(),h=[Buffer.alloc(0)],p=Math.ceil(u/l)+1;for(let t=1;t<p;++t)h.push(o.createHmac(s,d).update(Buffer.concat([h[t-1],c,Buffer.from([t])])).digest());return Buffer.concat(h).slice(0,u)}checkCryptoKey(t,n){if(super.checkCryptoKey(t,n),!(getCryptoKey(t) instanceof HkdfCryptoKey))throw TypeError("key: Is not HKDF CryptoKey")}};let ShakeCrypto=class ShakeCrypto{static digest(t,n){let a=o.createHash(t.name.toLowerCase(),{outputLength:t.length}).update(Buffer.from(n)).digest();return new Uint8Array(a).buffer}};let Shake128Provider=class Shake128Provider extends h.Shake128Provider{async onDigest(t,n){return ShakeCrypto.digest(t,n)}};let Shake256Provider=class Shake256Provider extends h.Shake256Provider{async onDigest(t,n){return ShakeCrypto.digest(t,n)}};let SubtleCrypto=class SubtleCrypto extends h.SubtleCrypto{constructor(){var t;super(),this.providers.set(new AesCbcProvider),this.providers.set(new AesCtrProvider),this.providers.set(new AesGcmProvider),this.providers.set(new AesCmacProvider),this.providers.set(new AesKwProvider),this.providers.set(new AesEcbProvider),this.providers.set(new DesCbcProvider),this.providers.set(new DesEde3CbcProvider),this.providers.set(new RsaSsaProvider),this.providers.set(new RsaPssProvider),this.providers.set(new RsaOaepProvider),this.providers.set(new RsaEsProvider),this.providers.set(new EcdsaProvider),this.providers.set(new EcdhProvider),this.providers.set(new Sha1Provider),this.providers.set(new Sha256Provider),this.providers.set(new Sha384Provider),this.providers.set(new Sha512Provider),this.providers.set(new Pbkdf2Provider),this.providers.set(new HmacProvider),this.providers.set(new HkdfProvider);let n=null===(t=/^v(\d+)/.exec(y.version))||void 0===t?void 0:t[1];n&&parseInt(n,10)>=12&&(this.providers.set(new Shake128Provider),this.providers.set(new Shake256Provider));let a=p.getHashes();a.includes("sha3-256")&&this.providers.set(new Sha3256Provider),a.includes("sha3-384")&&this.providers.set(new Sha3384Provider),a.includes("sha3-512")&&this.providers.set(new Sha3512Provider),n&&parseInt(n,10)>=14&&(this.providers.set(new EdDsaProvider),this.providers.set(new EcdhEsProvider))}};let Crypto=class Crypto extends h.Crypto{constructor(){super(...arguments),this.subtle=new SubtleCrypto}getRandomValues(t){if(!ArrayBuffer.isView(t))throw TypeError("Failed to execute 'getRandomValues' on 'Crypto': parameter 1 is not of type 'ArrayBufferView'");let n=Buffer.from(t.buffer,t.byteOffset,t.byteLength);return o.randomFillSync(n),t}};n.w=Crypto},94549:(t,n,a)=>{"use strict";/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */Object.defineProperty(n,"__esModule",{value:!0});var i=a(81648),o=a(47162);function _interopNamespace(t){if(t&&t.__esModule)return t;var n=Object.create(null);return t&&Object.keys(t).forEach(function(a){if("default"!==a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}}),n.default=t,Object.freeze(n)}var s=_interopNamespace(i),l=_interopNamespace(o);function assertBigInt(){if("undefined"==typeof BigInt)throw Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function concat(t){let n=0,a=0;for(let a=0;a<t.length;a++){let i=t[a];n+=i.byteLength}let i=new Uint8Array(n);for(let n=0;n<t.length;n++){let o=t[n];i.set(new Uint8Array(o),a),a+=o.byteLength}return i.buffer}function checkBufferParams(t,n,a,i){return n instanceof Uint8Array?n.byteLength?a<0?(t.error="Wrong parameter: inputOffset less than zero",!1):i<0?(t.error="Wrong parameter: inputLength less than zero",!1):!(n.byteLength-a-i<0)||(t.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(t.error="Wrong parameter: inputBuffer has zero length",!1):(t.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}let ViewWriter=class ViewWriter{constructor(){this.items=[]}write(t){this.items.push(t)}final(){return concat(this.items)}};let u=[new Uint8Array([1])],c="0123456789",d="name",h="valueHexView",p=new ArrayBuffer(0),y=new Uint8Array(0),m="EndOfContent",g="OCTET STRING",b="BIT STRING";function HexBlock(t){var n;return(n=class extends t{constructor(...t){var n;super(...t);let a=t[0]||{};this.isHexOnly=null!==(n=a.isHexOnly)&&void 0!==n&&n,this.valueHexView=a.valueHex?s.BufferSourceConverter.toUint8Array(a.valueHex):y}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(t){this.valueHexView=new Uint8Array(t)}fromBER(t,n,a){let i=t instanceof ArrayBuffer?new Uint8Array(t):t;if(!checkBufferParams(this,i,n,a))return -1;let o=n+a;return(this.valueHexView=i.subarray(n,o),this.valueHexView.length)?(this.blockLength=a,o):(this.warnings.push("Zero buffer length"),n)}toBER(t=!1){return this.isHexOnly?t?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",p)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:s.Convert.ToHex(this.valueHexView)}}}).NAME="hexBlock",n}let LocalBaseBlock=class LocalBaseBlock{constructor({blockLength:t=0,error:n="",warnings:a=[],valueBeforeDecode:i=y}={}){this.blockLength=t,this.error=n,this.warnings=a,this.valueBeforeDecodeView=s.BufferSourceConverter.toUint8Array(i)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(t){this.valueBeforeDecodeView=new Uint8Array(t)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:s.Convert.ToHex(this.valueBeforeDecodeView)}}};LocalBaseBlock.NAME="baseBlock";let ValueBlock=class ValueBlock extends LocalBaseBlock{fromBER(t,n,a){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(t,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}};ValueBlock.NAME="valueBlock";let LocalIdentificationBlock=class LocalIdentificationBlock extends HexBlock(LocalBaseBlock){constructor({idBlock:t={}}={}){var n,a,i,o;super(),t?(this.isHexOnly=null!==(n=t.isHexOnly)&&void 0!==n&&n,this.valueHexView=t.valueHex?s.BufferSourceConverter.toUint8Array(t.valueHex):y,this.tagClass=null!==(a=t.tagClass)&&void 0!==a?a:-1,this.tagNumber=null!==(i=t.tagNumber)&&void 0!==i?i:-1,this.isConstructed=null!==(o=t.isConstructed)&&void 0!==o&&o):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(t=!1){let n=0;switch(this.tagClass){case 1:n|=0;break;case 2:n|=64;break;case 3:n|=128;break;case 4:n|=192;break;default:return this.error="Unknown tag class",p}if(this.isConstructed&&(n|=32),this.tagNumber<31&&!this.isHexOnly){let a=new Uint8Array(1);if(!t){let t=this.tagNumber;t&=31,n|=t,a[0]=n}return a.buffer}if(!this.isHexOnly){let a=l.utilToBase(this.tagNumber,7),i=new Uint8Array(a),o=a.byteLength,s=new Uint8Array(o+1);if(s[0]=31|n,!t){for(let t=0;t<o-1;t++)s[t+1]=128|i[t];s[o]=i[o-1]}return s.buffer}let a=new Uint8Array(this.valueHexView.byteLength+1);if(a[0]=31|n,!t){let t=this.valueHexView;for(let n=0;n<t.length-1;n++)a[n+1]=128|t[n];a[this.valueHexView.byteLength]=t[t.length-1]}return a.buffer}fromBER(t,n,a){let i=s.BufferSourceConverter.toUint8Array(t);if(!checkBufferParams(this,i,n,a))return -1;let o=i.subarray(n,n+a);if(0===o.length)return this.error="Zero buffer length",-1;let u=192&o[0];switch(u){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(32&o[0])==32,this.isHexOnly=!1;let c=31&o[0];if(31!==c)this.tagNumber=c,this.blockLength=1;else{let t=1,n=this.valueHexView=new Uint8Array(255),a=255;for(;128&o[t];){if(n[t-1]=127&o[t],++t>=o.length)return this.error="End of input reached before message was fully decoded",-1;if(t===a){a+=255;let t=new Uint8Array(a);for(let a=0;a<n.length;a++)t[a]=n[a];n=this.valueHexView=new Uint8Array(a)}}this.blockLength=t+1,n[t-1]=127&o[t];let i=new Uint8Array(t);for(let a=0;a<t;a++)i[a]=n[a];(n=this.valueHexView=new Uint8Array(t)).set(i),this.blockLength<=9?this.tagNumber=l.utilFromBase(n,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return n+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}};LocalIdentificationBlock.NAME="identificationBlock";let LocalLengthBlock=class LocalLengthBlock extends LocalBaseBlock{constructor({lenBlock:t={}}={}){var n,a,i;super(),this.isIndefiniteForm=null!==(n=t.isIndefiniteForm)&&void 0!==n&&n,this.longFormUsed=null!==(a=t.longFormUsed)&&void 0!==a&&a,this.length=null!==(i=t.length)&&void 0!==i?i:0}fromBER(t,n,a){let i=s.BufferSourceConverter.toUint8Array(t);if(!checkBufferParams(this,i,n,a))return -1;let o=i.subarray(n,n+a);if(0===o.length)return this.error="Zero buffer length",-1;if(255===o[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===o[0],this.isIndefiniteForm)return this.blockLength=1,n+this.blockLength;if(this.longFormUsed=!!(128&o[0]),!1===this.longFormUsed)return this.length=o[0],this.blockLength=1,n+this.blockLength;let u=127&o[0];if(u>8)return this.error="Too big integer",-1;if(u+1>o.length)return this.error="End of input reached before message was fully decoded",-1;let c=n+1,d=i.subarray(c,c+u);return 0===d[u-1]&&this.warnings.push("Needlessly long encoded length"),this.length=l.utilFromBase(d,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=u+1,n+this.blockLength}toBER(t=!1){let n,a;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return n=new ArrayBuffer(1),!1===t&&((a=new Uint8Array(n))[0]=128),n;if(this.longFormUsed){let i=l.utilToBase(this.length,8);if(i.byteLength>127)return this.error="Too big length",p;if(n=new ArrayBuffer(i.byteLength+1),t)return n;let o=new Uint8Array(i);(a=new Uint8Array(n))[0]=128|i.byteLength;for(let t=0;t<i.byteLength;t++)a[t+1]=o[t];return n}return n=new ArrayBuffer(1),!1===t&&((a=new Uint8Array(n))[0]=this.length),n}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}};LocalLengthBlock.NAME="lengthBlock";let v={};let BaseBlock=class BaseBlock extends LocalBaseBlock{constructor({name:t="",optional:n=!1,primitiveSchema:a,...i}={},o){super(i),this.name=t,this.optional=n,a&&(this.primitiveSchema=a),this.idBlock=new LocalIdentificationBlock(i),this.lenBlock=new LocalLengthBlock(i),this.valueBlock=o?new o(i):new ValueBlock(i)}fromBER(t,n,a){let i=this.valueBlock.fromBER(t,n,this.lenBlock.isIndefiniteForm?a:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}toBER(t,n){let a=n||new ViewWriter;n||function prepareIndefiniteForm(t){if(t instanceof v.Constructed)for(let n of t.valueBlock.value)prepareIndefiniteForm(n)&&(t.lenBlock.isIndefiniteForm=!0);return!!t.lenBlock.isIndefiniteForm}(this);let i=this.idBlock.toBER(t);if(a.write(i),this.lenBlock.isIndefiniteForm)a.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(t,a),a.write(new ArrayBuffer(2));else{let n=this.valueBlock.toBER(t);this.lenBlock.length=n.byteLength;let i=this.lenBlock.toBER(t);a.write(i),a.write(n)}return n?p:a.final()}toJSON(){let t={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(t.primitiveSchema=this.primitiveSchema.toJSON()),t}toString(t="ascii"){return"ascii"===t?this.onAsciiEncoding():s.Convert.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${s.Convert.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(t){if(this===t)return!0;if(!(t instanceof this.constructor))return!1;let n=this.toBER(),a=t.toBER();return l.isEqualBuffer(n,a)}};BaseBlock.NAME="BaseBlock";let BaseStringBlock=class BaseStringBlock extends BaseBlock{constructor({value:t="",...n}={},a){super(n,a),t&&this.fromString(t)}getValue(){return this.valueBlock.value}setValue(t){this.valueBlock.value=t}fromBER(t,n,a){let i=this.valueBlock.fromBER(t,n,this.lenBlock.isIndefiniteForm?a:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}};BaseStringBlock.NAME="BaseStringBlock";let LocalPrimitiveValueBlock=class LocalPrimitiveValueBlock extends HexBlock(ValueBlock){constructor({isHexOnly:t=!0,...n}={}){super(n),this.isHexOnly=t}};LocalPrimitiveValueBlock.NAME="PrimitiveValueBlock";let Primitive=class Primitive extends BaseBlock{constructor(t={}){super(t,LocalPrimitiveValueBlock),this.idBlock.isConstructed=!1}};function localFromBER(t,n=0,a=t.length){let i=n,o=new BaseBlock({},ValueBlock),s=new LocalBaseBlock;if(!checkBufferParams(s,t,n,a))return o.error=s.error,{offset:-1,result:o};let l=t.subarray(n,n+a);if(!l.length)return o.error="Zero buffer length",{offset:-1,result:o};let u=o.idBlock.fromBER(t,n,a);if(o.idBlock.warnings.length&&o.warnings.concat(o.idBlock.warnings),-1===u)return o.error=o.idBlock.error,{offset:-1,result:o};if(n=u,a-=o.idBlock.blockLength,u=o.lenBlock.fromBER(t,n,a),o.lenBlock.warnings.length&&o.warnings.concat(o.lenBlock.warnings),-1===u)return o.error=o.lenBlock.error,{offset:-1,result:o};if(n=u,a-=o.lenBlock.blockLength,!o.idBlock.isConstructed&&o.lenBlock.isIndefiniteForm)return o.error="Indefinite length form used for primitive encoding form",{offset:-1,result:o};let c=BaseBlock;if(1===o.idBlock.tagClass){if(o.idBlock.tagNumber>=37&&!1===o.idBlock.isHexOnly)return o.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:o};switch(o.idBlock.tagNumber){case 0:if(o.idBlock.isConstructed&&o.lenBlock.length>0)return o.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:o};c=v.EndOfContent;break;case 1:c=v.Boolean;break;case 2:c=v.Integer;break;case 3:c=v.BitString;break;case 4:c=v.OctetString;break;case 5:c=v.Null;break;case 6:c=v.ObjectIdentifier;break;case 10:c=v.Enumerated;break;case 12:c=v.Utf8String;break;case 13:c=v.RelativeObjectIdentifier;break;case 14:c=v.TIME;break;case 15:return o.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:o};case 16:c=v.Sequence;break;case 17:c=v.Set;break;case 18:c=v.NumericString;break;case 19:c=v.PrintableString;break;case 20:c=v.TeletexString;break;case 21:c=v.VideotexString;break;case 22:c=v.IA5String;break;case 23:c=v.UTCTime;break;case 24:c=v.GeneralizedTime;break;case 25:c=v.GraphicString;break;case 26:c=v.VisibleString;break;case 27:c=v.GeneralString;break;case 28:c=v.UniversalString;break;case 29:c=v.CharacterString;break;case 30:c=v.BmpString;break;case 31:c=v.DATE;break;case 32:c=v.TimeOfDay;break;case 33:c=v.DateTime;break;case 34:c=v.Duration;break;default:{let t=o.idBlock.isConstructed?new v.Constructed:new v.Primitive;t.idBlock=o.idBlock,t.lenBlock=o.lenBlock,t.warnings=o.warnings,o=t}}}else c=o.idBlock.isConstructed?v.Constructed:v.Primitive;return u=(o=function(t,n){if(t instanceof n)return t;let a=new n;return a.idBlock=t.idBlock,a.lenBlock=t.lenBlock,a.warnings=t.warnings,a.valueBeforeDecodeView=t.valueBeforeDecodeView,a}(o,c)).fromBER(t,n,o.lenBlock.isIndefiniteForm?a:o.lenBlock.length),o.valueBeforeDecodeView=t.subarray(i,i+o.blockLength),{offset:u,result:o}}v.Primitive=Primitive,Primitive.NAME="PRIMITIVE";let LocalConstructedValueBlock=class LocalConstructedValueBlock extends ValueBlock{constructor({value:t=[],isIndefiniteForm:n=!1,...a}={}){super(a),this.value=t,this.isIndefiniteForm=n}fromBER(t,n,a){var i,o;let l=s.BufferSourceConverter.toUint8Array(t);if(!checkBufferParams(this,l,n,a))return -1;if(this.valueBeforeDecodeView=l.subarray(n,n+a),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),n;let u=n;for(;i=this.isIndefiniteForm,o=a,(i?1:o)>0;){let t=localFromBER(l,u,a);if(-1===t.offset)return this.error=t.result.error,this.warnings.concat(t.result.warnings),-1;if(u=t.offset,this.blockLength+=t.result.blockLength,a-=t.result.blockLength,this.value.push(t.result),this.isIndefiniteForm&&t.result.constructor.NAME===m)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===m?this.value.pop():this.warnings.push("No EndOfContent block encoded")),u}toBER(t,n){let a=n||new ViewWriter;for(let n=0;n<this.value.length;n++)this.value[n].toBER(t,a);return n?p:a.final()}toJSON(){let t={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let n of this.value)t.value.push(n.toJSON());return t}};LocalConstructedValueBlock.NAME="ConstructedValueBlock";let Constructed=class Constructed extends BaseBlock{constructor(t={}){super(t,LocalConstructedValueBlock),this.idBlock.isConstructed=!0}fromBER(t,n,a){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let i=this.valueBlock.fromBER(t,n,this.lenBlock.isIndefiniteForm?a:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){let t=[];for(let n of this.valueBlock.value)t.push(n.toString("ascii").split("\n").map(t=>`  ${t}`).join("\n"));let n=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return t.length?`${n} :
${t.join("\n")}`:`${n} :`}};v.Constructed=Constructed,Constructed.NAME="CONSTRUCTED";let LocalEndOfContentValueBlock=class LocalEndOfContentValueBlock extends ValueBlock{fromBER(t,n,a){return n}toBER(t){return p}};LocalEndOfContentValueBlock.override="EndOfContentValueBlock";let EndOfContent=class EndOfContent extends BaseBlock{constructor(t={}){super(t,LocalEndOfContentValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}};v.EndOfContent=EndOfContent,EndOfContent.NAME=m;let Null=class Null extends BaseBlock{constructor(t={}){super(t,ValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(t,n,a){return(this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=a,n+a>t.byteLength)?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):n+a}toBER(t,n){let a=new ArrayBuffer(2);if(!t){let t=new Uint8Array(a);t[0]=5,t[1]=0}return n&&n.write(a),a}onAsciiEncoding(){return`${this.constructor.NAME}`}};v.Null=Null,Null.NAME="NULL";let LocalBooleanValueBlock=class LocalBooleanValueBlock extends HexBlock(ValueBlock){constructor({value:t,...n}={}){super(n),n.valueHex?this.valueHexView=s.BufferSourceConverter.toUint8Array(n.valueHex):this.valueHexView=new Uint8Array(1),t&&(this.value=t)}get value(){for(let t of this.valueHexView)if(t>0)return!0;return!1}set value(t){this.valueHexView[0]=t?255:0}fromBER(t,n,a){let i=s.BufferSourceConverter.toUint8Array(t);return checkBufferParams(this,i,n,a)?(this.valueHexView=i.subarray(n,n+a),a>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,l.utilDecodeTC.call(this),this.blockLength=a,n+a):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}};LocalBooleanValueBlock.NAME="BooleanValueBlock";let Boolean=class Boolean extends BaseBlock{constructor(t={}){super(t,LocalBooleanValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(t){this.valueBlock.value=t}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};v.Boolean=Boolean,Boolean.NAME="BOOLEAN";let LocalOctetStringValueBlock=class LocalOctetStringValueBlock extends HexBlock(LocalConstructedValueBlock){constructor({isConstructed:t=!1,...n}={}){super(n),this.isConstructed=t}fromBER(t,n,a){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,-1===(i=LocalConstructedValueBlock.prototype.fromBER.call(this,t,n,a)))return i;for(let t=0;t<this.value.length;t++){let n=this.value[t].constructor.NAME;if(n===m){if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1;break}if(n!==g)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(t,n,a),this.blockLength=a;return i}toBER(t,n){return this.isConstructed?LocalConstructedValueBlock.prototype.toBER.call(this,t,n):t?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}};LocalOctetStringValueBlock.NAME="OctetStringValueBlock";let OctetString=class OctetString extends BaseBlock{constructor({idBlock:t={},lenBlock:n={},...a}={}){var i,o;null!==(i=a.isConstructed)&&void 0!==i||(a.isConstructed=!!(null===(o=a.value)||void 0===o?void 0:o.length)),super({idBlock:{isConstructed:a.isConstructed,...t},lenBlock:{...n,isIndefiniteForm:!!a.isIndefiniteForm},...a},LocalOctetStringValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(t,n,a){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===a)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),n;if(!this.valueBlock.isConstructed){let i=t instanceof ArrayBuffer?new Uint8Array(t):t,o=i.subarray(n,n+a);try{if(o.byteLength){let t=localFromBER(o,0,o.byteLength);-1!==t.offset&&t.offset===a&&(this.valueBlock.value=[t.result])}}catch(t){}}return super.fromBER(t,n,a)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?Constructed.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${s.Convert.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let t=[];for(let n of this.valueBlock.value)n instanceof OctetString&&t.push(n.valueBlock.valueHexView);return s.BufferSourceConverter.concat(t)}};v.OctetString=OctetString,OctetString.NAME=g;let LocalBitStringValueBlock=class LocalBitStringValueBlock extends HexBlock(LocalConstructedValueBlock){constructor({unusedBits:t=0,isConstructed:n=!1,...a}={}){super(a),this.unusedBits=t,this.isConstructed=n,this.blockLength=this.valueHexView.byteLength}fromBER(t,n,a){if(!a)return n;let i=-1;if(this.isConstructed){if(-1===(i=LocalConstructedValueBlock.prototype.fromBER.call(this,t,n,a)))return i;for(let t of this.value){let n=t.constructor.NAME;if(n===m){if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1;break}if(n!==b)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let a=t.valueBlock;if(this.unusedBits>0&&a.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=a.unusedBits}return i}let o=s.BufferSourceConverter.toUint8Array(t);if(!checkBufferParams(this,o,n,a))return -1;let l=o.subarray(n,n+a);if(this.unusedBits=l[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let t=l.subarray(1);try{if(t.byteLength){let n=localFromBER(t,0,t.byteLength);-1!==n.offset&&n.offset===a-1&&(this.value=[n.result])}}catch(t){}}return this.valueHexView=l.subarray(1),this.blockLength=l.length,n+a}toBER(t,n){if(this.isConstructed)return LocalConstructedValueBlock.prototype.toBER.call(this,t,n);if(t)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return p;let a=new Uint8Array(this.valueHexView.length+1);return a[0]=this.unusedBits,a.set(this.valueHexView,1),a.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}};LocalBitStringValueBlock.NAME="BitStringValueBlock";let BitString=class BitString extends BaseBlock{constructor({idBlock:t={},lenBlock:n={},...a}={}){var i,o;null!==(i=a.isConstructed)&&void 0!==i||(a.isConstructed=!!(null===(o=a.value)||void 0===o?void 0:o.length)),super({idBlock:{isConstructed:a.isConstructed,...t},lenBlock:{...n,isIndefiniteForm:!!a.isIndefiniteForm},...a},LocalBitStringValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(t,n,a){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(t,n,a)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Constructed.prototype.onAsciiEncoding.call(this);{let t=[],n=this.valueBlock.valueHexView;for(let a of n)t.push(a.toString(2).padStart(8,"0"));let a=t.join("");return`${this.constructor.NAME} : ${a.substring(0,a.length-this.valueBlock.unusedBits)}`}}};function power2(t){if(t>=u.length)for(let n=u.length;n<=t;n++){let t=new Uint8Array([0]),a=u[n-1].slice(0);for(let n=a.length-1;n>=0;n--){let i=new Uint8Array([(a[n]<<1)+t[0]]);t[0]=i[0]/10,a[n]=i[0]%10}t[0]>0&&(a=l.utilConcatView(t,a)),u.push(a)}return u[t]}v.BitString=BitString,BitString.NAME=b;let LocalIntegerValueBlock=class LocalIntegerValueBlock extends HexBlock(ValueBlock){constructor({value:t,...n}={}){super(n),this._valueDec=0,n.valueHex&&this.setValueHex(),void 0!==t&&(this.valueDec=t)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=l.utilDecodeTC.call(this)))}set valueDec(t){this._valueDec=t,this.isHexOnly=!1,this.valueHexView=new Uint8Array(l.utilEncodeTC(t))}get valueDec(){return this._valueDec}fromDER(t,n,a,i=0){let o=this.fromBER(t,n,a);if(-1===o)return o;let s=this.valueHexView;return 0===s[0]&&(128&s[1])!=0?this.valueHexView=s.subarray(1):0!==i&&s.length<i&&(i-s.length>1&&(i=s.length+1),this.valueHexView=s.subarray(i-s.length)),o}toDER(t=!1){let n=this.valueHexView;switch(!0){case(128&n[0])!=0:{let t=new Uint8Array(this.valueHexView.length+1);t[0]=0,t.set(n,1),this.valueHexView=t}break;case 0===n[0]&&(128&n[1])==0:this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(t)}fromBER(t,n,a){let i=super.fromBER(t,n,a);return -1===i||this.setValueHex(),i}toBER(t){return t?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let t;let n=8*this.valueHexView.length-1,a=new Uint8Array(8*this.valueHexView.length/3),i=0,o=this.valueHexView,s="",u=!1;for(let u=o.byteLength-1;u>=0;u--){t=o[u];for(let o=0;o<8;o++)(1&t)==1&&(i===n?(a=function(t,n){let a,i=0,o=new Uint8Array(t),s=new Uint8Array(n),l=o.slice(0),u=l.length-1,c=s.slice(0),d=c.length-1,h=0;for(let t=d;t>=0;t--,h++)!0==(a=l[u-h]-c[d-h]-i)<0?(i=1,l[u-h]=a+10):(i=0,l[u-h]=a);if(i>0)for(let t=u-d+1;t>=0;t--,h++)if((a=l[u-h]-i)<0)i=1,l[u-h]=a+10;else{i=0,l[u-h]=a;break}return l.slice()}(power2(i),a),s="-"):a=function(t,n){let a=new Uint8Array([0]),i=new Uint8Array(t),o=new Uint8Array(n),s=i.slice(0),u=s.length-1,c=o.slice(0),d=c.length-1,h=0,p=d<u?u:d,y=0;for(let t=p;t>=0;t--,y++)h=!0==y<c.length?s[u-y]+c[d-y]+a[0]:s[u-y]+a[0],(a[0]=h/10,!0==y>=s.length)?s=l.utilConcatView(new Uint8Array([h%10]),s):s[u-y]=h%10;return a[0]>0&&(s=l.utilConcatView(a,s)),s}(a,power2(i))),i++,t>>=1}for(let t=0;t<a.length;t++)a[t]&&(u=!0),u&&(s+=c.charAt(a[t]));return!1===u&&(s+=c.charAt(0)),s}};LocalIntegerValueBlock.NAME="IntegerValueBlock",Object.defineProperty(LocalIntegerValueBlock.prototype,"valueHex",{set:function(t){this.valueHexView=new Uint8Array(t),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});let Integer=class Integer extends BaseBlock{constructor(t={}){super(t,LocalIntegerValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return assertBigInt(),BigInt(this.valueBlock.toString())}static fromBigInt(t){assertBigInt();let n=BigInt(t),a=new ViewWriter,i=n.toString(16).replace(/^-/,""),o=new Uint8Array(s.Convert.FromHex(i));if(n<0){let t=new Uint8Array(o.length+(128&o[0]?1:0));t[0]|=128;let i=BigInt(`0x${s.Convert.ToHex(t)}`),l=s.BufferSourceConverter.toUint8Array(s.Convert.FromHex((i+n).toString(16)));l[0]|=128,a.write(l)}else 128&o[0]&&a.write(new Uint8Array([0])),a.write(o);let l=new Integer({valueHex:a.final()});return l}convertToDER(){let t=new Integer({valueHex:this.valueBlock.valueHexView});return t.valueBlock.toDER(),t}convertFromDER(){return new Integer({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}};v.Integer=Integer,Integer.NAME="INTEGER";let Enumerated=class Enumerated extends Integer{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}};v.Enumerated=Enumerated,Enumerated.NAME="ENUMERATED";let LocalSidValueBlock=class LocalSidValueBlock extends HexBlock(ValueBlock){constructor({valueDec:t=-1,isFirstSid:n=!1,...a}={}){super(a),this.valueDec=t,this.isFirstSid=n}fromBER(t,n,a){if(!a)return n;let i=s.BufferSourceConverter.toUint8Array(t);if(!checkBufferParams(this,i,n,a))return -1;let o=i.subarray(n,n+a);this.valueHexView=new Uint8Array(a);for(let t=0;t<a&&(this.valueHexView[t]=127&o[t],this.blockLength++,(128&o[t])!=0);t++);let u=new Uint8Array(this.blockLength);for(let t=0;t<this.blockLength;t++)u[t]=this.valueHexView[t];return(this.valueHexView=u,(128&o[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=l.utilFromBase(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}set valueBigInt(t){assertBigInt();let n=BigInt(t).toString(2);for(;n.length%7;)n="0"+n;let a=new Uint8Array(n.length/7);for(let t=0;t<a.length;t++)a[t]=parseInt(n.slice(7*t,7*t+7),2)+(t+1<a.length?128:0);this.fromBER(a.buffer,0,a.length)}toBER(t){if(this.isHexOnly){if(t)return new ArrayBuffer(this.valueHexView.byteLength);let n=this.valueHexView,a=new Uint8Array(this.blockLength);for(let t=0;t<this.blockLength-1;t++)a[t]=128|n[t];return a[this.blockLength-1]=n[this.blockLength-1],a.buffer}let n=l.utilToBase(this.valueDec,7);if(0===n.byteLength)return this.error="Error during encoding SID value",p;let a=new Uint8Array(n.byteLength);if(!t){let t=new Uint8Array(n),i=n.byteLength-1;for(let n=0;n<i;n++)a[n]=128|t[n];a[i]=t[i]}return a}toString(){let t="";if(this.isHexOnly)t=s.Convert.ToHex(this.valueHexView);else if(this.isFirstSid){let n=this.valueDec;this.valueDec<=39?t="0.":this.valueDec<=79?(t="1.",n-=40):(t="2.",n-=80),t+=n.toString()}else t=this.valueDec.toString();return t}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}};LocalSidValueBlock.NAME="sidBlock";let LocalObjectIdentifierValueBlock=class LocalObjectIdentifierValueBlock extends ValueBlock{constructor({value:t="",...n}={}){super(n),this.value=[],t&&this.fromString(t)}fromBER(t,n,a){let i=n;for(;a>0;){let n=new LocalSidValueBlock;if(-1===(i=n.fromBER(t,i,a))){this.blockLength=0,this.error=n.error;break}0===this.value.length&&(n.isFirstSid=!0),this.blockLength+=n.blockLength,a-=n.blockLength,this.value.push(n)}return i}toBER(t){let n=[];for(let a=0;a<this.value.length;a++){let i=this.value[a].toBER(t);if(0===i.byteLength)return this.error=this.value[a].error,p;n.push(i)}return concat(n)}fromString(t){this.value=[];let n=0,a=0,i="",o=!1;do if(i=-1===(a=t.indexOf(".",n))?t.substring(n):t.substring(n,a),n=a+1,o){let t=this.value[0],n=0;switch(t.valueDec){case 0:break;case 1:n=40;break;case 2:n=80;break;default:this.value=[];return}let a=parseInt(i,10);if(isNaN(a))return;t.valueDec=a+n,o=!1}else{let t=new LocalSidValueBlock;if(i>Number.MAX_SAFE_INTEGER){assertBigInt();let n=BigInt(i);t.valueBigInt=n}else if(t.valueDec=parseInt(i,10),isNaN(t.valueDec))return;this.value.length||(t.isFirstSid=!0,o=!0),this.value.push(t)}while(-1!==a)}toString(){let t="",n=!1;for(let a=0;a<this.value.length;a++){n=this.value[a].isHexOnly;let i=this.value[a].toString();0!==a&&(t=`${t}.`),n?(i=`{${i}}`,this.value[a].isFirstSid?t=`2.{${i} - 80}`:t+=i):t+=i}return t}toJSON(){let t={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)t.sidArray.push(this.value[n].toJSON());return t}};LocalObjectIdentifierValueBlock.NAME="ObjectIdentifierValueBlock";let ObjectIdentifier=class ObjectIdentifier extends BaseBlock{constructor(t={}){super(t,LocalObjectIdentifierValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(t){this.valueBlock.fromString(t)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};v.ObjectIdentifier=ObjectIdentifier,ObjectIdentifier.NAME="OBJECT IDENTIFIER";let LocalRelativeSidValueBlock=class LocalRelativeSidValueBlock extends HexBlock(LocalBaseBlock){constructor({valueDec:t=0,...n}={}){super(n),this.valueDec=t}fromBER(t,n,a){if(0===a)return n;let i=s.BufferSourceConverter.toUint8Array(t);if(!checkBufferParams(this,i,n,a))return -1;let o=i.subarray(n,n+a);this.valueHexView=new Uint8Array(a);for(let t=0;t<a&&(this.valueHexView[t]=127&o[t],this.blockLength++,(128&o[t])!=0);t++);let u=new Uint8Array(this.blockLength);for(let t=0;t<this.blockLength;t++)u[t]=this.valueHexView[t];return(this.valueHexView=u,(128&o[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=l.utilFromBase(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}toBER(t){if(this.isHexOnly){if(t)return new ArrayBuffer(this.valueHexView.byteLength);let n=this.valueHexView,a=new Uint8Array(this.blockLength);for(let t=0;t<this.blockLength-1;t++)a[t]=128|n[t];return a[this.blockLength-1]=n[this.blockLength-1],a.buffer}let n=l.utilToBase(this.valueDec,7);if(0===n.byteLength)return this.error="Error during encoding SID value",p;let a=new Uint8Array(n.byteLength);if(!t){let t=new Uint8Array(n),i=n.byteLength-1;for(let n=0;n<i;n++)a[n]=128|t[n];a[i]=t[i]}return a.buffer}toString(){return this.isHexOnly?s.Convert.ToHex(this.valueHexView):this.valueDec.toString()}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}};LocalRelativeSidValueBlock.NAME="relativeSidBlock";let LocalRelativeObjectIdentifierValueBlock=class LocalRelativeObjectIdentifierValueBlock extends ValueBlock{constructor({value:t="",...n}={}){super(n),this.value=[],t&&this.fromString(t)}fromBER(t,n,a){let i=n;for(;a>0;){let n=new LocalRelativeSidValueBlock;if(-1===(i=n.fromBER(t,i,a))){this.blockLength=0,this.error=n.error;break}this.blockLength+=n.blockLength,a-=n.blockLength,this.value.push(n)}return i}toBER(t,n){let a=[];for(let n=0;n<this.value.length;n++){let i=this.value[n].toBER(t);if(0===i.byteLength)return this.error=this.value[n].error,p;a.push(i)}return concat(a)}fromString(t){this.value=[];let n=0,a=0,i="";do{i=-1===(a=t.indexOf(".",n))?t.substring(n):t.substring(n,a),n=a+1;let o=new LocalRelativeSidValueBlock;if(o.valueDec=parseInt(i,10),isNaN(o.valueDec))break;this.value.push(o)}while(-1!==a);return!0}toString(){let t="",n=!1;for(let a=0;a<this.value.length;a++){n=this.value[a].isHexOnly;let i=this.value[a].toString();0!==a&&(t=`${t}.`),n?t+=i=`{${i}}`:t+=i}return t}toJSON(){let t={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)t.sidArray.push(this.value[n].toJSON());return t}};LocalRelativeObjectIdentifierValueBlock.NAME="RelativeObjectIdentifierValueBlock";let RelativeObjectIdentifier=class RelativeObjectIdentifier extends BaseBlock{constructor(t={}){super(t,LocalRelativeObjectIdentifierValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(t){this.valueBlock.fromString(t)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};v.RelativeObjectIdentifier=RelativeObjectIdentifier,RelativeObjectIdentifier.NAME="RelativeObjectIdentifier";let Sequence=class Sequence extends Constructed{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}};v.Sequence=Sequence,Sequence.NAME="SEQUENCE";let Set=class Set extends Constructed{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};v.Set=Set,Set.NAME="SET";let LocalStringValueBlock=class LocalStringValueBlock extends HexBlock(ValueBlock){constructor({...t}={}){super(t),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}};LocalStringValueBlock.NAME="StringValueBlock";let LocalSimpleStringValueBlock=class LocalSimpleStringValueBlock extends LocalStringValueBlock{};LocalSimpleStringValueBlock.NAME="SimpleStringValueBlock";let LocalSimpleStringBlock=class LocalSimpleStringBlock extends BaseStringBlock{constructor({...t}={}){super(t,LocalSimpleStringValueBlock)}fromBuffer(t){this.valueBlock.value=String.fromCharCode.apply(null,s.BufferSourceConverter.toUint8Array(t))}fromString(t){let n=t.length,a=this.valueBlock.valueHexView=new Uint8Array(n);for(let i=0;i<n;i++)a[i]=t.charCodeAt(i);this.valueBlock.value=t}};LocalSimpleStringBlock.NAME="SIMPLE STRING";let LocalUtf8StringValueBlock=class LocalUtf8StringValueBlock extends LocalSimpleStringBlock{fromBuffer(t){this.valueBlock.valueHexView=s.BufferSourceConverter.toUint8Array(t);try{this.valueBlock.value=s.Convert.ToUtf8String(t)}catch(n){this.warnings.push(`Error during "decodeURIComponent": ${n}, using raw string`),this.valueBlock.value=s.Convert.ToBinary(t)}}fromString(t){this.valueBlock.valueHexView=new Uint8Array(s.Convert.FromUtf8String(t)),this.valueBlock.value=t}};LocalUtf8StringValueBlock.NAME="Utf8StringValueBlock";let Utf8String=class Utf8String extends LocalUtf8StringValueBlock{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}};v.Utf8String=Utf8String,Utf8String.NAME="UTF8String";let LocalBmpStringValueBlock=class LocalBmpStringValueBlock extends LocalSimpleStringBlock{fromBuffer(t){this.valueBlock.value=s.Convert.ToUtf16String(t),this.valueBlock.valueHexView=s.BufferSourceConverter.toUint8Array(t)}fromString(t){this.valueBlock.value=t,this.valueBlock.valueHexView=new Uint8Array(s.Convert.FromUtf16String(t))}};LocalBmpStringValueBlock.NAME="BmpStringValueBlock";let BmpString=class BmpString extends LocalBmpStringValueBlock{constructor({...t}={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}};v.BmpString=BmpString,BmpString.NAME="BMPString";let LocalUniversalStringValueBlock=class LocalUniversalStringValueBlock extends LocalSimpleStringBlock{fromBuffer(t){let n=ArrayBuffer.isView(t)?t.slice().buffer:t.slice(0),a=new Uint8Array(n);for(let t=0;t<a.length;t+=4)a[t]=a[t+3],a[t+1]=a[t+2],a[t+2]=0,a[t+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(n))}fromString(t){let n=t.length,a=this.valueBlock.valueHexView=new Uint8Array(4*n);for(let i=0;i<n;i++){let n=l.utilToBase(t.charCodeAt(i),8),o=new Uint8Array(n);if(o.length>4)continue;let s=4-o.length;for(let t=o.length-1;t>=0;t--)a[4*i+t+s]=o[t]}this.valueBlock.value=t}};LocalUniversalStringValueBlock.NAME="UniversalStringValueBlock";let UniversalString=class UniversalString extends LocalUniversalStringValueBlock{constructor({...t}={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}};v.UniversalString=UniversalString,UniversalString.NAME="UniversalString";let NumericString=class NumericString extends LocalSimpleStringBlock{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}};v.NumericString=NumericString,NumericString.NAME="NumericString";let PrintableString=class PrintableString extends LocalSimpleStringBlock{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}};v.PrintableString=PrintableString,PrintableString.NAME="PrintableString";let TeletexString=class TeletexString extends LocalSimpleStringBlock{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}};v.TeletexString=TeletexString,TeletexString.NAME="TeletexString";let VideotexString=class VideotexString extends LocalSimpleStringBlock{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}};v.VideotexString=VideotexString,VideotexString.NAME="VideotexString";let IA5String=class IA5String extends LocalSimpleStringBlock{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}};v.IA5String=IA5String,IA5String.NAME="IA5String";let GraphicString=class GraphicString extends LocalSimpleStringBlock{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}};v.GraphicString=GraphicString,GraphicString.NAME="GraphicString";let VisibleString=class VisibleString extends LocalSimpleStringBlock{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}};v.VisibleString=VisibleString,VisibleString.NAME="VisibleString";let GeneralString=class GeneralString extends LocalSimpleStringBlock{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}};v.GeneralString=GeneralString,GeneralString.NAME="GeneralString";let CharacterString=class CharacterString extends LocalSimpleStringBlock{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}};v.CharacterString=CharacterString,CharacterString.NAME="CharacterString";let UTCTime=class UTCTime extends VisibleString{constructor({value:t,valueDate:n,...a}={}){if(super(a),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,t){this.fromString(t),this.valueBlock.valueHexView=new Uint8Array(t.length);for(let n=0;n<t.length;n++)this.valueBlock.valueHexView[n]=t.charCodeAt(n)}n&&(this.fromDate(n),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(t){this.fromString(String.fromCharCode.apply(null,s.BufferSourceConverter.toUint8Array(t)))}toBuffer(){let t=this.toString(),n=new ArrayBuffer(t.length),a=new Uint8Array(n);for(let n=0;n<t.length;n++)a[n]=t.charCodeAt(n);return n}fromDate(t){this.year=t.getUTCFullYear(),this.month=t.getUTCMonth()+1,this.day=t.getUTCDate(),this.hour=t.getUTCHours(),this.minute=t.getUTCMinutes(),this.second=t.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(t){let n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(t);if(null===n){this.error="Wrong input string for conversion";return}let a=parseInt(n[1],10);a>=50?this.year=1900+a:this.year=2e3+a,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(t="iso"){if("iso"===t){let t=Array(7);return t[0]=l.padNumber(this.year<2e3?this.year-1900:this.year-2e3,2),t[1]=l.padNumber(this.month,2),t[2]=l.padNumber(this.day,2),t[3]=l.padNumber(this.hour,2),t[4]=l.padNumber(this.minute,2),t[5]=l.padNumber(this.second,2),t[6]="Z",t.join("")}return super.toString(t)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}};v.UTCTime=UTCTime,UTCTime.NAME="UTCTime";let GeneralizedTime=class GeneralizedTime extends UTCTime{constructor(t={}){var n;super(t),null!==(n=this.millisecond)&&void 0!==n||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(t){super.fromDate(t),this.millisecond=t.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(t){let n,a=!1,i="",o="",s=0,l=0,u=0;if("Z"===t[t.length-1])i=t.substring(0,t.length-1),a=!0;else{let n=new Number(t[t.length-1]);if(isNaN(n.valueOf()))throw Error("Wrong input string for conversion");i=t}if(a){if(-1!==i.indexOf("+")||-1!==i.indexOf("-"))throw Error("Wrong input string for conversion")}else{let t=1,n=i.indexOf("+"),a="";if(-1===n&&(n=i.indexOf("-"),t=-1),-1!==n){if(a=i.substring(n+1),i=i.substring(0,n),2!==a.length&&4!==a.length)throw Error("Wrong input string for conversion");let o=parseInt(a.substring(0,2),10);if(isNaN(o.valueOf()))throw Error("Wrong input string for conversion");if(l=t*o,4===a.length){if(isNaN((o=parseInt(a.substring(2,4),10)).valueOf()))throw Error("Wrong input string for conversion");u=t*o}}}let c=i.indexOf(".");if(-1===c&&(c=i.indexOf(",")),-1!==c){let t=new Number(`0${i.substring(c)}`);if(isNaN(t.valueOf()))throw Error("Wrong input string for conversion");s=t.valueOf(),o=i.substring(0,c)}else o=i;switch(!0){case 8===o.length:if(n=/(\d{4})(\d{2})(\d{2})/ig,-1!==c)throw Error("Wrong input string for conversion");break;case 10===o.length:if(n=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,-1!==c){let t=60*s;this.minute=Math.floor(t),t=60*(t-this.minute),this.second=Math.floor(t),t=1e3*(t-this.second),this.millisecond=Math.floor(t)}break;case 12===o.length:if(n=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==c){let t=60*s;this.second=Math.floor(t),t=1e3*(t-this.second),this.millisecond=Math.floor(t)}break;case 14===o.length:if(n=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==c){let t=1e3*s;this.millisecond=Math.floor(t)}break;default:throw Error("Wrong input string for conversion")}let d=n.exec(o);if(null===d)throw Error("Wrong input string for conversion");for(let t=1;t<d.length;t++)switch(t){case 1:this.year=parseInt(d[t],10);break;case 2:this.month=parseInt(d[t],10);break;case 3:this.day=parseInt(d[t],10);break;case 4:this.hour=parseInt(d[t],10)+l;break;case 5:this.minute=parseInt(d[t],10)+u;break;case 6:this.second=parseInt(d[t],10);break;default:throw Error("Wrong input string for conversion")}if(!1===a){let t=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=t.getUTCFullYear(),this.month=t.getUTCMonth(),this.day=t.getUTCDay(),this.hour=t.getUTCHours(),this.minute=t.getUTCMinutes(),this.second=t.getUTCSeconds(),this.millisecond=t.getUTCMilliseconds()}}toString(t="iso"){if("iso"===t){let t=[];return t.push(l.padNumber(this.year,4)),t.push(l.padNumber(this.month,2)),t.push(l.padNumber(this.day,2)),t.push(l.padNumber(this.hour,2)),t.push(l.padNumber(this.minute,2)),t.push(l.padNumber(this.second,2)),0!==this.millisecond&&(t.push("."),t.push(l.padNumber(this.millisecond,3))),t.push("Z"),t.join("")}return super.toString(t)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}};v.GeneralizedTime=GeneralizedTime,GeneralizedTime.NAME="GeneralizedTime";let DATE=class DATE extends Utf8String{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}};v.DATE=DATE,DATE.NAME="DATE";let TimeOfDay=class TimeOfDay extends Utf8String{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}};v.TimeOfDay=TimeOfDay,TimeOfDay.NAME="TimeOfDay";let DateTime=class DateTime extends Utf8String{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}};v.DateTime=DateTime,DateTime.NAME="DateTime";let Duration=class Duration extends Utf8String{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}};v.Duration=Duration,Duration.NAME="Duration";let TIME=class TIME extends Utf8String{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}};v.TIME=TIME,TIME.NAME="TIME";let Any=class Any{constructor({name:t="",optional:n=!1}={}){this.name=t,this.optional=n}};let Choice=class Choice extends Any{constructor({value:t=[],...n}={}){super(n),this.value=t}};let Repeated=class Repeated extends Any{constructor({value:t=new Any,local:n=!1,...a}={}){super(a),this.value=t,this.local=n}};function compareSchema(t,n,a){if(a instanceof Choice){for(let i=0;i<a.value.length;i++){let o=compareSchema(t,n,a.value[i]);if(o.verified)return{verified:!0,result:t}}{let t={verified:!1,result:{error:"Wrong values for Choice type"}};return a.hasOwnProperty(d)&&(t.name=a.name),t}}if(a instanceof Any)return a.hasOwnProperty(d)&&(t[a.name]=n),{verified:!0,result:t};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(n instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(a instanceof Object==!1||"idBlock"in a==!1||"fromBER"in a.idBlock==!1||"toBER"in a.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=a.idBlock.toBER(!1);if(0===i.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};let o=a.idBlock.fromBER(i,0,i.byteLength);if(-1===o)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===a.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(a.idBlock.tagClass!==n.idBlock.tagClass)return{verified:!1,result:t};if(!1===a.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(a.idBlock.tagNumber!==n.idBlock.tagNumber)return{verified:!1,result:t};if(!1===a.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(a.idBlock.isConstructed!==n.idBlock.isConstructed)return{verified:!1,result:t};if(!("isHexOnly"in a.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(a.idBlock.isHexOnly!==n.idBlock.isHexOnly)return{verified:!1,result:t};if(a.idBlock.isHexOnly){if(h in a.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=a.idBlock.valueHexView,o=n.idBlock.valueHexView;if(i.length!==o.length)return{verified:!1,result:t};for(let n=0;n<i.length;n++)if(i[n]!==o[1])return{verified:!1,result:t}}if(a.name&&(a.name=a.name.replace(/^\s+|\s+$/g,""),a.name&&(t[a.name]=n)),a instanceof v.Constructed){let i=0,o={verified:!1,result:{error:"Unknown error"}},s=a.valueBlock.value.length;if(s>0&&a.valueBlock.value[0]instanceof Repeated&&(s=n.valueBlock.value.length),0===s)return{verified:!0,result:t};if(0===n.valueBlock.value.length&&0!==a.valueBlock.value.length){let n=!0;for(let t=0;t<a.valueBlock.value.length;t++)n=n&&(a.valueBlock.value[t].optional||!1);return n?{verified:!0,result:t}:(a.name&&(a.name=a.name.replace(/^\s+|\s+$/g,""),a.name&&delete t[a.name]),t.error="Inconsistent object length",{verified:!1,result:t})}for(let l=0;l<s;l++)if(l-i>=n.valueBlock.value.length){if(!1===a.valueBlock.value[l].optional){let n={verified:!1,result:t};return t.error="Inconsistent length between ASN.1 data and schema",a.name&&(a.name=a.name.replace(/^\s+|\s+$/g,""),a.name&&(delete t[a.name],n.name=a.name)),n}}else if(a.valueBlock.value[0]instanceof Repeated){if(!1===(o=compareSchema(t,n.valueBlock.value[l],a.valueBlock.value[0].value)).verified){if(!a.valueBlock.value[0].optional)return a.name&&(a.name=a.name.replace(/^\s+|\s+$/g,""),a.name&&delete t[a.name]),o;i++}if(d in a.valueBlock.value[0]&&a.valueBlock.value[0].name.length>0){let i={};void 0===(i="local"in a.valueBlock.value[0]&&a.valueBlock.value[0].local?n:t)[a.valueBlock.value[0].name]&&(i[a.valueBlock.value[0].name]=[]),i[a.valueBlock.value[0].name].push(n.valueBlock.value[l])}}else if(!1===(o=compareSchema(t,n.valueBlock.value[l-i],a.valueBlock.value[l])).verified){if(!a.valueBlock.value[l].optional)return a.name&&(a.name=a.name.replace(/^\s+|\s+$/g,""),a.name&&delete t[a.name]),o;i++}if(!1===o.verified){let n={verified:!1,result:t};return a.name&&(a.name=a.name.replace(/^\s+|\s+$/g,""),a.name&&(delete t[a.name],n.name=a.name)),n}return{verified:!0,result:t}}if(a.primitiveSchema&&h in n.valueBlock){let i=localFromBER(n.valueBlock.valueHexView);if(-1===i.offset){let n={verified:!1,result:i.result};return a.name&&(a.name=a.name.replace(/^\s+|\s+$/g,""),a.name&&(delete t[a.name],n.name=a.name)),n}return compareSchema(t,i.result,a.primitiveSchema)}return{verified:!0,result:t}}n.Any=Any,n.BaseBlock=BaseBlock,n.BaseStringBlock=BaseStringBlock,n.BitString=BitString,n.BmpString=BmpString,n.Boolean=Boolean,n.CharacterString=CharacterString,n.Choice=Choice,n.Constructed=Constructed,n.DATE=DATE,n.DateTime=DateTime,n.Duration=Duration,n.EndOfContent=EndOfContent,n.Enumerated=Enumerated,n.GeneralString=GeneralString,n.GeneralizedTime=GeneralizedTime,n.GraphicString=GraphicString,n.HexBlock=HexBlock,n.IA5String=IA5String,n.Integer=Integer,n.Null=Null,n.NumericString=NumericString,n.ObjectIdentifier=ObjectIdentifier,n.OctetString=OctetString,n.Primitive=Primitive,n.PrintableString=PrintableString,n.RawData=class{constructor({data:t=y}={}){this.dataView=s.BufferSourceConverter.toUint8Array(t)}get data(){return this.dataView.slice().buffer}set data(t){this.dataView=s.BufferSourceConverter.toUint8Array(t)}fromBER(t,n,a){let i=n+a;return this.dataView=s.BufferSourceConverter.toUint8Array(t).subarray(n,i),i}toBER(t){return this.dataView.slice().buffer}},n.RelativeObjectIdentifier=RelativeObjectIdentifier,n.Repeated=Repeated,n.Sequence=Sequence,n.Set=Set,n.TIME=TIME,n.TeletexString=TeletexString,n.TimeOfDay=TimeOfDay,n.UTCTime=UTCTime,n.UniversalString=UniversalString,n.Utf8String=Utf8String,n.ValueBlock=ValueBlock,n.VideotexString=VideotexString,n.ViewWriter=ViewWriter,n.VisibleString=VisibleString,n.compareSchema=compareSchema,n.fromBER=function(t){if(!t.byteLength){let t=new BaseBlock({},ValueBlock);return t.error="Input buffer has zero length",{offset:-1,result:t}}return localFromBER(s.BufferSourceConverter.toUint8Array(t).slice(),0,t.byteLength)},n.verifySchema=function(t,n){if(n instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let a=localFromBER(s.BufferSourceConverter.toUint8Array(t));return -1===a.offset?{verified:!1,result:a.result}:compareSchema(a.result,a.result,n)}},50002:(t,n)=>{"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */n.parse=function(t,n){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var a={},i=(n||{}).decode||decode,o=0;o<t.length;){var s=t.indexOf("=",o);if(-1===s)break;var l=t.indexOf(";",o);if(-1===l)l=t.length;else if(l<s){o=t.lastIndexOf(";",s-1)+1;continue}var u=t.slice(o,s).trim();if(void 0===a[u]){var c=t.slice(s+1,l).trim();34===c.charCodeAt(0)&&(c=c.slice(1,-1)),a[u]=function(t,n){try{return n(t)}catch(n){return t}}(c,i)}o=l+1}return a},n.serialize=function(t,n,o){var s=o||{},l=s.encode||encode;if("function"!=typeof l)throw TypeError("option encode is invalid");if(!i.test(t))throw TypeError("argument name is invalid");var u=l(n);if(u&&!i.test(u))throw TypeError("argument val is invalid");var c=t+"="+u;if(null!=s.maxAge){var d=s.maxAge-0;if(isNaN(d)||!isFinite(d))throw TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(d)}if(s.domain){if(!i.test(s.domain))throw TypeError("option domain is invalid");c+="; Domain="+s.domain}if(s.path){if(!i.test(s.path))throw TypeError("option path is invalid");c+="; Path="+s.path}if(s.expires){var h=s.expires;if("[object Date]"!==a.call(h)&&!(h instanceof Date)||isNaN(h.valueOf()))throw TypeError("option expires is invalid");c+="; Expires="+h.toUTCString()}if(s.httpOnly&&(c+="; HttpOnly"),s.secure&&(c+="; Secure"),s.priority)switch("string"==typeof s.priority?s.priority.toLowerCase():s.priority){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c};var a=Object.prototype.toString,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function decode(t){return -1!==t.indexOf("%")?decodeURIComponent(t):t}function encode(t){return encodeURIComponent(t)}},76196:t=>{"use strict";var isMergeableObject=function(t){var a;return!!t&&"object"==typeof t&&"[object RegExp]"!==(a=Object.prototype.toString.call(t))&&"[object Date]"!==a&&t.$$typeof!==n},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function cloneUnlessOtherwiseSpecified(t,n){return!1!==n.clone&&n.isMergeableObject(t)?deepmerge(Array.isArray(t)?[]:{},t,n):t}function defaultArrayMerge(t,n,a){return t.concat(n).map(function(t){return cloneUnlessOtherwiseSpecified(t,a)})}function getKeys(t){return Object.keys(t).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(n){return t.propertyIsEnumerable(n)}):[])}function propertyIsOnObject(t,n){try{return n in t}catch(t){return!1}}function deepmerge(t,n,a){(a=a||{}).arrayMerge=a.arrayMerge||defaultArrayMerge,a.isMergeableObject=a.isMergeableObject||isMergeableObject,a.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var i,o,s=Array.isArray(n);return s!==Array.isArray(t)?cloneUnlessOtherwiseSpecified(n,a):s?a.arrayMerge(t,n,a):(o={},(i=a).isMergeableObject(t)&&getKeys(t).forEach(function(n){o[n]=cloneUnlessOtherwiseSpecified(t[n],i)}),getKeys(n).forEach(function(a){(!propertyIsOnObject(t,a)||Object.hasOwnProperty.call(t,a)&&Object.propertyIsEnumerable.call(t,a))&&(propertyIsOnObject(t,a)&&i.isMergeableObject(n[a])?o[a]=(function(t,n){if(!n.customMerge)return deepmerge;var a=n.customMerge(t);return"function"==typeof a?a:deepmerge})(a,i)(t[a],n[a],i):o[a]=cloneUnlessOtherwiseSpecified(n[a],i))}),o)}deepmerge.all=function(t,n){if(!Array.isArray(t))throw Error("first argument should be an array");return t.reduce(function(t,a){return deepmerge(t,a,n)},{})},t.exports=deepmerge},84639:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.dotCase=void 0;var i=a(15803),o=a(29942);n.dotCase=function(t,n){return void 0===n&&(n={}),o.noCase(t,i.__assign({delimiter:"."},n))}},39998:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lowerCase=n.localeLowerCase=void 0;var a={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{İ:"i",I:"ı",İ:"i"}},az:{regexp:/\u0130/g,map:{İ:"i",I:"ı",İ:"i"}},lt:{regexp:/\u0049|\u004A|\u012E|\u00CC|\u00CD|\u0128/g,map:{I:"i̇",J:"j̇",Į:"į̇",Ì:"i̇̀",Í:"i̇́",Ĩ:"i̇̃"}}};function lowerCase(t){return t.toLowerCase()}n.localeLowerCase=function(t,n){var i=a[n.toLowerCase()];return i?lowerCase(t.replace(i.regexp,function(t){return i.map[t]})):lowerCase(t)},n.lowerCase=lowerCase},50104:t=>{"use strict";let isObject=t=>"object"==typeof t&&null!==t,n=Symbol("skip"),isObjectCustom=t=>isObject(t)&&!(t instanceof RegExp)&&!(t instanceof Error)&&!(t instanceof Date),mapObject=(t,a,i,o=new WeakMap)=>{if(i={deep:!1,target:{},...i},o.has(t))return o.get(t);o.set(t,i.target);let{target:s}=i;delete i.target;let mapArray=t=>t.map(t=>isObjectCustom(t)?mapObject(t,a,i,o):t);if(Array.isArray(t))return mapArray(t);for(let[l,u]of Object.entries(t)){let c=a(l,u,t);if(c===n)continue;let[d,h,{shouldRecurse:p=!0}={}]=c;"__proto__"!==d&&(i.deep&&p&&isObjectCustom(h)&&(h=Array.isArray(h)?mapArray(h):mapObject(h,a,i,o)),s[d]=h)}return s};t.exports=(t,n,a)=>{if(!isObject(t))throw TypeError(`Expected an object, got \`${t}\` (${typeof t})`);return mapObject(t,n,a)},t.exports.mapObjectSkip=n},17536:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createProxy",{enumerable:!0,get:function(){return o}});let i=a(51447),o=i.createClientModuleProxy},13329:(t,n,a)=>{"use strict";let{createProxy:i}=a(17536);t.exports=i("C:\\Users\\af_K_ar\\stack_overflow_nextjs14\\node_modules\\next\\dist\\client\\components\\app-router.js")},4183:(t,n,a)=>{"use strict";let{createProxy:i}=a(17536);t.exports=i("C:\\Users\\af_K_ar\\stack_overflow_nextjs14\\node_modules\\next\\dist\\client\\components\\error-boundary.js")},83701:(t,n,a)=>{"use strict";let{createProxy:i}=a(17536);t.exports=i("C:\\Users\\af_K_ar\\stack_overflow_nextjs14\\node_modules\\next\\dist\\client\\components\\layout-router.js")},10672:(t,n,a)=>{"use strict";let{createProxy:i}=a(17536);t.exports=i("C:\\Users\\af_K_ar\\stack_overflow_nextjs14\\node_modules\\next\\dist\\client\\components\\not-found-boundary.js")},51918:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return NotFound}});let i=a(71974),o=i._(a(53830)),s={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block"},h1:{display:"inline-block",margin:"0 20px 0 0",padding:"0 23px 0 0",fontSize:24,fontWeight:500,verticalAlign:"top",lineHeight:"49px"},h2:{fontSize:14,fontWeight:400,lineHeight:"49px",margin:0}};function NotFound(){return o.default.createElement(o.default.Fragment,null,o.default.createElement("title",null,"404: This page could not be found."),o.default.createElement("div",{style:s.error},o.default.createElement("div",null,o.default.createElement("style",{dangerouslySetInnerHTML:{__html:"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}),o.default.createElement("h1",{className:"next-error-h1",style:s.h1},"404"),o.default.createElement("div",{style:s.desc},o.default.createElement("h2",{style:s.h2},"This page could not be found.")))))}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},19902:(t,n,a)=>{"use strict";let{createProxy:i}=a(17536);t.exports=i("C:\\Users\\af_K_ar\\stack_overflow_nextjs14\\node_modules\\next\\dist\\client\\components\\render-from-template-context.js")},24284:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createSearchParamsBailoutProxy",{enumerable:!0,get:function(){return createSearchParamsBailoutProxy}});let i=a(45020);function createSearchParamsBailoutProxy(){return new Proxy({},{get(t,n){"string"==typeof n&&(0,i.staticGenerationBailout)("searchParams."+n)}})}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},68816:(t,n,a)=>{"use strict";let{createProxy:i}=a(17536);t.exports=i("C:\\Users\\af_K_ar\\stack_overflow_nextjs14\\node_modules\\next\\dist\\client\\components\\static-generation-searchparams-bailout-provider.js")},71775:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{AppRouter:function(){return i.default},LayoutRouter:function(){return o.default},RenderFromTemplateContext:function(){return s.default},staticGenerationAsyncStorage:function(){return l.staticGenerationAsyncStorage},requestAsyncStorage:function(){return u.requestAsyncStorage},actionAsyncStorage:function(){return c.actionAsyncStorage},staticGenerationBailout:function(){return d.staticGenerationBailout},createSearchParamsBailoutProxy:function(){return p.createSearchParamsBailoutProxy},serverHooks:function(){return y},renderToReadableStream:function(){return g},decodeReply:function(){return b},decodeAction:function(){return v},decodeFormState:function(){return S},preloadStyle:function(){return m.preloadStyle},preloadFont:function(){return m.preloadFont},preconnect:function(){return m.preconnect},StaticGenerationSearchParamsBailoutProvider:function(){return h.default},NotFoundBoundary:function(){return C}});let i=_interop_require_default(a(13329)),o=_interop_require_default(a(83701)),s=_interop_require_default(a(19902)),l=a(25319),u=a(91877),c=a(25528),d=a(45020),h=_interop_require_default(a(68816)),p=a(24284),y=function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var a=_getRequireWildcardCache(n);if(a&&a.has(t))return a.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=o?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=t[s]}return i.default=t,a&&a.set(t,i),i}(a(5439)),m=a(91073);function _interop_require_default(t){return t&&t.__esModule?t:{default:t}}function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function(t){return t?a:n})(t)}let{renderToReadableStream:g,decodeReply:b,decodeAction:v,decodeFormState:S}=a(51447),{NotFoundBoundary:C}=a(10672)},91073:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{preloadStyle:function(){return preloadStyle},preloadFont:function(){return preloadFont},preconnect:function(){return preconnect}});let i=function(t){return t&&t.__esModule?t:{default:t}}(a(67379));function preloadStyle(t,n){let a={as:"style"};"string"==typeof n&&(a.crossOrigin=n),i.default.preload(t,a)}function preloadFont(t,n,a){let o={as:"font",type:n};"string"==typeof a&&(o.crossOrigin=a),i.default.preload(t,o)}function preconnect(t,n){i.default.preconnect(t,"string"==typeof n?{crossOrigin:n}:void 0)}},73137:(t,n,a)=>{"use strict";t.exports=a(41790)},67379:(t,n,a)=>{"use strict";t.exports=a(73137).vendored["react-rsc"].ReactDOM},51447:(t,n,a)=>{"use strict";t.exports=a(73137).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},53830:(t,n,a)=>{"use strict";t.exports=a(73137).vendored["react-rsc"].React},48144:(t,n,a)=>{"use strict";t.exports=a(73137).vendored["react-shared"].ReactJsxRuntime},1468:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{PageSignatureError:function(){return PageSignatureError},RemovedPageError:function(){return RemovedPageError},RemovedUAError:function(){return RemovedUAError}});let PageSignatureError=class PageSignatureError extends Error{constructor({page:t}){super(`The middleware "${t}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}};let RemovedPageError=class RemovedPageError extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}};let RemovedUAError=class RemovedUAError extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},32160:(t,n,a)=>{"use strict";Object.defineProperty(n,"Z",{enumerable:!0,get:function(){return i.NextRequest}});let i=a(37021)},37021:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{INTERNALS:function(){return u},NextRequest:function(){return NextRequest}});let i=a(65973),o=a(75746),s=a(1468),l=a(93497),u=Symbol("internal request");let NextRequest=class NextRequest extends Request{constructor(t,n={}){let a="string"!=typeof t&&"url"in t?t.url:String(t);(0,o.validateURL)(a),t instanceof Request?super(t,n):super(a,n);let s=new i.NextURL(a,{headers:(0,o.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:n.nextConfig});this[u]={cookies:new l.RequestCookies(this.headers),geo:n.geo||{},ip:n.ip,nextUrl:s,url:s.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[u].cookies}get geo(){return this[u].geo}get ip(){return this[u].ip}get nextUrl(){return this[u].nextUrl}get page(){throw new s.RemovedPageError}get ua(){throw new s.RemovedUAError}get url(){return this[u].url}}},29942:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.noCase=void 0;var i=a(39998),o=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],s=/[^A-Z0-9]+/gi;function replace(t,n,a){return n instanceof RegExp?t.replace(n,a):n.reduce(function(t,n){return t.replace(n,a)},t)}n.noCase=function(t,n){void 0===n&&(n={});for(var a=n.splitRegexp,l=n.stripRegexp,u=n.transform,c=void 0===u?i.lowerCase:u,d=n.delimiter,h=void 0===d?" ":d,p=replace(replace(t,void 0===a?o:a,"$1\x00$2"),void 0===l?s:l,"\x00"),y=0,m=p.length;"\x00"===p.charAt(y);)y++;for(;"\x00"===p.charAt(m-1);)m--;return p.slice(y,m).split("\x00").map(c).join(h)}},18624:(t,n)=>{"use strict";function escapeString(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function flags(t){return t&&t.sensitive?"":"i"}n.Bo=void 0,n.Bo=function pathToRegexp(t,n,a){var i;return t instanceof RegExp?function(t,n){if(!n)return t;for(var a=/\((?:\?<(.*?)>)?(?!\?)/g,i=0,o=a.exec(t.source);o;)n.push({name:o[1]||i++,prefix:"",suffix:"",modifier:"",pattern:""}),o=a.exec(t.source);return t}(t,n):Array.isArray(t)?(i=t.map(function(t){return pathToRegexp(t,n,a).source}),new RegExp("(?:".concat(i.join("|"),")"),flags(a))):function(t,n,a){void 0===a&&(a={});for(var i=a.strict,o=void 0!==i&&i,s=a.start,l=a.end,u=a.encode,c=void 0===u?function(t){return t}:u,d=a.delimiter,h=a.endsWith,p="[".concat(escapeString(void 0===h?"":h),"]|$"),y="[".concat(escapeString(void 0===d?"/#?":d),"]"),m=void 0===s||s?"^":"",g=0;g<t.length;g++){var b=t[g];if("string"==typeof b)m+=escapeString(c(b));else{var v=escapeString(c(b.prefix)),S=escapeString(c(b.suffix));if(b.pattern){if(n&&n.push(b),v||S){if("+"===b.modifier||"*"===b.modifier){var C="*"===b.modifier?"?":"";m+="(?:".concat(v,"((?:").concat(b.pattern,")(?:").concat(S).concat(v,"(?:").concat(b.pattern,"))*)").concat(S,")").concat(C)}else m+="(?:".concat(v,"(").concat(b.pattern,")").concat(S,")").concat(b.modifier)}else"+"===b.modifier||"*"===b.modifier?m+="((?:".concat(b.pattern,")").concat(b.modifier,")"):m+="(".concat(b.pattern,")").concat(b.modifier)}else m+="(?:".concat(v).concat(S,")").concat(b.modifier)}}if(void 0===l||l)o||(m+="".concat(y,"?")),m+=a.endsWith?"(?=".concat(p,")"):"$";else{var _=t[t.length-1],w="string"==typeof _?y.indexOf(_[_.length-1])>-1:void 0===_;o||(m+="(?:".concat(y,"(?=").concat(p,"))?")),w||(m+="(?=".concat(y,"|").concat(p,")"))}return new RegExp(m,flags(a))}(function(t,n){void 0===n&&(n={});for(var a=function(t){for(var n=[],a=0;a<t.length;){var i=t[a];if("*"===i||"+"===i||"?"===i){n.push({type:"MODIFIER",index:a,value:t[a++]});continue}if("\\"===i){n.push({type:"ESCAPED_CHAR",index:a++,value:t[a++]});continue}if("{"===i){n.push({type:"OPEN",index:a,value:t[a++]});continue}if("}"===i){n.push({type:"CLOSE",index:a,value:t[a++]});continue}if(":"===i){for(var o="",s=a+1;s<t.length;){var l=t.charCodeAt(s);if(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l){o+=t[s++];continue}break}if(!o)throw TypeError("Missing parameter name at ".concat(a));n.push({type:"NAME",index:a,value:o}),a=s;continue}if("("===i){var u=1,c="",s=a+1;if("?"===t[s])throw TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<t.length;){if("\\"===t[s]){c+=t[s++]+t[s++];continue}if(")"===t[s]){if(0==--u){s++;break}}else if("("===t[s]&&(u++,"?"!==t[s+1]))throw TypeError("Capturing groups are not allowed at ".concat(s));c+=t[s++]}if(u)throw TypeError("Unbalanced pattern at ".concat(a));if(!c)throw TypeError("Missing pattern at ".concat(a));n.push({type:"PATTERN",index:a,value:c}),a=s;continue}n.push({type:"CHAR",index:a,value:t[a++]})}return n.push({type:"END",index:a,value:""}),n}(t),i=n.prefixes,o=void 0===i?"./":i,s="[^".concat(escapeString(n.delimiter||"/#?"),"]+?"),l=[],u=0,c=0,d="",tryConsume=function(t){if(c<a.length&&a[c].type===t)return a[c++].value},mustConsume=function(t){var n=tryConsume(t);if(void 0!==n)return n;var i=a[c],o=i.type,s=i.index;throw TypeError("Unexpected ".concat(o," at ").concat(s,", expected ").concat(t))},consumeText=function(){for(var t,n="";t=tryConsume("CHAR")||tryConsume("ESCAPED_CHAR");)n+=t;return n};c<a.length;){var h=tryConsume("CHAR"),p=tryConsume("NAME"),y=tryConsume("PATTERN");if(p||y){var m=h||"";-1===o.indexOf(m)&&(d+=m,m=""),d&&(l.push(d),d=""),l.push({name:p||u++,prefix:m,suffix:"",pattern:y||s,modifier:tryConsume("MODIFIER")||""});continue}var g=h||tryConsume("ESCAPED_CHAR");if(g){d+=g;continue}if(d&&(l.push(d),d=""),tryConsume("OPEN")){var m=consumeText(),b=tryConsume("NAME")||"",v=tryConsume("PATTERN")||"",S=consumeText();mustConsume("CLOSE"),l.push({name:b||(v?u++:""),pattern:b&&!v?s:v,prefix:m,suffix:S,modifier:tryConsume("MODIFIER")||""});continue}mustConsume("END")}return l}(t,a),n,a)}},81648:(t,n)=>{"use strict";let BufferSourceConverter=class BufferSourceConverter{static isArrayBuffer(t){return"[object ArrayBuffer]"===Object.prototype.toString.call(t)}static toArrayBuffer(t){return this.isArrayBuffer(t)?t:t.byteLength===t.buffer.byteLength||0===t.byteOffset&&t.byteLength===t.buffer.byteLength?t.buffer:this.toUint8Array(t.buffer).slice(t.byteOffset,t.byteOffset+t.byteLength).buffer}static toUint8Array(t){return this.toView(t,Uint8Array)}static toView(t,n){if(t.constructor===n)return t;if(this.isArrayBuffer(t))return new n(t);if(this.isArrayBufferView(t))return new n(t.buffer,t.byteOffset,t.byteLength);throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(t){return this.isArrayBufferView(t)||this.isArrayBuffer(t)}static isArrayBufferView(t){return ArrayBuffer.isView(t)||t&&this.isArrayBuffer(t.buffer)}static isEqual(t,n){let a=BufferSourceConverter.toUint8Array(t),i=BufferSourceConverter.toUint8Array(n);if(a.length!==i.byteLength)return!1;for(let t=0;t<a.length;t++)if(a[t]!==i[t])return!1;return!0}static concat(...t){let n;n=!Array.isArray(t[0])||t[1]instanceof Function?Array.isArray(t[0])&&t[1]instanceof Function?t[0]:t[t.length-1]instanceof Function?t.slice(0,t.length-1):t:t[0];let a=0;for(let t of n)a+=t.byteLength;let i=new Uint8Array(a),o=0;for(let t of n){let n=this.toUint8Array(t);i.set(n,o),o+=n.length}return t[t.length-1]instanceof Function?this.toView(i,t[t.length-1]):i.buffer}};let a="string",i=/^[0-9a-f]+$/i,o=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,s=/^[a-zA-Z0-9-_]+$/;let Utf8Converter=class Utf8Converter{static fromString(t){let n=unescape(encodeURIComponent(t)),a=new Uint8Array(n.length);for(let t=0;t<n.length;t++)a[t]=n.charCodeAt(t);return a.buffer}static toString(t){let n=BufferSourceConverter.toUint8Array(t),a="";for(let t=0;t<n.length;t++)a+=String.fromCharCode(n[t]);let i=decodeURIComponent(escape(a));return i}};let Utf16Converter=class Utf16Converter{static toString(t,n=!1){let a=BufferSourceConverter.toArrayBuffer(t),i=new DataView(a),o="";for(let t=0;t<a.byteLength;t+=2){let a=i.getUint16(t,n);o+=String.fromCharCode(a)}return o}static fromString(t,n=!1){let a=new ArrayBuffer(2*t.length),i=new DataView(a);for(let a=0;a<t.length;a++)i.setUint16(2*a,t.charCodeAt(a),n);return a}};let Convert=class Convert{static isHex(t){return typeof t===a&&i.test(t)}static isBase64(t){return typeof t===a&&o.test(t)}static isBase64Url(t){return typeof t===a&&s.test(t)}static ToString(t,n="utf8"){let a=BufferSourceConverter.toUint8Array(t);switch(n.toLowerCase()){case"utf8":return this.ToUtf8String(a);case"binary":return this.ToBinary(a);case"hex":return this.ToHex(a);case"base64":return this.ToBase64(a);case"base64url":return this.ToBase64Url(a);case"utf16le":return Utf16Converter.toString(a,!0);case"utf16":case"utf16be":return Utf16Converter.toString(a);default:throw Error(`Unknown type of encoding '${n}'`)}}static FromString(t,n="utf8"){if(!t)return new ArrayBuffer(0);switch(n.toLowerCase()){case"utf8":return this.FromUtf8String(t);case"binary":return this.FromBinary(t);case"hex":return this.FromHex(t);case"base64":return this.FromBase64(t);case"base64url":return this.FromBase64Url(t);case"utf16le":return Utf16Converter.fromString(t,!0);case"utf16":case"utf16be":return Utf16Converter.fromString(t);default:throw Error(`Unknown type of encoding '${n}'`)}}static ToBase64(t){let n=BufferSourceConverter.toUint8Array(t);if("undefined"==typeof btoa)return Buffer.from(n).toString("base64");{let t=this.ToString(n,"binary");return btoa(t)}}static FromBase64(t){let n=this.formatString(t);if(!n)return new ArrayBuffer(0);if(!Convert.isBase64(n))throw TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!=typeof atob?this.FromBinary(atob(n)):new Uint8Array(Buffer.from(n,"base64")).buffer}static FromBase64Url(t){let n=this.formatString(t);if(!n)return new ArrayBuffer(0);if(!Convert.isBase64Url(n))throw TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(n.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(t){return this.ToBase64(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(t,n=Convert.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.FromBinary(t);case"utf8":return Utf8Converter.fromString(t);case"utf16":case"utf16be":return Utf16Converter.fromString(t);case"utf16le":case"usc2":return Utf16Converter.fromString(t,!0);default:throw Error(`Unknown type of encoding '${n}'`)}}static ToUtf8String(t,n=Convert.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.ToBinary(t);case"utf8":return Utf8Converter.toString(t);case"utf16":case"utf16be":return Utf16Converter.toString(t);case"utf16le":case"usc2":return Utf16Converter.toString(t,!0);default:throw Error(`Unknown type of encoding '${n}'`)}}static FromBinary(t){let n=t.length,a=new Uint8Array(n);for(let i=0;i<n;i++)a[i]=t.charCodeAt(i);return a.buffer}static ToBinary(t){let n=BufferSourceConverter.toUint8Array(t),a="";for(let t=0;t<n.length;t++)a+=String.fromCharCode(n[t]);return a}static ToHex(t){let n=BufferSourceConverter.toUint8Array(t),a="",i=n.length;for(let t=0;t<i;t++){let i=n[t];i<16&&(a+="0"),a+=i.toString(16)}return a}static FromHex(t){let n=this.formatString(t);if(!n)return new ArrayBuffer(0);if(!Convert.isHex(n))throw TypeError("Argument 'hexString' is not HEX encoded");n.length%2&&(n=`0${n}`);let a=new Uint8Array(n.length/2);for(let t=0;t<n.length;t+=2){let i=n.slice(t,t+2);a[t/2]=parseInt(i,16)}return a.buffer}static ToUtf16String(t,n=!1){return Utf16Converter.toString(t,n)}static FromUtf16String(t,n=!1){return Utf16Converter.fromString(t,n)}static Base64Padding(t){let n=4-t.length%4;if(n<4)for(let a=0;a<n;a++)t+="=";return t}static formatString(t){return(null==t?void 0:t.replace(/[\n\r\t ]/g,""))||""}};Convert.DEFAULT_UTF8_ENCODING="utf8",n.BufferSourceConverter=BufferSourceConverter,n.Convert=Convert,n.assign=function(t,...n){let a=arguments[0];for(let t=1;t<arguments.length;t++){let n=arguments[t];for(let t in n)a[t]=n[t]}return a},n.combine=function(...t){let n=t.map(t=>t.byteLength).reduce((t,n)=>t+n),a=new Uint8Array(n),i=0;return t.map(t=>new Uint8Array(t)).forEach(t=>{for(let n of t)a[i++]=n}),a.buffer},n.isEqual=function(t,n){if(!(t&&n)||t.byteLength!==n.byteLength)return!1;let a=new Uint8Array(t),i=new Uint8Array(n);for(let n=0;n<t.byteLength;n++)if(a[n]!==i[n])return!1;return!0}},47162:(t,n)=>{"use strict";function utilFromBase(t,n){let a=0;if(1===t.length)return t[0];for(let i=t.length-1;i>=0;i--)a+=t[t.length-1-i]*Math.pow(2,n*i);return a}function utilToBase(t,n,a=-1){let i=t,o=0,s=Math.pow(2,n);for(let l=1;l<8;l++){if(t<s){let t;if(a<0)t=new ArrayBuffer(l),o=l;else{if(a<l)return new ArrayBuffer(0);t=new ArrayBuffer(a),o=a}let s=new Uint8Array(t);for(let t=l-1;t>=0;t--){let a=Math.pow(2,t*n);s[o-t-1]=Math.floor(i/a),i-=s[o-t-1]*a}return t}s*=Math.pow(2,n)}return new ArrayBuffer(0)}/*!
 Copyright (c) Peculiar Ventures, LLC
*/Object.defineProperty(n,"__esModule",{value:!0});let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",o=Math.log(2);n.arrayBufferToString=function(t){let n="",a=new Uint8Array(t);for(let t of a)n+=String.fromCharCode(t);return n},n.bufferToHexCodes=function(t,n=0,a=t.byteLength-n,i=!1){let o="";for(let s of new Uint8Array(t,n,a)){let t=s.toString(16).toUpperCase();1===t.length&&(o+="0"),o+=t,i&&(o+=" ")}return o.trim()},n.checkBufferParams=function(t,n,a,i){return n instanceof ArrayBuffer?n.byteLength?a<0?(t.error="Wrong parameter: inputOffset less than zero",!1):i<0?(t.error="Wrong parameter: inputLength less than zero",!1):!(n.byteLength-a-i<0)||(t.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(t.error="Wrong parameter: inputBuffer has zero length",!1):(t.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1)},n.clearProps=function(t,n){for(let a of n)delete t[a]},n.fromBase64=function(t,n=!1,o=!1){let s=n?i:a;function indexOf(t){for(let n=0;n<64;n++)if(s.charAt(n)===t)return n;return 64}function test(t){return 64===t?0:t}let l=0,u="";for(;l<t.length;){let n=indexOf(t.charAt(l++)),a=l>=t.length?0:indexOf(t.charAt(l++)),i=l>=t.length?0:indexOf(t.charAt(l++)),o=l>=t.length?0:indexOf(t.charAt(l++)),s=test(n)<<2|test(a)>>4,c=(15&test(a))<<4|test(i)>>2,d=(3&test(i))<<6|test(o);u+=String.fromCharCode(s),64!==i&&(u+=String.fromCharCode(c)),64!==o&&(u+=String.fromCharCode(d))}if(o){let t=u.length,n=-1;for(let a=t-1;a>=0;a--)if(0!==u.charCodeAt(a)){n=a;break}u=-1!==n?u.slice(0,n+1):""}return u},n.getParametersValue=function(t,n,a){var i;return t instanceof Object==!1?a:null!==(i=t[n])&&void 0!==i?i:a},n.getUTCDate=function(t){return new Date(t.getTime()+6e4*t.getTimezoneOffset())},n.isEqualBuffer=function(t,n){if(t.byteLength!==n.byteLength)return!1;let a=new Uint8Array(t),i=new Uint8Array(n);for(let t=0;t<a.length;t++)if(a[t]!==i[t])return!1;return!0},n.nearestPowerOf2=function(t){let n=Math.log(t)/o,a=Math.floor(n),i=Math.round(n);return a===i?a:i},n.padNumber=function(t,n){let a=t.toString(10);if(n<a.length)return"";let i=n-a.length,o=Array(i);for(let t=0;t<i;t++)o[t]="0";let s=o.join("");return s.concat(a)},n.stringToArrayBuffer=function(t){let n=t.length,a=new ArrayBuffer(n),i=new Uint8Array(a);for(let a=0;a<n;a++)i[a]=t.charCodeAt(a);return a},n.toBase64=function(t,n=!1,o=!1,s=!1){let l=0,u=0,c=0,d="",h=n?i:a;if(s){let n=0;for(let a=0;a<t.length;a++)if(0!==t.charCodeAt(a)){n=a;break}t=t.slice(n)}for(;l<t.length;){let n=t.charCodeAt(l++);l>=t.length&&(u=1);let a=t.charCodeAt(l++);l>=t.length&&(c=1);let i=t.charCodeAt(l++),s=n>>2,p=(3&n)<<4|a>>4,y=(15&a)<<2|i>>6,m=63&i;1===u?y=m=64:1===c&&(m=64),o?64===y?d+=`${h.charAt(s)}${h.charAt(p)}`:64===m?d+=`${h.charAt(s)}${h.charAt(p)}${h.charAt(y)}`:d+=`${h.charAt(s)}${h.charAt(p)}${h.charAt(y)}${h.charAt(m)}`:d+=`${h.charAt(s)}${h.charAt(p)}${h.charAt(y)}${h.charAt(m)}`}return d},n.utilConcatBuf=function(...t){let n=0,a=0;for(let a of t)n+=a.byteLength;let i=new ArrayBuffer(n),o=new Uint8Array(i);for(let n of t)o.set(new Uint8Array(n),a),a+=n.byteLength;return i},n.utilConcatView=function(...t){let n=0,a=0;for(let a of t)n+=a.length;let i=new ArrayBuffer(n),o=new Uint8Array(i);for(let n of t)o.set(n,a),a+=n.length;return o},n.utilDecodeTC=function(){let t=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let n=255===t[0]&&128&t[1],a=0===t[0]&&(128&t[1])==0;(n||a)&&this.warnings.push("Needlessly long format")}let n=new ArrayBuffer(this.valueHex.byteLength),a=new Uint8Array(n);for(let t=0;t<this.valueHex.byteLength;t++)a[t]=0;a[0]=128&t[0];let i=utilFromBase(a,8),o=new ArrayBuffer(this.valueHex.byteLength),s=new Uint8Array(o);for(let n=0;n<this.valueHex.byteLength;n++)s[n]=t[n];s[0]&=127;let l=utilFromBase(s,8);return l-i},n.utilEncodeTC=function(t){let n=t<0?-1*t:t,a=128;for(let i=1;i<8;i++){if(n<=a){if(t<0){let t=a-n,o=utilToBase(t,8,i),s=new Uint8Array(o);return s[0]|=128,o}let o=utilToBase(n,8,i),s=new Uint8Array(o);if(128&s[0]){let t=o.slice(0),n=new Uint8Array(t);o=new ArrayBuffer(o.byteLength+1),s=new Uint8Array(o);for(let a=0;a<t.byteLength;a++)s[a+1]=n[a];s[0]=0}return o}a*=256}return new ArrayBuffer(0)},n.utilFromBase=utilFromBase,n.utilToBase=utilToBase},46652:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.snakeCase=void 0;var i=a(15803),o=a(84639);n.snakeCase=function(t,n){return void 0===n&&(n={}),o.dotCase(t,i.__assign({delimiter:"_"},n))}},53918:(t,n,a)=>{"use strict";let i=a(50104),{snakeCase:o}=a(46652);t.exports=function(t,n){return i(t,function(t,a){return[n.exclude.some(function(n){return"string"==typeof n?n===t:n.test(t)})?t:o(t,n.parsingOptions),a]},n=Object.assign({deep:!0,exclude:[],parsingOptions:{}},n))}},87713:(t,n,a)=>{"use strict";/*!
 Copyright (c) Peculiar Ventures, LLC
*/var i=a(81648),o=a(98763),s=a(15803),l=a(55632),u=function(t){var n=Object.create(null);return t&&Object.keys(t).forEach(function(a){if("default"!==a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}}),n.default=t,Object.freeze(n)}(a(94549));let CryptoError=class CryptoError extends Error{};let AlgorithmError=class AlgorithmError extends CryptoError{};let UnsupportedOperationError=class UnsupportedOperationError extends CryptoError{constructor(t){super(`Unsupported operation: ${t?`${t}`:""}`)}};let OperationError=class OperationError extends CryptoError{};let RequiredPropertyError=class RequiredPropertyError extends CryptoError{constructor(t){super(`${t}: Missing required property`)}};function isJWK(t){return"object"==typeof t&&"kty"in t}let ProviderCrypto=class ProviderCrypto{async digest(...t){return this.checkDigest.apply(this,t),this.onDigest.apply(this,t)}checkDigest(t,n){this.checkAlgorithmName(t)}async onDigest(t,n){throw new UnsupportedOperationError("digest")}async generateKey(...t){return this.checkGenerateKey.apply(this,t),this.onGenerateKey.apply(this,t)}checkGenerateKey(t,n,a,...i){let o;if(this.checkAlgorithmName(t),this.checkGenerateKeyParams(t),!(a&&a.length))throw TypeError("Usages cannot be empty when creating a key.");o=Array.isArray(this.usages)?this.usages:this.usages.privateKey.concat(this.usages.publicKey),this.checkKeyUsages(a,o)}checkGenerateKeyParams(t){}async onGenerateKey(t,n,a,...i){throw new UnsupportedOperationError("generateKey")}async sign(...t){return this.checkSign.apply(this,t),this.onSign.apply(this,t)}checkSign(t,n,a,...i){this.checkAlgorithmName(t),this.checkAlgorithmParams(t),this.checkCryptoKey(n,"sign")}async onSign(t,n,a,...i){throw new UnsupportedOperationError("sign")}async verify(...t){return this.checkVerify.apply(this,t),this.onVerify.apply(this,t)}checkVerify(t,n,a,i,...o){this.checkAlgorithmName(t),this.checkAlgorithmParams(t),this.checkCryptoKey(n,"verify")}async onVerify(t,n,a,i,...o){throw new UnsupportedOperationError("verify")}async encrypt(...t){return this.checkEncrypt.apply(this,t),this.onEncrypt.apply(this,t)}checkEncrypt(t,n,a,i={},...o){this.checkAlgorithmName(t),this.checkAlgorithmParams(t),this.checkCryptoKey(n,i.keyUsage?"encrypt":void 0)}async onEncrypt(t,n,a,...i){throw new UnsupportedOperationError("encrypt")}async decrypt(...t){return this.checkDecrypt.apply(this,t),this.onDecrypt.apply(this,t)}checkDecrypt(t,n,a,i={},...o){this.checkAlgorithmName(t),this.checkAlgorithmParams(t),this.checkCryptoKey(n,i.keyUsage?"decrypt":void 0)}async onDecrypt(t,n,a,...i){throw new UnsupportedOperationError("decrypt")}async deriveBits(...t){return this.checkDeriveBits.apply(this,t),this.onDeriveBits.apply(this,t)}checkDeriveBits(t,n,a,i={},...o){if(this.checkAlgorithmName(t),this.checkAlgorithmParams(t),this.checkCryptoKey(n,i.keyUsage?"deriveBits":void 0),a%8!=0)throw new OperationError("length: Is not multiple of 8")}async onDeriveBits(t,n,a,...i){throw new UnsupportedOperationError("deriveBits")}async exportKey(...t){return this.checkExportKey.apply(this,t),this.onExportKey.apply(this,t)}checkExportKey(t,n,...a){if(this.checkKeyFormat(t),this.checkCryptoKey(n),!n.extractable)throw new CryptoError("key: Is not extractable")}async onExportKey(t,n,...a){throw new UnsupportedOperationError("exportKey")}async importKey(...t){return this.checkImportKey.apply(this,t),this.onImportKey.apply(this,t)}checkImportKey(t,n,a,i,o,...s){this.checkKeyFormat(t),this.checkKeyData(t,n),this.checkAlgorithmName(a),this.checkImportParams(a),Array.isArray(this.usages)&&this.checkKeyUsages(o,this.usages)}async onImportKey(t,n,a,i,o,...s){throw new UnsupportedOperationError("importKey")}checkAlgorithmName(t){if(t.name.toLowerCase()!==this.name.toLowerCase())throw new AlgorithmError("Unrecognized name")}checkAlgorithmParams(t){}checkDerivedKeyParams(t){}checkKeyUsages(t,n){for(let a of t)if(-1===n.indexOf(a))throw TypeError("Cannot create a key using the specified key usages")}checkCryptoKey(t,n){if(this.checkAlgorithmName(t.algorithm),n&&-1===t.usages.indexOf(n))throw new CryptoError("key does not match that of operation")}checkRequiredProperty(t,n){if(!(n in t))throw new RequiredPropertyError(n)}checkHashAlgorithm(t,n){for(let a of n)if(a.toLowerCase()===t.name.toLowerCase())return;throw new OperationError(`hash: Must be one of ${n.join(", ")}`)}checkImportParams(t){}checkKeyFormat(t){switch(t){case"raw":case"pkcs8":case"spki":case"jwk":break;default:throw TypeError("format: Is invalid value. Must be 'jwk', 'raw', 'spki', or 'pkcs8'")}}checkKeyData(t,n){if(!n)throw TypeError("keyData: Cannot be empty on empty on key importing");if("jwk"===t){if(!isJWK(n))throw TypeError("keyData: Is not JsonWebToken")}else if(!i.BufferSourceConverter.isBufferSource(n))throw TypeError("keyData: Is not ArrayBufferView or ArrayBuffer")}prepareData(t){return i.BufferSourceConverter.toArrayBuffer(t)}};let AesProvider=class AesProvider extends ProviderCrypto{checkGenerateKeyParams(t){if(this.checkRequiredProperty(t,"length"),"number"!=typeof t.length)throw TypeError("length: Is not of type Number");switch(t.length){case 128:case 192:case 256:break;default:throw TypeError("length: Must be 128, 192, or 256")}}checkDerivedKeyParams(t){this.checkGenerateKeyParams(t)}};let RsaProvider=class RsaProvider extends ProviderCrypto{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"]}checkGenerateKeyParams(t){if(this.checkRequiredProperty(t,"hash"),this.checkHashAlgorithm(t.hash,this.hashAlgorithms),this.checkRequiredProperty(t,"publicExponent"),!(t.publicExponent&&t.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let n=i.Convert.ToBase64(t.publicExponent);if(!("Aw=="===n||"AQAB"===n))throw TypeError("publicExponent: Must be [3] or [1,0,1]");if(this.checkRequiredProperty(t,"modulusLength"),t.modulusLength%8||t.modulusLength<256||t.modulusLength>16384)throw TypeError("The modulus length must be a multiple of 8 bits and >= 256 and <= 16384")}checkImportParams(t){this.checkRequiredProperty(t,"hash"),this.checkHashAlgorithm(t.hash,this.hashAlgorithms)}};let EllipticProvider=class EllipticProvider extends ProviderCrypto{checkGenerateKeyParams(t){this.checkRequiredProperty(t,"namedCurve"),this.checkNamedCurve(t.namedCurve)}checkNamedCurve(t){for(let n of this.namedCurves)if(n.toLowerCase()===t.toLowerCase())return;throw new OperationError(`namedCurve: Must be one of ${this.namedCurves.join(", ")}`)}};let c=["secret","private","public"];let CryptoKey=class CryptoKey{static create(t,n,a,i){let o=new this;return o.algorithm=t,o.type=n,o.extractable=a,o.usages=i,o}static isKeyType(t){return -1!==c.indexOf(t)}get[Symbol.toStringTag](){return"CryptoKey"}};let EcdhProvider=class EcdhProvider extends EllipticProvider{constructor(){super(...arguments),this.name="ECDH",this.usages={privateKey:["deriveBits","deriveKey"],publicKey:[]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(t){if(this.checkRequiredProperty(t,"public"),!(t.public instanceof CryptoKey))throw TypeError("public: Is not a CryptoKey");if("public"!==t.public.type)throw new OperationError("public: Is not a public key");if(t.public.algorithm.name!==this.name)throw new OperationError(`public: Is not ${this.name} key`)}};let d=class{constructor(t){t&&(this.value=t)}};s.__decorate([o.AsnProp({type:o.AsnPropTypes.ObjectIdentifier})],d.prototype,"value",void 0),d=s.__decorate([o.AsnType({type:o.AsnTypeTypes.Choice})],d);let AlgorithmIdentifier=class AlgorithmIdentifier{constructor(t){Object.assign(this,t)}};s.__decorate([o.AsnProp({type:o.AsnPropTypes.ObjectIdentifier})],AlgorithmIdentifier.prototype,"algorithm",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.Any,optional:!0})],AlgorithmIdentifier.prototype,"parameters",void 0);let PrivateKeyInfo=class PrivateKeyInfo{constructor(){this.version=0,this.privateKeyAlgorithm=new AlgorithmIdentifier,this.privateKey=new ArrayBuffer(0)}};s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer})],PrivateKeyInfo.prototype,"version",void 0),s.__decorate([o.AsnProp({type:AlgorithmIdentifier})],PrivateKeyInfo.prototype,"privateKeyAlgorithm",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.OctetString})],PrivateKeyInfo.prototype,"privateKey",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.Any,optional:!0})],PrivateKeyInfo.prototype,"attributes",void 0);let PublicKeyInfo=class PublicKeyInfo{constructor(){this.publicKeyAlgorithm=new AlgorithmIdentifier,this.publicKey=new ArrayBuffer(0)}};s.__decorate([o.AsnProp({type:AlgorithmIdentifier})],PublicKeyInfo.prototype,"publicKeyAlgorithm",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.BitString})],PublicKeyInfo.prototype,"publicKey",void 0);let h={fromJSON:t=>i.Convert.FromBase64Url(t),toJSON:t=>i.Convert.ToBase64Url(new Uint8Array(t))},p={fromASN:t=>{let n=t.valueBlock.valueHex;return new Uint8Array(n)[0]?t.valueBlock.valueHex:t.valueBlock.valueHex.slice(1)},toASN:t=>{let n=new Uint8Array(t)[0]>127?i.combine(new Uint8Array([0]).buffer,t):t;return new u.Integer({valueHex:n})}};var y=Object.freeze({__proto__:null,AsnIntegerArrayBufferConverter:p,JsonBase64UrlArrayBufferConverter:h});let RsaPrivateKey=class RsaPrivateKey{constructor(){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0)}};s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:o.AsnIntegerConverter})],RsaPrivateKey.prototype,"version",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:p}),l.JsonProp({name:"n",converter:h})],RsaPrivateKey.prototype,"modulus",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:p}),l.JsonProp({name:"e",converter:h})],RsaPrivateKey.prototype,"publicExponent",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:p}),l.JsonProp({name:"d",converter:h})],RsaPrivateKey.prototype,"privateExponent",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:p}),l.JsonProp({name:"p",converter:h})],RsaPrivateKey.prototype,"prime1",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:p}),l.JsonProp({name:"q",converter:h})],RsaPrivateKey.prototype,"prime2",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:p}),l.JsonProp({name:"dp",converter:h})],RsaPrivateKey.prototype,"exponent1",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:p}),l.JsonProp({name:"dq",converter:h})],RsaPrivateKey.prototype,"exponent2",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:p}),l.JsonProp({name:"qi",converter:h})],RsaPrivateKey.prototype,"coefficient",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.Any,optional:!0})],RsaPrivateKey.prototype,"otherPrimeInfos",void 0);let RsaPublicKey=class RsaPublicKey{constructor(){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0)}};s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:p}),l.JsonProp({name:"n",converter:h})],RsaPublicKey.prototype,"modulus",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:p}),l.JsonProp({name:"e",converter:h})],RsaPublicKey.prototype,"publicExponent",void 0);let m=class{constructor(t){this.value=new ArrayBuffer(0),t&&(this.value=t)}toJSON(){let t=new Uint8Array(this.value);if(4!==t[0])throw new CryptoError("Wrong ECPoint. Current version supports only Uncompressed (0x04) point");t=new Uint8Array(this.value.slice(1));let n=t.length/2,a={x:i.Convert.ToBase64Url(t.buffer.slice(0,0+n)),y:i.Convert.ToBase64Url(t.buffer.slice(0+n,0+n+n))};return a}fromJSON(t){if(!("x"in t))throw Error("x: Missing required property");if(!("y"in t))throw Error("y: Missing required property");let n=i.Convert.FromBase64Url(t.x),a=i.Convert.FromBase64Url(t.y),o=i.combine(new Uint8Array([4]).buffer,n,a);return this.value=new Uint8Array(o).buffer,this}};s.__decorate([o.AsnProp({type:o.AsnPropTypes.OctetString})],m.prototype,"value",void 0),m=s.__decorate([o.AsnType({type:o.AsnTypeTypes.Choice})],m);let EcPrivateKey=class EcPrivateKey{constructor(){this.version=1,this.privateKey=new ArrayBuffer(0)}fromJSON(t){if(!("d"in t))throw Error("d: Missing required property");if(this.privateKey=i.Convert.FromBase64Url(t.d),"x"in t){let n=new m;n.fromJSON(t);let a=o.AsnSerializer.toASN(n);"valueHex"in a.valueBlock&&(this.publicKey=a.valueBlock.valueHex)}return this}toJSON(){let t={};return t.d=i.Convert.ToBase64Url(this.privateKey),this.publicKey&&Object.assign(t,new m(this.publicKey).toJSON()),t}};s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:o.AsnIntegerConverter})],EcPrivateKey.prototype,"version",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.OctetString})],EcPrivateKey.prototype,"privateKey",void 0),s.__decorate([o.AsnProp({context:0,type:o.AsnPropTypes.Any,optional:!0})],EcPrivateKey.prototype,"parameters",void 0),s.__decorate([o.AsnProp({context:1,type:o.AsnPropTypes.BitString,optional:!0})],EcPrivateKey.prototype,"publicKey",void 0);let g={fromASN:t=>{let n=new Uint8Array(t.valueBlock.valueHex);return 0===n[0]?n.buffer.slice(1):n.buffer},toASN:t=>{let n=new Uint8Array(t);if(n[0]>127){let t=new Uint8Array(n.length+1);return t.set(n,1),new u.Integer({valueHex:t.buffer})}return new u.Integer({valueHex:t})}};var b=Object.freeze({__proto__:null,AsnIntegerWithoutPaddingConverter:g});let EcUtils=class EcUtils{static decodePoint(t,n){let a=i.BufferSourceConverter.toUint8Array(t);if(0===a.length||4!==a[0])throw Error("Only uncompressed point format supported");let o=(a.length-1)/2;if(o!==Math.ceil(n/8))throw Error("Point does not match field size");let s=a.slice(1,o+1),l=a.slice(o+1,o+1+o);return{x:s,y:l}}static encodePoint(t,n){let a=Math.ceil(n/8);if(t.x.byteLength!==a||t.y.byteLength!==a)throw Error("X,Y coordinates don't match point size criteria");let o=i.BufferSourceConverter.toUint8Array(t.x),s=i.BufferSourceConverter.toUint8Array(t.y),l=new Uint8Array(2*a+1);return l[0]=4,l.set(o,1),l.set(s,a+1),l}static getSize(t){return Math.ceil(t/8)}static encodeSignature(t,n){let a=this.getSize(n),o=i.BufferSourceConverter.toUint8Array(t.r),s=i.BufferSourceConverter.toUint8Array(t.s),l=new Uint8Array(2*a);return l.set(this.padStart(o,a)),l.set(this.padStart(s,a),a),l}static decodeSignature(t,n){let a=this.getSize(n),o=i.BufferSourceConverter.toUint8Array(t);if(o.length!==2*a)throw Error("Incorrect size of the signature");let s=o.slice(0,a),l=o.slice(a);return{r:this.trimStart(s),s:this.trimStart(l)}}static trimStart(t){let n=0;for(;n<t.length-1&&0===t[n];)n++;return 0===n?t:t.slice(n,t.length)}static padStart(t,n){if(n===t.length)return t;let a=new Uint8Array(n);return a.set(t,n-t.length),a}};let EcDsaSignature=class EcDsaSignature{constructor(){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0)}static fromWebCryptoSignature(t){let n=t.byteLength/2,a=EcUtils.decodeSignature(t,8*n),o=new EcDsaSignature;return o.r=i.BufferSourceConverter.toArrayBuffer(a.r),o.s=i.BufferSourceConverter.toArrayBuffer(a.s),o}toWebCryptoSignature(t){null!=t||(t=8*Math.max(this.r.byteLength,this.s.byteLength));let n=EcUtils.encodeSignature(this,t);return n.buffer}};s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:g})],EcDsaSignature.prototype,"r",void 0),s.__decorate([o.AsnProp({type:o.AsnPropTypes.Integer,converter:g})],EcDsaSignature.prototype,"s",void 0);let OneAsymmetricKey=class OneAsymmetricKey extends PrivateKeyInfo{};s.__decorate([o.AsnProp({context:1,implicit:!0,type:o.AsnPropTypes.BitString,optional:!0})],OneAsymmetricKey.prototype,"publicKey",void 0);let v=class{constructor(){this.value=new ArrayBuffer(0)}fromJSON(t){if(!t.d)throw Error("d: Missing required property");return this.value=i.Convert.FromBase64Url(t.d),this}toJSON(){let t={d:i.Convert.ToBase64Url(this.value)};return t}};s.__decorate([o.AsnProp({type:o.AsnPropTypes.OctetString})],v.prototype,"value",void 0),v=s.__decorate([o.AsnType({type:o.AsnTypeTypes.Choice})],v);let S=class{constructor(t){this.value=new ArrayBuffer(0),t&&(this.value=t)}toJSON(){let t={x:i.Convert.ToBase64Url(this.value)};return t}fromJSON(t){if(!("x"in t))throw Error("x: Missing required property");return this.value=i.Convert.FromBase64Url(t.x),this}};s.__decorate([o.AsnProp({type:o.AsnPropTypes.BitString})],S.prototype,"value",void 0),S=s.__decorate([o.AsnType({type:o.AsnTypeTypes.Choice})],S);let C=class{};s.__decorate([o.AsnProp({type:o.AsnPropTypes.OctetString}),l.JsonProp({type:l.JsonPropTypes.String,converter:h})],C.prototype,"d",void 0),C=s.__decorate([o.AsnType({type:o.AsnTypeTypes.Choice})],C);let _="1.2.840.10045.3.1.7",w="1.3.132.0",A=`${w}.34`,P=`${w}.35`,E=`${w}.10`,k="1.3.36.3.3.2.8.1.1",R=`${k}.1`,B=`${k}.2`,O=`${k}.3`,T=`${k}.4`,I=`${k}.5`,j=`${k}.6`,U=`${k}.7`,N=`${k}.8`,K=`${k}.9`,L=`${k}.10`,D=`${k}.11`,M=`${k}.12`,z=`${k}.13`,F=`${k}.14`;var W=Object.freeze({__proto__:null,AlgorithmIdentifier:AlgorithmIdentifier,get CurvePrivateKey(){return C},EcDsaSignature:EcDsaSignature,EcPrivateKey:EcPrivateKey,get EcPublicKey(){return m},get EdPrivateKey(){return v},get EdPublicKey(){return S},get ObjectIdentifier(){return d},OneAsymmetricKey:OneAsymmetricKey,PrivateKeyInfo:PrivateKeyInfo,PublicKeyInfo:PublicKeyInfo,RsaPrivateKey:RsaPrivateKey,RsaPublicKey:RsaPublicKey,converters:b,idBrainpoolP160r1:R,idBrainpoolP160t1:B,idBrainpoolP192r1:O,idBrainpoolP192t1:T,idBrainpoolP224r1:I,idBrainpoolP224t1:j,idBrainpoolP256r1:U,idBrainpoolP256t1:N,idBrainpoolP320r1:K,idBrainpoolP320t1:L,idBrainpoolP384r1:D,idBrainpoolP384t1:M,idBrainpoolP512r1:z,idBrainpoolP512t1:F,idEd25519:"1.3.101.112",idEd448:"1.3.101.113",idEllipticCurve:w,idSecp256k1:E,idSecp256r1:_,idSecp384r1:A,idSecp521r1:P,idVersionOne:k,idX25519:"1.3.101.110",idX448:"1.3.101.111"});let EcCurves=class EcCurves{constructor(){}static register(t){let n=new d;n.value=t.id;let a=o.AsnConvert.serialize(n);this.items.push({...t,raw:a}),this.names.push(t.name)}static find(t){for(let n of(t=t.toUpperCase(),this.items))if(n.name.toUpperCase()===t||n.id.toUpperCase()===t)return n;return null}static get(t){let n=this.find(t);if(!n)throw Error(`Unsupported EC named curve '${t}'`);return n}};EcCurves.items=[],EcCurves.names=[],EcCurves.register({name:"P-256",id:_,size:256}),EcCurves.register({name:"P-384",id:A,size:384}),EcCurves.register({name:"P-521",id:P,size:521}),EcCurves.register({name:"K-256",id:E,size:256}),EcCurves.register({name:"brainpoolP160r1",id:R,size:160}),EcCurves.register({name:"brainpoolP160t1",id:B,size:160}),EcCurves.register({name:"brainpoolP192r1",id:O,size:192}),EcCurves.register({name:"brainpoolP192t1",id:T,size:192}),EcCurves.register({name:"brainpoolP224r1",id:I,size:224}),EcCurves.register({name:"brainpoolP224t1",id:j,size:224}),EcCurves.register({name:"brainpoolP256r1",id:U,size:256}),EcCurves.register({name:"brainpoolP256t1",id:N,size:256}),EcCurves.register({name:"brainpoolP320r1",id:K,size:320}),EcCurves.register({name:"brainpoolP320t1",id:L,size:320}),EcCurves.register({name:"brainpoolP384r1",id:D,size:384}),EcCurves.register({name:"brainpoolP384t1",id:M,size:384}),EcCurves.register({name:"brainpoolP512r1",id:z,size:512}),EcCurves.register({name:"brainpoolP512t1",id:F,size:512});let ShakeProvider=class ShakeProvider extends ProviderCrypto{constructor(){super(...arguments),this.usages=[],this.defaultLength=0}digest(...t){return t[0]={length:this.defaultLength,...t[0]},super.digest.apply(this,t)}checkDigest(t,n){super.checkDigest(t,n);let a=t.length||0;if("number"!=typeof a)throw TypeError("length: Is not a Number");if(a<0)throw TypeError("length: Is negative")}};let Crypto=class Crypto{get[Symbol.toStringTag](){return"Crypto"}randomUUID(){let t=this.getRandomValues(new Uint8Array(16));t[6]=15&t[6]|64,t[8]=63&t[8]|128;let n=i.Convert.ToHex(t).toLowerCase();return`${n.substring(0,8)}-${n.substring(8,12)}-${n.substring(12,16)}-${n.substring(16,20)}-${n.substring(20)}`}};let ProviderStorage=class ProviderStorage{constructor(){this.items={}}get(t){return this.items[t.toLowerCase()]||null}set(t){this.items[t.name.toLowerCase()]=t}removeAt(t){let n=this.get(t.toLowerCase());return n&&delete this.items[t],n}has(t){return!!this.get(t)}get length(){return Object.keys(this.items).length}get algorithms(){let t=[];for(let n in this.items){let a=this.items[n];t.push(a.name)}return t.sort()}};let SubtleCrypto=class SubtleCrypto{constructor(){this.providers=new ProviderStorage}static isHashedAlgorithm(t){return!!t&&"object"==typeof t&&"name"in t&&"hash"in t}get[Symbol.toStringTag](){return"SubtleCrypto"}async digest(...t){this.checkRequiredArguments(t,2,"digest");let[n,a,...o]=t,s=this.prepareAlgorithm(n),l=i.BufferSourceConverter.toArrayBuffer(a),u=this.getProvider(s.name),c=await u.digest(s,l,...o);return c}async generateKey(...t){this.checkRequiredArguments(t,3,"generateKey");let[n,a,i,...o]=t,s=this.prepareAlgorithm(n),l=this.getProvider(s.name),u=await l.generateKey({...s,name:l.name},a,i,...o);return u}async sign(...t){this.checkRequiredArguments(t,3,"sign");let[n,a,o,...s]=t;this.checkCryptoKey(a);let l=this.prepareAlgorithm(n),u=i.BufferSourceConverter.toArrayBuffer(o),c=this.getProvider(l.name),d=await c.sign({...l,name:c.name},a,u,...s);return d}async verify(...t){this.checkRequiredArguments(t,4,"verify");let[n,a,o,s,...l]=t;this.checkCryptoKey(a);let u=this.prepareAlgorithm(n),c=i.BufferSourceConverter.toArrayBuffer(s),d=i.BufferSourceConverter.toArrayBuffer(o),h=this.getProvider(u.name),p=await h.verify({...u,name:h.name},a,d,c,...l);return p}async encrypt(...t){this.checkRequiredArguments(t,3,"encrypt");let[n,a,o,...s]=t;this.checkCryptoKey(a);let l=this.prepareAlgorithm(n),u=i.BufferSourceConverter.toArrayBuffer(o),c=this.getProvider(l.name),d=await c.encrypt({...l,name:c.name},a,u,{keyUsage:!0},...s);return d}async decrypt(...t){this.checkRequiredArguments(t,3,"decrypt");let[n,a,o,...s]=t;this.checkCryptoKey(a);let l=this.prepareAlgorithm(n),u=i.BufferSourceConverter.toArrayBuffer(o),c=this.getProvider(l.name),d=await c.decrypt({...l,name:c.name},a,u,{keyUsage:!0},...s);return d}async deriveBits(...t){this.checkRequiredArguments(t,3,"deriveBits");let[n,a,i,...o]=t;this.checkCryptoKey(a);let s=this.prepareAlgorithm(n),l=this.getProvider(s.name),u=await l.deriveBits({...s,name:l.name},a,i,{keyUsage:!0},...o);return u}async deriveKey(...t){this.checkRequiredArguments(t,5,"deriveKey");let[n,a,i,o,s,...l]=t,u=this.prepareAlgorithm(i),c=this.getProvider(u.name);c.checkDerivedKeyParams(u);let d=this.prepareAlgorithm(n),h=this.getProvider(d.name);h.checkCryptoKey(a,"deriveKey");let p=await h.deriveBits({...d,name:h.name},a,i.length||512,{keyUsage:!1},...l);return this.importKey("raw",p,i,o,s,...l)}async exportKey(...t){this.checkRequiredArguments(t,2,"exportKey");let[n,a,...i]=t;this.checkCryptoKey(a);let o=this.getProvider(a.algorithm.name),s=await o.exportKey(n,a,...i);return s}async importKey(...t){this.checkRequiredArguments(t,5,"importKey");let[n,a,o,s,l,...u]=t,c=this.prepareAlgorithm(o),d=this.getProvider(c.name);if(-1!==["pkcs8","spki","raw"].indexOf(n)){let t=i.BufferSourceConverter.toArrayBuffer(a);return d.importKey(n,t,{...c,name:d.name},s,l,...u)}if(!a.kty)throw TypeError("keyData: Is not JSON");return d.importKey(n,a,{...c,name:d.name},s,l,...u)}async wrapKey(t,n,a,o,...s){let l=await this.exportKey(t,n,...s);if("jwk"===t){let t=JSON.stringify(l);l=i.Convert.FromUtf8String(t)}let u=this.prepareAlgorithm(o),c=i.BufferSourceConverter.toArrayBuffer(l),d=this.getProvider(u.name);return d.encrypt({...u,name:d.name},a,c,{keyUsage:!1},...s)}async unwrapKey(t,n,a,o,s,l,u,...c){let d=this.prepareAlgorithm(o),h=i.BufferSourceConverter.toArrayBuffer(n),p=this.getProvider(d.name),y=await p.decrypt({...d,name:p.name},a,h,{keyUsage:!1},...c);if("jwk"===t)try{y=JSON.parse(i.Convert.ToUtf8String(y))}catch(n){let t=TypeError("wrappedKey: Is not a JSON");throw t.internal=n,t}return this.importKey(t,y,s,l,u,...c)}checkRequiredArguments(t,n,a){if(t.length<n)throw TypeError(`Failed to execute '${a}' on 'SubtleCrypto': ${n} arguments required, but only ${t.length} present`)}prepareAlgorithm(t){if("string"==typeof t)return{name:t};if(SubtleCrypto.isHashedAlgorithm(t)){let n={...t};return n.hash=this.prepareAlgorithm(t.hash),n}return{...t}}getProvider(t){let n=this.providers.get(t);if(!n)throw new AlgorithmError("Unrecognized name");return n}checkCryptoKey(t){if(!(t instanceof CryptoKey))throw TypeError("Key is not of type 'CryptoKey'")}};var H=Object.freeze({__proto__:null,converters:y});let q=["crv","e","k","kty","n","x","y"];Object.defineProperty(n,"BufferSourceConverter",{enumerable:!0,get:function(){return i.BufferSourceConverter}}),n.AesCbcProvider=class extends AesProvider{constructor(){super(...arguments),this.name="AES-CBC",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(t){if(this.checkRequiredProperty(t,"iv"),!(t.iv instanceof ArrayBuffer||ArrayBuffer.isView(t.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==t.iv.byteLength)throw TypeError("iv: Must have length 16 bytes")}},n.AesCmacProvider=class extends AesProvider{constructor(){super(...arguments),this.name="AES-CMAC",this.usages=["sign","verify"]}checkAlgorithmParams(t){if(this.checkRequiredProperty(t,"length"),"number"!=typeof t.length)throw TypeError("length: Is not a Number");if(t.length<1)throw new OperationError("length: Must be more than 0")}},n.AesCtrProvider=class extends AesProvider{constructor(){super(...arguments),this.name="AES-CTR",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(t){if(this.checkRequiredProperty(t,"counter"),!(t.counter instanceof ArrayBuffer||ArrayBuffer.isView(t.counter)))throw TypeError("counter: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==t.counter.byteLength)throw TypeError("iv: Must have length 16 bytes");if(this.checkRequiredProperty(t,"length"),"number"!=typeof t.length)throw TypeError("length: Is not a Number");if(t.length<1)throw new OperationError("length: Must be more than 0")}},n.AesEcbProvider=class extends AesProvider{constructor(){super(...arguments),this.name="AES-ECB",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}},n.AesGcmProvider=class extends AesProvider{constructor(){super(...arguments),this.name="AES-GCM",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(t){if(this.checkRequiredProperty(t,"iv"),!(t.iv instanceof ArrayBuffer||ArrayBuffer.isView(t.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(t.iv.byteLength<1)throw new OperationError("iv: Must have length more than 0 and less than 2^64 - 1");switch("tagLength"in t||(t.tagLength=128),t.tagLength){case 32:case 64:case 96:case 104:case 112:case 120:case 128:break;default:throw new OperationError("tagLength: Must be one of 32, 64, 96, 104, 112, 120 or 128")}}},n.AesKwProvider=class extends AesProvider{constructor(){super(...arguments),this.name="AES-KW",this.usages=["wrapKey","unwrapKey"]}},n.AesProvider=AesProvider,n.AlgorithmError=AlgorithmError,n.Crypto=Crypto,n.CryptoError=CryptoError,n.CryptoKey=CryptoKey,n.DesProvider=class extends ProviderCrypto{constructor(){super(...arguments),this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(t){if(this.ivSize){if(this.checkRequiredProperty(t,"iv"),!(t.iv instanceof ArrayBuffer||ArrayBuffer.isView(t.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(t.iv.byteLength!==this.ivSize)throw TypeError(`iv: Must have length ${this.ivSize} bytes`)}}checkGenerateKeyParams(t){if(this.checkRequiredProperty(t,"length"),"number"!=typeof t.length)throw TypeError("length: Is not of type Number");if(t.length!==this.keySizeBits)throw new OperationError(`algorithm.length: Must be ${this.keySizeBits}`)}checkDerivedKeyParams(t){this.checkGenerateKeyParams(t)}},n.EcCurves=EcCurves,n.EcUtils=EcUtils,n.EcdhEsProvider=class extends EcdhProvider{constructor(){super(...arguments),this.name="ECDH-ES",this.namedCurves=["X25519","X448"]}},n.EcdhProvider=EcdhProvider,n.EcdsaProvider=class extends EllipticProvider{constructor(){super(...arguments),this.name="ECDSA",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(t){this.checkRequiredProperty(t,"hash"),this.checkHashAlgorithm(t.hash,this.hashAlgorithms)}},n.EdDsaProvider=class extends EllipticProvider{constructor(){super(...arguments),this.name="EdDSA",this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["Ed25519","Ed448"]}},n.EllipticProvider=EllipticProvider,n.HkdfProvider=class extends ProviderCrypto{constructor(){super(...arguments),this.name="HKDF",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveKey","deriveBits"]}checkAlgorithmParams(t){if(this.checkRequiredProperty(t,"hash"),this.checkHashAlgorithm(t.hash,this.hashAlgorithms),this.checkRequiredProperty(t,"salt"),!i.BufferSourceConverter.isBufferSource(t.salt)||(this.checkRequiredProperty(t,"info"),!i.BufferSourceConverter.isBufferSource(t.info)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'")}checkImportKey(t,n,a,i,o,...s){if(super.checkImportKey(t,n,a,i,o),i)throw SyntaxError("extractable: Must be 'false'")}},n.HmacProvider=class extends ProviderCrypto{constructor(){super(...arguments),this.name="HMAC",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["sign","verify"]}getDefaultLength(t){switch(t.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":return 512;default:throw Error(`Unknown algorithm name '${t}'`)}}checkGenerateKeyParams(t){if(this.checkRequiredProperty(t,"hash"),this.checkHashAlgorithm(t.hash,this.hashAlgorithms),"length"in t){if("number"!=typeof t.length)throw TypeError("length: Is not a Number");if(t.length<1)throw RangeError("length: Number is out of range")}}checkImportParams(t){this.checkRequiredProperty(t,"hash"),this.checkHashAlgorithm(t.hash,this.hashAlgorithms)}},n.JwkUtils=class{static async thumbprint(t,n,a){let o=this.format(n,!0);return a.subtle.digest(t,i.Convert.FromBinary(JSON.stringify(o)))}static format(t,n=!1){let a=Object.entries(t);return n&&(a=a.filter(t=>q.includes(t[0]))),Object.fromEntries(a=a.sort(([t],[n])=>t>n?1:t<n?-1:0))}},n.OperationError=OperationError,n.Pbkdf2Provider=class extends ProviderCrypto{constructor(){super(...arguments),this.name="PBKDF2",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveBits","deriveKey"]}checkAlgorithmParams(t){if(this.checkRequiredProperty(t,"hash"),this.checkHashAlgorithm(t.hash,this.hashAlgorithms),this.checkRequiredProperty(t,"salt"),!(t.salt instanceof ArrayBuffer||ArrayBuffer.isView(t.salt)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(this.checkRequiredProperty(t,"iterations"),"number"!=typeof t.iterations)throw TypeError("iterations: Is not a Number");if(t.iterations<1)throw TypeError("iterations: Is less than 1")}checkImportKey(t,n,a,i,o,...s){if(super.checkImportKey(t,n,a,i,o),i)throw SyntaxError("extractable: Must be 'false'")}},n.PemConverter=class{static toArrayBuffer(t){let n=t.replace(/-{5}(BEGIN|END) .*-{5}/g,"").replace("\r","").replace("\n","");return i.Convert.FromBase64(n)}static toUint8Array(t){let n=this.toArrayBuffer(t);return new Uint8Array(n)}static fromBufferSource(t,n){let a;let o=i.Convert.ToBase64(t),s=0,l=[];for(;;)if((a=o.slice(s,s+=64)).length){if(l.push(a),a.length<64)break}else break;let u=n.toUpperCase();return`-----BEGIN ${u}-----
${l.join("\n")}
-----END ${u}-----`}static isPEM(t){return/-----BEGIN .+-----[A-Za-z0-9+\/\+\=\s\n]+-----END .+-----/i.test(t)}static getTagName(t){if(!this.isPEM(t))throw Error("Bad parameter. Incoming data is not right PEM");let n=/-----BEGIN (.+)-----/.exec(t);if(!n)throw Error("Cannot get tag from PEM");return n[1]}static hasTagName(t,n){let a=this.getTagName(t);return n.toLowerCase()===a.toLowerCase()}static isCertificate(t){return this.hasTagName(t,"certificate")}static isCertificateRequest(t){return this.hasTagName(t,"certificate request")}static isCRL(t){return this.hasTagName(t,"x509 crl")}static isPublicKey(t){return this.hasTagName(t,"public key")}},n.ProviderCrypto=ProviderCrypto,n.ProviderStorage=ProviderStorage,n.RequiredPropertyError=RequiredPropertyError,n.RsaOaepProvider=class extends RsaProvider{constructor(){super(...arguments),this.name="RSA-OAEP",this.usages={privateKey:["decrypt","unwrapKey"],publicKey:["encrypt","wrapKey"]}}checkAlgorithmParams(t){if(t.label&&!(t.label instanceof ArrayBuffer||ArrayBuffer.isView(t.label)))throw TypeError("label: Is not of type '(ArrayBuffer or ArrayBufferView)'")}},n.RsaProvider=RsaProvider,n.RsaPssProvider=class extends RsaProvider{constructor(){super(...arguments),this.name="RSA-PSS",this.usages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmParams(t){if(this.checkRequiredProperty(t,"saltLength"),"number"!=typeof t.saltLength)throw TypeError("saltLength: Is not a Number");if(t.saltLength<0)throw RangeError("saltLength: Must be positive number")}},n.RsaSsaProvider=class extends RsaProvider{constructor(){super(...arguments),this.name="RSASSA-PKCS1-v1_5",this.usages={privateKey:["sign"],publicKey:["verify"]}}},n.Shake128Provider=class extends ShakeProvider{constructor(){super(...arguments),this.name="shake128",this.defaultLength=16}},n.Shake256Provider=class extends ShakeProvider{constructor(){super(...arguments),this.name="shake256",this.defaultLength=32}},n.ShakeProvider=ShakeProvider,n.SubtleCrypto=SubtleCrypto,n.UnsupportedOperationError=UnsupportedOperationError,n.asn1=W,n.isJWK=isJWK,n.json=H},42290:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getSegmentParam",{enumerable:!0,get:function(){return getSegmentParam}});let i=a(84265);function getSegmentParam(t){let n=i.INTERCEPTION_ROUTE_MARKERS.find(n=>t.startsWith(n));return(n&&(t=t.slice(n.length)),t.startsWith("[[...")&&t.endsWith("]]"))?{type:"optional-catchall",param:t.slice(5,-2)}:t.startsWith("[...")&&t.endsWith("]")?{type:"catchall",param:t.slice(4,-1)}:t.startsWith("[")&&t.endsWith("]")?{type:"dynamic",param:t.slice(1,-1)}:null}},84265:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}(n,{INTERCEPTION_ROUTE_MARKERS:function(){return o},isInterceptionRouteAppPath:function(){return isInterceptionRouteAppPath},extractInterceptionRouteInformation:function(){return extractInterceptionRouteInformation}});let i=a(93663),o=["(..)(..)","(.)","(..)","(...)"];function isInterceptionRouteAppPath(t){return void 0!==t.split("/").find(t=>o.find(n=>t.startsWith(n)))}function extractInterceptionRouteInformation(t){let n,a,s;for(let i of t.split("/"))if(a=o.find(t=>i.startsWith(t))){[n,s]=t.split(a,2);break}if(!n||!a||!s)throw Error(`Invalid interception route: ${t}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(n=(0,i.normalizeAppPath)(n),a){case"(.)":s="/"===n?`/${s}`:n+"/"+s;break;case"(..)":if("/"===n)throw Error(`Invalid interception route: ${t}. Cannot use (..) marker at the root level, use (.) instead.`);s=n.split("/").slice(0,-1).concat(s).join("/");break;case"(...)":s="/"+s;break;case"(..)(..)":let l=n.split("/");if(l.length<=2)throw Error(`Invalid interception route: ${t}. Cannot use (..)(..) marker at the root level or one level up.`);s=l.slice(0,-2).concat(s).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:n,interceptedRoute:s}}},10316:(t,n,a)=>{"use strict";t.exports=a(41790)},82428:(t,n,a)=>{"use strict";t.exports=a(10316).vendored.contexts.AppRouterContext},11736:(t,n,a)=>{"use strict";t.exports=a(10316).vendored.contexts.HooksClientContext},75753:(t,n,a)=>{"use strict";t.exports=a(10316).vendored.contexts.ServerInsertedHtml},60080:(t,n,a)=>{"use strict";t.exports=a(10316).vendored["react-shared"].ReactJsxRuntime},88908:(t,n,a)=>{"use strict";t.exports=a(10316).vendored["react-ssr"].ReactDOM},12623:(t,n,a)=>{"use strict";t.exports=a(10316).vendored["react-ssr"].ReactServerDOMWebpackClientEdge},9885:(t,n,a)=>{"use strict";t.exports=a(10316).vendored["react-ssr"].React},57114:(t,n,a)=>{t.exports=a(82778)},41668:(t,n,a)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=a(9885),o="function"==typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n},s=i.useState,l=i.useEffect,u=i.useLayoutEffect,c=i.useDebugValue;function r(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!o(t,a)}catch(t){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,n){return n()}:function(t,n){var a=n(),i=s({inst:{value:a,getSnapshot:n}}),o=i[0].inst,d=i[1];return u(function(){o.value=a,o.getSnapshot=n,r(o)&&d({inst:o})},[t,a,n]),l(function(){return r(o)&&d({inst:o}),t(function(){r(o)&&d({inst:o})})},[t]),c(a),a};n.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:d},61928:(t,n,a)=>{"use strict";t.exports=a(41668)},88324:(t,n)=>{"use strict";n._=n._class_private_field_loose_base=function(t,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw TypeError("attempted to use private field on non-instance");return t}},94567:(t,n)=>{"use strict";var a=0;n._=n._class_private_field_loose_key=function(t){return"__private_"+a+++"_"+t}},82147:(t,n)=>{"use strict";n._=n._interop_require_default=function(t){return t&&t.__esModule?t:{default:t}}},4009:(t,n)=>{"use strict";function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function(t){return t?a:n})(t)}n._=n._interop_require_wildcard=function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var a=_getRequireWildcardCache(n);if(a&&a.has(t))return a.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=o?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=t[s]}return i.default=t,a&&a.set(t,i),i}},71974:(t,n)=>{"use strict";n._=n._interop_require_default=function(t){return t&&t.__esModule?t:{default:t}}},13284:(t,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});let i=a(64955),o=a(87561),s=a(49411);a(88849),a(22286),a(65628),a(84492),a(72254),a(47261),a(41041),a(87503);let{stat:l}=o.promises,fromBlob=(t,n,a="")=>new i._Blob([new BlobDataItem({path:n,size:t.size,lastModified:t.mtimeMs,start:0})],{type:a}),fromFile=(t,n,a="")=>new i.File([new BlobDataItem({path:n,size:t.size,lastModified:t.mtimeMs,start:0})],s.basename(n),{type:a,lastModified:t.mtimeMs});let BlobDataItem=class BlobDataItem{#e;#t;constructor(t){this.#e=t.path,this.#t=t.start,this.size=t.size,this.lastModified=t.lastModified,this.originalSize=void 0===t.originalSize?t.size:t.originalSize}slice(t,n){return new BlobDataItem({path:this.#e,lastModified:this.lastModified,originalSize:this.originalSize,size:n-t,start:this.#t+t})}async *stream(){let{mtimeMs:t,size:n}=await l(this.#e);if(t>this.lastModified||this.originalSize!==n)throw new i.nodeDomexception("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*o.createReadStream(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}};let u=globalThis.fetch||i.fetch,c=globalThis.Blob||i._Blob,d=globalThis.File||i.File,h=globalThis.FormData||i.FormData,p=globalThis.Headers||i.Headers,y=globalThis.Request||i.Request,m=globalThis.Response||i.Response,g=globalThis.AbortController||i.AbortController;n.AbortError=i.AbortError,n.FetchError=i.FetchError,n.isRedirect=i.isRedirect,n.AbortController=g,n.Blob=c,n.File=d,n.FormData=h,n.Headers=p,n.Request=y,n.Response=m,n.blobFrom=(t,n)=>l(t).then(a=>fromBlob(a,t,n)),n.blobFromSync=(t,n)=>fromBlob(o.statSync(t),t,n),n.default=u,n.fetch=u,n.fileFrom=(t,n)=>l(t).then(a=>fromFile(a,t,n)),n.fileFromSync=(t,n)=>fromFile(o.statSync(t),t,n)},64955:(t,n,a)=>{"use strict";let i=a(88849),o=a(22286),s=a(65628),l=a(84492),u=a(72254),c=a(47261),d=a(41041),h=a(87503);a(87561),a(49411);var p,y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},m={exports:{}};if(!globalThis.ReadableStream)try{let t=a(97742),{emitWarning:n}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,a(72477)),t.emitWarning=n}catch(a){throw t.emitWarning=n,a}}catch(t){Object.assign(globalThis,(p||(p=1,function(t){let n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:t=>`Symbol(${t})`;function noop(){}let a="undefined"!=typeof self?self:void 0!==y?y:void 0;function typeIsObject(t){return"object"==typeof t&&null!==t||"function"==typeof t}let i=Promise,o=Promise.prototype.then,s=Promise.resolve.bind(i),l=Promise.reject.bind(i);function newPromise(t){return new i(t)}function PerformPromiseThen(t,n,a){return o.call(t,n,a)}function uponPromise(t,n,a){PerformPromiseThen(PerformPromiseThen(t,n,a),void 0,noop)}function uponRejection(t,n){uponPromise(t,void 0,n)}function setPromiseIsHandledToTrue(t){PerformPromiseThen(t,void 0,noop)}let u=(()=>{let t=a&&a.queueMicrotask;if("function"==typeof t)return t;let n=s(void 0);return t=>PerformPromiseThen(n,t)})();function reflectCall(t,n,a){if("function"!=typeof t)throw TypeError("Argument is not a function");return Function.prototype.apply.call(t,n,a)}function promiseCall(t,n,a){try{var i;return i=reflectCall(t,n,a),s(i)}catch(t){return l(t)}}let SimpleQueue=class SimpleQueue{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let n=this._back,a=n;16383===n._elements.length&&(a={_elements:[],_next:void 0}),n._elements.push(t),a!==n&&(this._back=a,n._next=a),++this._size}shift(){let t=this._front,n=t,a=this._cursor,i=a+1,o=t._elements,s=o[a];return 16384===i&&(n=t._next,i=0),--this._size,this._cursor=i,t!==n&&(this._front=n),o[a]=void 0,s}forEach(t){let n=this._cursor,a=this._front,i=a._elements;for(;(n!==i.length||void 0!==a._next)&&(n!==i.length||(i=(a=a._next)._elements,n=0,0!==i.length));)t(i[n]),++n}peek(){let t=this._front,n=this._cursor;return t._elements[n]}};function ReadableStreamReaderGenericInitialize(t,n){var a;t._ownerReadableStream=n,n._reader=t,"readable"===n._state?defaultReaderClosedPromiseInitialize(t):"closed"===n._state?(defaultReaderClosedPromiseInitialize(t),defaultReaderClosedPromiseResolve(t)):(a=n._storedError,defaultReaderClosedPromiseInitialize(t),defaultReaderClosedPromiseReject(t,a))}function ReadableStreamReaderGenericCancel(t,n){let a=t._ownerReadableStream;return ReadableStreamCancel(a,n)}function ReadableStreamReaderGenericRelease(t){var n,a;"readable"===t._ownerReadableStream._state?defaultReaderClosedPromiseReject(t,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(n=t,a=TypeError("Reader was released and can no longer be used to monitor the stream's closedness"),defaultReaderClosedPromiseInitialize(n),defaultReaderClosedPromiseReject(n,a)),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function readerLockException(t){return TypeError("Cannot "+t+" a stream using a released reader")}function defaultReaderClosedPromiseInitialize(t){t._closedPromise=newPromise((n,a)=>{t._closedPromise_resolve=n,t._closedPromise_reject=a})}function defaultReaderClosedPromiseReject(t,n){void 0!==t._closedPromise_reject&&(setPromiseIsHandledToTrue(t._closedPromise),t._closedPromise_reject(n),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function defaultReaderClosedPromiseResolve(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}let c=n("[[AbortSteps]]"),d=n("[[ErrorSteps]]"),h=n("[[CancelSteps]]"),p=n("[[PullSteps]]"),m=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},g=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function assertDictionary(t,n){if(void 0!==t&&!("object"==typeof t||"function"==typeof t))throw TypeError(`${n} is not an object.`)}function assertFunction(t,n){if("function"!=typeof t)throw TypeError(`${n} is not a function.`)}function assertObject(t,n){if(!("object"==typeof t&&null!==t||"function"==typeof t))throw TypeError(`${n} is not an object.`)}function assertRequiredArgument(t,n,a){if(void 0===t)throw TypeError(`Parameter ${n} is required in '${a}'.`)}function assertRequiredField(t,n,a){if(void 0===t)throw TypeError(`${n} is required in '${a}'.`)}function convertUnrestrictedDouble(t){return Number(t)}function convertUnsignedLongLongWithEnforceRange(t,n){var a,i;let o=Number.MAX_SAFE_INTEGER,s=Number(t);if(!m(s=0===(a=s)?0:a))throw TypeError(`${n} is not a finite number`);if((s=0===(i=g(s))?0:i)<0||s>o)throw TypeError(`${n} is outside the accepted range of 0 to ${o}, inclusive`);return m(s)&&0!==s?s:0}function assertReadableStream(t,n){if(!IsReadableStream(t))throw TypeError(`${n} is not a ReadableStream.`)}function AcquireReadableStreamDefaultReader(t){return new ReadableStreamDefaultReader(t)}function ReadableStreamAddReadRequest(t,n){t._reader._readRequests.push(n)}function ReadableStreamFulfillReadRequest(t,n,a){let i=t._reader,o=i._readRequests.shift();a?o._closeSteps():o._chunkSteps(n)}function ReadableStreamGetNumReadRequests(t){return t._reader._readRequests.length}function ReadableStreamHasDefaultReader(t){let n=t._reader;return!!(void 0!==n&&IsReadableStreamDefaultReader(n))}let ReadableStreamDefaultReader=class ReadableStreamDefaultReader{constructor(t){if(assertRequiredArgument(t,1,"ReadableStreamDefaultReader"),assertReadableStream(t,"First parameter"),IsReadableStreamLocked(t))throw TypeError("This stream has already been locked for exclusive reading by another reader");ReadableStreamReaderGenericInitialize(this,t),this._readRequests=new SimpleQueue}get closed(){return IsReadableStreamDefaultReader(this)?this._closedPromise:l(defaultReaderBrandCheckException("closed"))}cancel(t){return IsReadableStreamDefaultReader(this)?void 0===this._ownerReadableStream?l(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,t):l(defaultReaderBrandCheckException("cancel"))}read(){let t,n;if(!IsReadableStreamDefaultReader(this))return l(defaultReaderBrandCheckException("read"));if(void 0===this._ownerReadableStream)return l(readerLockException("read from"));let a=newPromise((a,i)=>{t=a,n=i});return ReadableStreamDefaultReaderRead(this,{_chunkSteps:n=>t({value:n,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:t=>n(t)}),a}releaseLock(){if(!IsReadableStreamDefaultReader(this))throw defaultReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}}};function IsReadableStreamDefaultReader(t){return!!(typeIsObject(t)&&Object.prototype.hasOwnProperty.call(t,"_readRequests"))&&t instanceof ReadableStreamDefaultReader}function ReadableStreamDefaultReaderRead(t,n){let a=t._ownerReadableStream;a._disturbed=!0,"closed"===a._state?n._closeSteps():"errored"===a._state?n._errorSteps(a._storedError):a._readableStreamController[p](n)}function defaultReaderBrandCheckException(t){return TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(ReadableStreamDefaultReader.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(ReadableStreamDefaultReader.prototype,n.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let b=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);let ReadableStreamAsyncIteratorImpl=class ReadableStreamAsyncIteratorImpl{constructor(t,n){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=n}next(){let nextSteps=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?PerformPromiseThen(this._ongoingPromise,nextSteps,nextSteps):nextSteps(),this._ongoingPromise}return(t){let returnSteps=()=>this._returnSteps(t);return this._ongoingPromise?PerformPromiseThen(this._ongoingPromise,returnSteps,returnSteps):returnSteps()}_nextSteps(){let t,n;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let a=this._reader;if(void 0===a._ownerReadableStream)return l(readerLockException("iterate"));let i=newPromise((a,i)=>{t=a,n=i});return ReadableStreamDefaultReaderRead(a,{_chunkSteps:n=>{this._ongoingPromise=void 0,u(()=>t({value:n,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,ReadableStreamReaderGenericRelease(a),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,ReadableStreamReaderGenericRelease(a),n(t)}}),i}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let n=this._reader;if(void 0===n._ownerReadableStream)return l(readerLockException("finish iterating"));if(!this._preventCancel){let a=ReadableStreamReaderGenericCancel(n,t);return ReadableStreamReaderGenericRelease(n),PerformPromiseThen(a,()=>({value:t,done:!0}),void 0)}return ReadableStreamReaderGenericRelease(n),s({value:t,done:!0})}};let v={next(){return IsReadableStreamAsyncIterator(this)?this._asyncIteratorImpl.next():l(streamAsyncIteratorBrandCheckException("next"))},return(t){return IsReadableStreamAsyncIterator(this)?this._asyncIteratorImpl.return(t):l(streamAsyncIteratorBrandCheckException("return"))}};function IsReadableStreamAsyncIterator(t){if(!typeIsObject(t)||!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl"))return!1;try{return t._asyncIteratorImpl instanceof ReadableStreamAsyncIteratorImpl}catch(t){return!1}}function streamAsyncIteratorBrandCheckException(t){return TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}void 0!==b&&Object.setPrototypeOf(v,b);let S=Number.isNaN||function(t){return t!=t};function CreateArrayFromList(t){return t.slice()}function CopyDataBlockBytes(t,n,a,i,o){new Uint8Array(t).set(new Uint8Array(a,i,o),n)}function ArrayBufferSlice(t,n,a){if(t.slice)return t.slice(n,a);let i=a-n,o=new ArrayBuffer(i);return CopyDataBlockBytes(o,0,t,n,i),o}function CloneAsUint8Array(t){let n=ArrayBufferSlice(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new Uint8Array(n)}function DequeueValue(t){let n=t._queue.shift();return t._queueTotalSize-=n.size,t._queueTotalSize<0&&(t._queueTotalSize=0),n.value}function EnqueueValueWithSize(t,n,a){if(!(!("number"!=typeof a||S(a))&&!(a<0))||a===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:n,size:a}),t._queueTotalSize+=a}function ResetQueue(t){t._queue=new SimpleQueue,t._queueTotalSize=0}let ReadableStreamBYOBRequest=class ReadableStreamBYOBRequest{constructor(){throw TypeError("Illegal constructor")}get view(){if(!IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("view");return this._view}respond(t){if(!IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respond");if(assertRequiredArgument(t,1,"respond"),t=convertUnsignedLongLongWithEnforceRange(t,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");this._view.buffer,ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respondWithNewView");if(assertRequiredArgument(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");t.buffer,ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController,t)}};Object.defineProperties(ReadableStreamBYOBRequest.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(ReadableStreamBYOBRequest.prototype,n.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});let ReadableByteStreamController=class ReadableByteStreamController{constructor(){throw TypeError("Illegal constructor")}get byobRequest(){if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("byobRequest");return ReadableByteStreamControllerGetBYOBRequest(this)}get desiredSize(){if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("desiredSize");return ReadableByteStreamControllerGetDesiredSize(this)}close(){if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if("readable"!==t)throw TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);ReadableByteStreamControllerClose(this)}enqueue(t){if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("enqueue");if(assertRequiredArgument(t,1,"enqueue"),!ArrayBuffer.isView(t))throw TypeError("chunk must be an array buffer view");if(0===t.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");let n=this._controlledReadableByteStream._state;if("readable"!==n)throw TypeError(`The stream (in ${n} state) is not in the readable state and cannot be enqueued to`);ReadableByteStreamControllerEnqueue(this,t)}error(t){if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("error");ReadableByteStreamControllerError(this,t)}[h](t){ReadableByteStreamControllerClearPendingPullIntos(this),ResetQueue(this);let n=this._cancelAlgorithm(t);return ReadableByteStreamControllerClearAlgorithms(this),n}[p](t){let n=this._controlledReadableByteStream;if(this._queueTotalSize>0){let n=this._queue.shift();this._queueTotalSize-=n.byteLength,ReadableByteStreamControllerHandleQueueDrain(this);let a=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);t._chunkSteps(a);return}let a=this._autoAllocateChunkSize;if(void 0!==a){let n;try{n=new ArrayBuffer(a)}catch(n){t._errorSteps(n);return}let i={buffer:n,bufferByteLength:a,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}ReadableStreamAddReadRequest(n,t),ReadableByteStreamControllerCallPullIfNeeded(this)}};function IsReadableByteStreamController(t){return!!(typeIsObject(t)&&Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream"))&&t instanceof ReadableByteStreamController}function IsReadableStreamBYOBRequest(t){return!!(typeIsObject(t)&&Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController"))&&t instanceof ReadableStreamBYOBRequest}function ReadableByteStreamControllerCallPullIfNeeded(t){let n=function(t){let n=t._controlledReadableByteStream;if("readable"!==n._state||t._closeRequested||!t._started)return!1;if(ReadableStreamHasDefaultReader(n)&&ReadableStreamGetNumReadRequests(n)>0||ReadableStreamHasBYOBReader(n)&&ReadableStreamGetNumReadIntoRequests(n)>0)return!0;let a=ReadableByteStreamControllerGetDesiredSize(t);return a>0}(t);if(!n)return;if(t._pulling){t._pullAgain=!0;return}t._pulling=!0;let a=t._pullAlgorithm();uponPromise(a,()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,ReadableByteStreamControllerCallPullIfNeeded(t))},n=>{ReadableByteStreamControllerError(t,n)})}function ReadableByteStreamControllerClearPendingPullIntos(t){ReadableByteStreamControllerInvalidateBYOBRequest(t),t._pendingPullIntos=new SimpleQueue}function ReadableByteStreamControllerCommitPullIntoDescriptor(t,n){let a=!1;"closed"===t._state&&(a=!0);let i=ReadableByteStreamControllerConvertPullIntoDescriptor(n);"default"===n.readerType?ReadableStreamFulfillReadRequest(t,i,a):function(t,n,a){let i=t._reader,o=i._readIntoRequests.shift();a?o._closeSteps(n):o._chunkSteps(n)}(t,i,a)}function ReadableByteStreamControllerConvertPullIntoDescriptor(t){let n=t.bytesFilled,a=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/a)}function ReadableByteStreamControllerEnqueueChunkToQueue(t,n,a,i){t._queue.push({buffer:n,byteOffset:a,byteLength:i}),t._queueTotalSize+=i}function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(t,n){let a=n.elementSize,i=n.bytesFilled-n.bytesFilled%a,o=Math.min(t._queueTotalSize,n.byteLength-n.bytesFilled),s=n.bytesFilled+o,l=s-s%a,u=o,c=!1;l>i&&(u=l-n.bytesFilled,c=!0);let d=t._queue;for(;u>0;){let a=d.peek(),i=Math.min(u,a.byteLength),o=n.byteOffset+n.bytesFilled;CopyDataBlockBytes(n.buffer,o,a.buffer,a.byteOffset,i),a.byteLength===i?d.shift():(a.byteOffset+=i,a.byteLength-=i),t._queueTotalSize-=i,ReadableByteStreamControllerFillHeadPullIntoDescriptor(t,i,n),u-=i}return c}function ReadableByteStreamControllerFillHeadPullIntoDescriptor(t,n,a){a.bytesFilled+=n}function ReadableByteStreamControllerHandleQueueDrain(t){0===t._queueTotalSize&&t._closeRequested?(ReadableByteStreamControllerClearAlgorithms(t),ReadableStreamClose(t._controlledReadableByteStream)):ReadableByteStreamControllerCallPullIfNeeded(t)}function ReadableByteStreamControllerInvalidateBYOBRequest(t){null!==t._byobRequest&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t){for(;t._pendingPullIntos.length>0;){if(0===t._queueTotalSize)return;let n=t._pendingPullIntos.peek();ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(t,n)&&(ReadableByteStreamControllerShiftPendingPullInto(t),ReadableByteStreamControllerCommitPullIntoDescriptor(t._controlledReadableByteStream,n))}}function ReadableByteStreamControllerRespondInternal(t,n){let a=t._pendingPullIntos.peek();ReadableByteStreamControllerInvalidateBYOBRequest(t);let i=t._controlledReadableByteStream._state;"closed"===i?function(t,n){let a=t._controlledReadableByteStream;if(ReadableStreamHasBYOBReader(a))for(;ReadableStreamGetNumReadIntoRequests(a)>0;){let n=ReadableByteStreamControllerShiftPendingPullInto(t);ReadableByteStreamControllerCommitPullIntoDescriptor(a,n)}}(t):function(t,n,a){if(ReadableByteStreamControllerFillHeadPullIntoDescriptor(t,n,a),a.bytesFilled<a.elementSize)return;ReadableByteStreamControllerShiftPendingPullInto(t);let i=a.bytesFilled%a.elementSize;if(i>0){let n=a.byteOffset+a.bytesFilled,o=ArrayBufferSlice(a.buffer,n-i,n);ReadableByteStreamControllerEnqueueChunkToQueue(t,o,0,o.byteLength)}a.bytesFilled-=i,ReadableByteStreamControllerCommitPullIntoDescriptor(t._controlledReadableByteStream,a),ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t)}(t,n,a),ReadableByteStreamControllerCallPullIfNeeded(t)}function ReadableByteStreamControllerShiftPendingPullInto(t){let n=t._pendingPullIntos.shift();return n}function ReadableByteStreamControllerClearAlgorithms(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function ReadableByteStreamControllerClose(t){let n=t._controlledReadableByteStream;if(!t._closeRequested&&"readable"===n._state){if(t._queueTotalSize>0){t._closeRequested=!0;return}if(t._pendingPullIntos.length>0){let n=t._pendingPullIntos.peek();if(n.bytesFilled>0){let n=TypeError("Insufficient bytes to fill elements in the given buffer");throw ReadableByteStreamControllerError(t,n),n}}ReadableByteStreamControllerClearAlgorithms(t),ReadableStreamClose(n)}}function ReadableByteStreamControllerEnqueue(t,n){let a=t._controlledReadableByteStream;if(t._closeRequested||"readable"!==a._state)return;let i=n.buffer,o=n.byteOffset,s=n.byteLength;if(t._pendingPullIntos.length>0){let n=t._pendingPullIntos.peek();n.buffer,n.buffer=n.buffer}if(ReadableByteStreamControllerInvalidateBYOBRequest(t),ReadableStreamHasDefaultReader(a)){if(0===ReadableStreamGetNumReadRequests(a))ReadableByteStreamControllerEnqueueChunkToQueue(t,i,o,s);else{t._pendingPullIntos.length>0&&ReadableByteStreamControllerShiftPendingPullInto(t);let n=new Uint8Array(i,o,s);ReadableStreamFulfillReadRequest(a,n,!1)}}else ReadableStreamHasBYOBReader(a)?(ReadableByteStreamControllerEnqueueChunkToQueue(t,i,o,s),ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t)):ReadableByteStreamControllerEnqueueChunkToQueue(t,i,o,s);ReadableByteStreamControllerCallPullIfNeeded(t)}function ReadableByteStreamControllerError(t,n){let a=t._controlledReadableByteStream;"readable"===a._state&&(ReadableByteStreamControllerClearPendingPullIntos(t),ResetQueue(t),ReadableByteStreamControllerClearAlgorithms(t),ReadableStreamError(a,n))}function ReadableByteStreamControllerGetBYOBRequest(t){if(null===t._byobRequest&&t._pendingPullIntos.length>0){let n=t._pendingPullIntos.peek(),a=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),i=Object.create(ReadableStreamBYOBRequest.prototype);i._associatedReadableByteStreamController=t,i._view=a,t._byobRequest=i}return t._byobRequest}function ReadableByteStreamControllerGetDesiredSize(t){let n=t._controlledReadableByteStream._state;return"errored"===n?null:"closed"===n?0:t._strategyHWM-t._queueTotalSize}function ReadableByteStreamControllerRespond(t,n){let a=t._pendingPullIntos.peek(),i=t._controlledReadableByteStream._state;if("closed"===i){if(0!==n)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+n>a.byteLength)throw RangeError("bytesWritten out of range")}a.buffer=a.buffer,ReadableByteStreamControllerRespondInternal(t,n)}function ReadableByteStreamControllerRespondWithNewView(t,n){let a=t._pendingPullIntos.peek(),i=t._controlledReadableByteStream._state;if("closed"===i){if(0!==n.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==n.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==n.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+n.byteLength>a.byteLength)throw RangeError("The region specified by view is larger than byobRequest");let o=n.byteLength;a.buffer=n.buffer,ReadableByteStreamControllerRespondInternal(t,o)}function SetUpReadableByteStreamController(t,n,a,i,o,l,u){n._controlledReadableByteStream=t,n._pullAgain=!1,n._pulling=!1,n._byobRequest=null,n._queue=n._queueTotalSize=void 0,ResetQueue(n),n._closeRequested=!1,n._started=!1,n._strategyHWM=l,n._pullAlgorithm=i,n._cancelAlgorithm=o,n._autoAllocateChunkSize=u,n._pendingPullIntos=new SimpleQueue,t._readableStreamController=n;let c=a();uponPromise(s(c),()=>{n._started=!0,ReadableByteStreamControllerCallPullIfNeeded(n)},t=>{ReadableByteStreamControllerError(n,t)})}function byobRequestBrandCheckException(t){return TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function byteStreamControllerBrandCheckException(t){return TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function ReadableStreamAddReadIntoRequest(t,n){t._reader._readIntoRequests.push(n)}function ReadableStreamGetNumReadIntoRequests(t){return t._reader._readIntoRequests.length}function ReadableStreamHasBYOBReader(t){let n=t._reader;return!!(void 0!==n&&IsReadableStreamBYOBReader(n))}Object.defineProperties(ReadableByteStreamController.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(ReadableByteStreamController.prototype,n.toStringTag,{value:"ReadableByteStreamController",configurable:!0});let ReadableStreamBYOBReader=class ReadableStreamBYOBReader{constructor(t){if(assertRequiredArgument(t,1,"ReadableStreamBYOBReader"),assertReadableStream(t,"First parameter"),IsReadableStreamLocked(t))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!IsReadableByteStreamController(t._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ReadableStreamReaderGenericInitialize(this,t),this._readIntoRequests=new SimpleQueue}get closed(){return IsReadableStreamBYOBReader(this)?this._closedPromise:l(byobReaderBrandCheckException("closed"))}cancel(t){return IsReadableStreamBYOBReader(this)?void 0===this._ownerReadableStream?l(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,t):l(byobReaderBrandCheckException("cancel"))}read(t){let n,a;if(!IsReadableStreamBYOBReader(this))return l(byobReaderBrandCheckException("read"));if(!ArrayBuffer.isView(t))return l(TypeError("view must be an array buffer view"));if(0===t.byteLength)return l(TypeError("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return l(TypeError("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this._ownerReadableStream)return l(readerLockException("read from"));let i=newPromise((t,i)=>{n=t,a=i});return ReadableStreamBYOBReaderRead(this,t,{_chunkSteps:t=>n({value:t,done:!1}),_closeSteps:t=>n({value:t,done:!0}),_errorSteps:t=>a(t)}),i}releaseLock(){if(!IsReadableStreamBYOBReader(this))throw byobReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}}};function IsReadableStreamBYOBReader(t){return!!(typeIsObject(t)&&Object.prototype.hasOwnProperty.call(t,"_readIntoRequests"))&&t instanceof ReadableStreamBYOBReader}function ReadableStreamBYOBReaderRead(t,n,a){let i=t._ownerReadableStream;i._disturbed=!0,"errored"===i._state?a._errorSteps(i._storedError):function(t,n,a){let i=t._controlledReadableByteStream,o=1;n.constructor!==DataView&&(o=n.constructor.BYTES_PER_ELEMENT);let s=n.constructor,l=n.buffer,u={buffer:l,bufferByteLength:l.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:o,viewConstructor:s,readerType:"byob"};if(t._pendingPullIntos.length>0){t._pendingPullIntos.push(u),ReadableStreamAddReadIntoRequest(i,a);return}if("closed"===i._state){let t=new s(u.buffer,u.byteOffset,0);a._closeSteps(t);return}if(t._queueTotalSize>0){if(ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(t,u)){let n=ReadableByteStreamControllerConvertPullIntoDescriptor(u);ReadableByteStreamControllerHandleQueueDrain(t),a._chunkSteps(n);return}if(t._closeRequested){let n=TypeError("Insufficient bytes to fill elements in the given buffer");ReadableByteStreamControllerError(t,n),a._errorSteps(n);return}}t._pendingPullIntos.push(u),ReadableStreamAddReadIntoRequest(i,a),ReadableByteStreamControllerCallPullIfNeeded(t)}(i._readableStreamController,n,a)}function byobReaderBrandCheckException(t){return TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}function ExtractHighWaterMark(t,n){let{highWaterMark:a}=t;if(void 0===a)return n;if(S(a)||a<0)throw RangeError("Invalid highWaterMark");return a}function ExtractSizeAlgorithm(t){let{size:n}=t;return n||(()=>1)}function convertQueuingStrategy(t,n){assertDictionary(t,n);let a=null==t?void 0:t.highWaterMark,i=null==t?void 0:t.size;return{highWaterMark:void 0===a?void 0:convertUnrestrictedDouble(a),size:void 0===i?void 0:(assertFunction(i,`${n} has member 'size' that`),t=>convertUnrestrictedDouble(i(t)))}}function assertWritableStream(t,n){if(!IsWritableStream(t))throw TypeError(`${n} is not a WritableStream.`)}Object.defineProperties(ReadableStreamBYOBReader.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(ReadableStreamBYOBReader.prototype,n.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});let C="function"==typeof AbortController;let WritableStream=class WritableStream{constructor(t={},n={}){void 0===t?t=null:assertObject(t,"First parameter");let a=convertQueuingStrategy(n,"Second parameter"),i=function(t,n){assertDictionary(t,n);let a=null==t?void 0:t.abort,i=null==t?void 0:t.close,o=null==t?void 0:t.start,s=null==t?void 0:t.type,l=null==t?void 0:t.write;return{abort:void 0===a?void 0:(assertFunction(a,`${n} has member 'abort' that`),n=>promiseCall(a,t,[n])),close:void 0===i?void 0:(assertFunction(i,`${n} has member 'close' that`),()=>promiseCall(i,t,[])),start:void 0===o?void 0:(assertFunction(o,`${n} has member 'start' that`),n=>reflectCall(o,t,[n])),write:void 0===l?void 0:(assertFunction(l,`${n} has member 'write' that`),(n,a)=>promiseCall(l,t,[n,a])),type:s}}(t,"First parameter");InitializeWritableStream(this);let o=i.type;if(void 0!==o)throw RangeError("Invalid type is specified");let l=ExtractSizeAlgorithm(a),u=ExtractHighWaterMark(a,1);(function(t,n,a,i){let o=Object.create(WritableStreamDefaultController.prototype),startAlgorithm=()=>void 0,writeAlgorithm=()=>s(void 0),closeAlgorithm=()=>s(void 0),abortAlgorithm=()=>s(void 0);void 0!==n.start&&(startAlgorithm=()=>n.start(o)),void 0!==n.write&&(writeAlgorithm=t=>n.write(t,o)),void 0!==n.close&&(closeAlgorithm=()=>n.close()),void 0!==n.abort&&(abortAlgorithm=t=>n.abort(t)),SetUpWritableStreamDefaultController(t,o,startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,a,i)})(this,i,u,l)}get locked(){if(!IsWritableStream(this))throw streamBrandCheckException$2("locked");return IsWritableStreamLocked(this)}abort(t){return IsWritableStream(this)?IsWritableStreamLocked(this)?l(TypeError("Cannot abort a stream that already has a writer")):WritableStreamAbort(this,t):l(streamBrandCheckException$2("abort"))}close(){return IsWritableStream(this)?IsWritableStreamLocked(this)?l(TypeError("Cannot close a stream that already has a writer")):WritableStreamCloseQueuedOrInFlight(this)?l(TypeError("Cannot close an already-closing stream")):WritableStreamClose(this):l(streamBrandCheckException$2("close"))}getWriter(){if(!IsWritableStream(this))throw streamBrandCheckException$2("getWriter");return new WritableStreamDefaultWriter(this)}};function InitializeWritableStream(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new SimpleQueue,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function IsWritableStream(t){return!!(typeIsObject(t)&&Object.prototype.hasOwnProperty.call(t,"_writableStreamController"))&&t instanceof WritableStream}function IsWritableStreamLocked(t){return void 0!==t._writer}function WritableStreamAbort(t,n){var a;if("closed"===t._state||"errored"===t._state)return s(void 0);t._writableStreamController._abortReason=n,null===(a=t._writableStreamController._abortController)||void 0===a||a.abort();let i=t._state;if("closed"===i||"errored"===i)return s(void 0);if(void 0!==t._pendingAbortRequest)return t._pendingAbortRequest._promise;let o=!1;"erroring"===i&&(o=!0,n=void 0);let l=newPromise((a,i)=>{t._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:i,_reason:n,_wasAlreadyErroring:o}});return t._pendingAbortRequest._promise=l,o||WritableStreamStartErroring(t,n),l}function WritableStreamClose(t){var n;let a=t._state;if("closed"===a||"errored"===a)return l(TypeError(`The stream (in ${a} state) is not in the writable state and cannot be closed`));let i=newPromise((n,a)=>{t._closeRequest={_resolve:n,_reject:a}}),o=t._writer;return void 0!==o&&t._backpressure&&"writable"===a&&defaultWriterReadyPromiseResolve(o),EnqueueValueWithSize(n=t._writableStreamController,_,0),WritableStreamDefaultControllerAdvanceQueueIfNeeded(n),i}function WritableStreamDealWithRejection(t,n){let a=t._state;if("writable"===a){WritableStreamStartErroring(t,n);return}WritableStreamFinishErroring(t)}function WritableStreamStartErroring(t,n){let a=t._writableStreamController;t._state="erroring",t._storedError=n;let i=t._writer;void 0!==i&&WritableStreamDefaultWriterEnsureReadyPromiseRejected(i,n),!(void 0!==t._inFlightWriteRequest||void 0!==t._inFlightCloseRequest)&&a._started&&WritableStreamFinishErroring(t)}function WritableStreamFinishErroring(t){t._state="errored",t._writableStreamController[d]();let n=t._storedError;if(t._writeRequests.forEach(t=>{t._reject(n)}),t._writeRequests=new SimpleQueue,void 0===t._pendingAbortRequest){WritableStreamRejectCloseAndClosedPromiseIfNeeded(t);return}let a=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,a._wasAlreadyErroring){a._reject(n),WritableStreamRejectCloseAndClosedPromiseIfNeeded(t);return}let i=t._writableStreamController[c](a._reason);uponPromise(i,()=>{a._resolve(),WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)},n=>{a._reject(n),WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)})}function WritableStreamCloseQueuedOrInFlight(t){return void 0!==t._closeRequest||void 0!==t._inFlightCloseRequest}function WritableStreamRejectCloseAndClosedPromiseIfNeeded(t){void 0!==t._closeRequest&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);let n=t._writer;void 0!==n&&defaultWriterClosedPromiseReject(n,t._storedError)}function WritableStreamUpdateBackpressure(t,n){let a=t._writer;void 0!==a&&n!==t._backpressure&&(n?defaultWriterReadyPromiseInitialize(a):defaultWriterReadyPromiseResolve(a)),t._backpressure=n}Object.defineProperties(WritableStream.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(WritableStream.prototype,n.toStringTag,{value:"WritableStream",configurable:!0});let WritableStreamDefaultWriter=class WritableStreamDefaultWriter{constructor(t){if(assertRequiredArgument(t,1,"WritableStreamDefaultWriter"),assertWritableStream(t,"First parameter"),IsWritableStreamLocked(t))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let n=t._state;if("writable"===n)!WritableStreamCloseQueuedOrInFlight(t)&&t._backpressure?defaultWriterReadyPromiseInitialize(this):(defaultWriterReadyPromiseInitialize(this),defaultWriterReadyPromiseResolve(this)),defaultWriterClosedPromiseInitialize(this);else if("erroring"===n)defaultWriterReadyPromiseInitializeAsRejected(this,t._storedError),defaultWriterClosedPromiseInitialize(this);else if("closed"===n)defaultWriterReadyPromiseInitialize(this),defaultWriterReadyPromiseResolve(this),defaultWriterClosedPromiseInitialize(this),defaultWriterClosedPromiseResolve(this);else{let n=t._storedError;defaultWriterReadyPromiseInitializeAsRejected(this,n),defaultWriterClosedPromiseInitialize(this),defaultWriterClosedPromiseReject(this,n)}}get closed(){return IsWritableStreamDefaultWriter(this)?this._closedPromise:l(defaultWriterBrandCheckException("closed"))}get desiredSize(){if(!IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("desiredSize");if(void 0===this._ownerWritableStream)throw defaultWriterLockException("desiredSize");return function(t){let n=t._ownerWritableStream,a=n._state;return"errored"===a||"erroring"===a?null:"closed"===a?0:WritableStreamDefaultControllerGetDesiredSize(n._writableStreamController)}(this)}get ready(){return IsWritableStreamDefaultWriter(this)?this._readyPromise:l(defaultWriterBrandCheckException("ready"))}abort(t){return IsWritableStreamDefaultWriter(this)?void 0===this._ownerWritableStream?l(defaultWriterLockException("abort")):function(t,n){let a=t._ownerWritableStream;return WritableStreamAbort(a,n)}(this,t):l(defaultWriterBrandCheckException("abort"))}close(){if(!IsWritableStreamDefaultWriter(this))return l(defaultWriterBrandCheckException("close"));let t=this._ownerWritableStream;return void 0===t?l(defaultWriterLockException("close")):WritableStreamCloseQueuedOrInFlight(t)?l(TypeError("Cannot close an already-closing stream")):WritableStreamDefaultWriterClose(this)}releaseLock(){if(!IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("releaseLock");let t=this._ownerWritableStream;void 0!==t&&WritableStreamDefaultWriterRelease(this)}write(t){return IsWritableStreamDefaultWriter(this)?void 0===this._ownerWritableStream?l(defaultWriterLockException("write to")):WritableStreamDefaultWriterWrite(this,t):l(defaultWriterBrandCheckException("write"))}};function IsWritableStreamDefaultWriter(t){return!!(typeIsObject(t)&&Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream"))&&t instanceof WritableStreamDefaultWriter}function WritableStreamDefaultWriterClose(t){let n=t._ownerWritableStream;return WritableStreamClose(n)}function WritableStreamDefaultWriterEnsureReadyPromiseRejected(t,n){"pending"===t._readyPromiseState?defaultWriterReadyPromiseReject(t,n):defaultWriterReadyPromiseInitializeAsRejected(t,n)}function WritableStreamDefaultWriterRelease(t){var n,a;let i=t._ownerWritableStream,o=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");WritableStreamDefaultWriterEnsureReadyPromiseRejected(t,o),"pending"===t._closedPromiseState?defaultWriterClosedPromiseReject(t,o):(n=t,a=o,defaultWriterClosedPromiseInitialize(n),defaultWriterClosedPromiseReject(n,a)),i._writer=void 0,t._ownerWritableStream=void 0}function WritableStreamDefaultWriterWrite(t,n){let a=t._ownerWritableStream,i=a._writableStreamController,o=function(t,n){try{return t._strategySizeAlgorithm(n)}catch(n){return WritableStreamDefaultControllerErrorIfNeeded(t,n),1}}(i,n);if(a!==t._ownerWritableStream)return l(defaultWriterLockException("write to"));let s=a._state;if("errored"===s)return l(a._storedError);if(WritableStreamCloseQueuedOrInFlight(a)||"closed"===s)return l(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===s)return l(a._storedError);let u=function(t){let n=newPromise((n,a)=>{t._writeRequests.push({_resolve:n,_reject:a})});return n}(a);return function(t,n,a){try{EnqueueValueWithSize(t,n,a)}catch(n){WritableStreamDefaultControllerErrorIfNeeded(t,n);return}let i=t._controlledWritableStream;if(!WritableStreamCloseQueuedOrInFlight(i)&&"writable"===i._state){let n=WritableStreamDefaultControllerGetBackpressure(t);WritableStreamUpdateBackpressure(i,n)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(t)}(i,n,o),u}Object.defineProperties(WritableStreamDefaultWriter.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(WritableStreamDefaultWriter.prototype,n.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});let _={};let WritableStreamDefaultController=class WritableStreamDefaultController{constructor(){throw TypeError("Illegal constructor")}get abortReason(){if(!IsWritableStreamDefaultController(this))throw defaultControllerBrandCheckException$2("abortReason");return this._abortReason}get signal(){if(!IsWritableStreamDefaultController(this))throw defaultControllerBrandCheckException$2("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t){if(!IsWritableStreamDefaultController(this))throw defaultControllerBrandCheckException$2("error");let n=this._controlledWritableStream._state;"writable"===n&&WritableStreamDefaultControllerError(this,t)}[c](t){let n=this._abortAlgorithm(t);return WritableStreamDefaultControllerClearAlgorithms(this),n}[d](){ResetQueue(this)}};function IsWritableStreamDefaultController(t){return!!(typeIsObject(t)&&Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream"))&&t instanceof WritableStreamDefaultController}function SetUpWritableStreamDefaultController(t,n,a,i,o,l,u,c){n._controlledWritableStream=t,t._writableStreamController=n,n._queue=void 0,n._queueTotalSize=void 0,ResetQueue(n),n._abortReason=void 0,n._abortController=function(){if(C)return new AbortController}(),n._started=!1,n._strategySizeAlgorithm=c,n._strategyHWM=u,n._writeAlgorithm=i,n._closeAlgorithm=o,n._abortAlgorithm=l;let d=WritableStreamDefaultControllerGetBackpressure(n);WritableStreamUpdateBackpressure(t,d);let h=a(),p=s(h);uponPromise(p,()=>{n._started=!0,WritableStreamDefaultControllerAdvanceQueueIfNeeded(n)},a=>{n._started=!0,WritableStreamDealWithRejection(t,a)})}function WritableStreamDefaultControllerClearAlgorithms(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function WritableStreamDefaultControllerGetDesiredSize(t){return t._strategyHWM-t._queueTotalSize}function WritableStreamDefaultControllerAdvanceQueueIfNeeded(t){let n=t._controlledWritableStream;if(!t._started||void 0!==n._inFlightWriteRequest)return;let a=n._state;if("erroring"===a){WritableStreamFinishErroring(n);return}if(0===t._queue.length)return;let i=function(t){let n=t._queue.peek();return n.value}(t);i===_?function(t){let n=t._controlledWritableStream;n._inFlightCloseRequest=n._closeRequest,n._closeRequest=void 0,DequeueValue(t);let a=t._closeAlgorithm();WritableStreamDefaultControllerClearAlgorithms(t),uponPromise(a,()=>{!function(t){t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0;let n=t._state;"erroring"===n&&(t._storedError=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed";let a=t._writer;void 0!==a&&defaultWriterClosedPromiseResolve(a)}(n)},t=>{n._inFlightCloseRequest._reject(t),n._inFlightCloseRequest=void 0,void 0!==n._pendingAbortRequest&&(n._pendingAbortRequest._reject(t),n._pendingAbortRequest=void 0),WritableStreamDealWithRejection(n,t)})}(t):function(t,n){let a=t._controlledWritableStream;a._inFlightWriteRequest=a._writeRequests.shift();let i=t._writeAlgorithm(n);uponPromise(i,()=>{a._inFlightWriteRequest._resolve(void 0),a._inFlightWriteRequest=void 0;let n=a._state;if(DequeueValue(t),!WritableStreamCloseQueuedOrInFlight(a)&&"writable"===n){let n=WritableStreamDefaultControllerGetBackpressure(t);WritableStreamUpdateBackpressure(a,n)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(t)},n=>{"writable"===a._state&&WritableStreamDefaultControllerClearAlgorithms(t),a._inFlightWriteRequest._reject(n),a._inFlightWriteRequest=void 0,WritableStreamDealWithRejection(a,n)})}(t,i)}function WritableStreamDefaultControllerErrorIfNeeded(t,n){"writable"===t._controlledWritableStream._state&&WritableStreamDefaultControllerError(t,n)}function WritableStreamDefaultControllerGetBackpressure(t){let n=WritableStreamDefaultControllerGetDesiredSize(t);return n<=0}function WritableStreamDefaultControllerError(t,n){let a=t._controlledWritableStream;WritableStreamDefaultControllerClearAlgorithms(t),WritableStreamStartErroring(a,n)}function streamBrandCheckException$2(t){return TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function defaultControllerBrandCheckException$2(t){return TypeError(`WritableStreamDefaultController.prototype.${t} can only be used on a WritableStreamDefaultController`)}function defaultWriterBrandCheckException(t){return TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function defaultWriterLockException(t){return TypeError("Cannot "+t+" a stream using a released writer")}function defaultWriterClosedPromiseInitialize(t){t._closedPromise=newPromise((n,a)=>{t._closedPromise_resolve=n,t._closedPromise_reject=a,t._closedPromiseState="pending"})}function defaultWriterClosedPromiseReject(t,n){void 0!==t._closedPromise_reject&&(setPromiseIsHandledToTrue(t._closedPromise),t._closedPromise_reject(n),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function defaultWriterClosedPromiseResolve(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function defaultWriterReadyPromiseInitialize(t){t._readyPromise=newPromise((n,a)=>{t._readyPromise_resolve=n,t._readyPromise_reject=a}),t._readyPromiseState="pending"}function defaultWriterReadyPromiseInitializeAsRejected(t,n){defaultWriterReadyPromiseInitialize(t),defaultWriterReadyPromiseReject(t,n)}function defaultWriterReadyPromiseReject(t,n){void 0!==t._readyPromise_reject&&(setPromiseIsHandledToTrue(t._readyPromise),t._readyPromise_reject(n),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function defaultWriterReadyPromiseResolve(t){void 0!==t._readyPromise_resolve&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}Object.defineProperties(WritableStreamDefaultController.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(WritableStreamDefaultController.prototype,n.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});let w="undefined"!=typeof DOMException?DOMException:void 0,A=!function(t){if(!("function"==typeof t||"object"==typeof t))return!1;try{return new t,!0}catch(t){return!1}}(w)?function(){let ctor=function(t,n){this.message=t||"",this.name=n||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return ctor.prototype=Object.create(Error.prototype),Object.defineProperty(ctor.prototype,"constructor",{value:ctor,writable:!0,configurable:!0}),ctor}():w;function ReadableStreamPipeTo(t,n,a,i,o,u){let c=AcquireReadableStreamDefaultReader(t),d=new WritableStreamDefaultWriter(n);t._disturbed=!0;let h=!1,p=s(void 0);return newPromise((y,m)=>{var g,b;let v;if(void 0!==u){if(v=()=>{let a=new A("Aborted","AbortError"),l=[];i||l.push(()=>"writable"===n._state?WritableStreamAbort(n,a):s(void 0)),o||l.push(()=>"readable"===t._state?ReadableStreamCancel(t,a):s(void 0)),shutdownWithAction(()=>Promise.all(l.map(t=>t())),!0,a)},u.aborted){v();return}u.addEventListener("abort",v)}if(isOrBecomesErrored(t,c._closedPromise,t=>{i?shutdown(!0,t):shutdownWithAction(()=>WritableStreamAbort(n,t),!0,t)}),isOrBecomesErrored(n,d._closedPromise,n=>{o?shutdown(!0,n):shutdownWithAction(()=>ReadableStreamCancel(t,n),!0,n)}),g=c._closedPromise,b=()=>{a?shutdown():shutdownWithAction(()=>(function(t){let n=t._ownerWritableStream,a=n._state;return WritableStreamCloseQueuedOrInFlight(n)||"closed"===a?s(void 0):"errored"===a?l(n._storedError):WritableStreamDefaultWriterClose(t)})(d))},"closed"===t._state?b():uponPromise(g,b),WritableStreamCloseQueuedOrInFlight(n)||"closed"===n._state){let n=TypeError("the destination writable stream closed before all data could be piped to it");o?shutdown(!0,n):shutdownWithAction(()=>ReadableStreamCancel(t,n),!0,n)}function waitForWritesToFinish(){let t=p;return PerformPromiseThen(p,()=>t!==p?waitForWritesToFinish():void 0)}function isOrBecomesErrored(t,n,a){"errored"===t._state?a(t._storedError):uponRejection(n,a)}function shutdownWithAction(t,a,i){!h&&((h=!0,"writable"!==n._state||WritableStreamCloseQueuedOrInFlight(n))?doTheRest():uponPromise(waitForWritesToFinish(),doTheRest));function doTheRest(){uponPromise(t(),()=>finalize(a,i),t=>finalize(!0,t))}}function shutdown(t,a){!h&&((h=!0,"writable"!==n._state||WritableStreamCloseQueuedOrInFlight(n))?finalize(t,a):uponPromise(waitForWritesToFinish(),()=>finalize(t,a)))}function finalize(t,n){WritableStreamDefaultWriterRelease(d),ReadableStreamReaderGenericRelease(c),void 0!==u&&u.removeEventListener("abort",v),t?m(n):y(void 0)}setPromiseIsHandledToTrue(newPromise((t,n)=>{!function next(a){a?t():PerformPromiseThen(h?s(!0):PerformPromiseThen(d._readyPromise,()=>newPromise((t,n)=>{ReadableStreamDefaultReaderRead(c,{_chunkSteps:n=>{p=PerformPromiseThen(WritableStreamDefaultWriterWrite(d,n),void 0,noop),t(!1)},_closeSteps:()=>t(!0),_errorSteps:n})})),next,n)}(!1)}))})}let ReadableStreamDefaultController=class ReadableStreamDefaultController{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException$1("desiredSize");return ReadableStreamDefaultControllerGetDesiredSize(this)}close(){if(!IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException$1("close");if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw TypeError("The stream is not in a state that permits close");ReadableStreamDefaultControllerClose(this)}enqueue(t){if(!IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException$1("enqueue");if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw TypeError("The stream is not in a state that permits enqueue");return ReadableStreamDefaultControllerEnqueue(this,t)}error(t){if(!IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException$1("error");ReadableStreamDefaultControllerError(this,t)}[h](t){ResetQueue(this);let n=this._cancelAlgorithm(t);return ReadableStreamDefaultControllerClearAlgorithms(this),n}[p](t){let n=this._controlledReadableStream;if(this._queue.length>0){let a=DequeueValue(this);this._closeRequested&&0===this._queue.length?(ReadableStreamDefaultControllerClearAlgorithms(this),ReadableStreamClose(n)):ReadableStreamDefaultControllerCallPullIfNeeded(this),t._chunkSteps(a)}else ReadableStreamAddReadRequest(n,t),ReadableStreamDefaultControllerCallPullIfNeeded(this)}};function IsReadableStreamDefaultController(t){return!!(typeIsObject(t)&&Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream"))&&t instanceof ReadableStreamDefaultController}function ReadableStreamDefaultControllerCallPullIfNeeded(t){let n=ReadableStreamDefaultControllerShouldCallPull(t);if(!n)return;if(t._pulling){t._pullAgain=!0;return}t._pulling=!0;let a=t._pullAlgorithm();uponPromise(a,()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,ReadableStreamDefaultControllerCallPullIfNeeded(t))},n=>{ReadableStreamDefaultControllerError(t,n)})}function ReadableStreamDefaultControllerShouldCallPull(t){let n=t._controlledReadableStream;if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(t)||!t._started)return!1;if(IsReadableStreamLocked(n)&&ReadableStreamGetNumReadRequests(n)>0)return!0;let a=ReadableStreamDefaultControllerGetDesiredSize(t);return a>0}function ReadableStreamDefaultControllerClearAlgorithms(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function ReadableStreamDefaultControllerClose(t){if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(t))return;let n=t._controlledReadableStream;t._closeRequested=!0,0===t._queue.length&&(ReadableStreamDefaultControllerClearAlgorithms(t),ReadableStreamClose(n))}function ReadableStreamDefaultControllerEnqueue(t,n){if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(t))return;let a=t._controlledReadableStream;if(IsReadableStreamLocked(a)&&ReadableStreamGetNumReadRequests(a)>0)ReadableStreamFulfillReadRequest(a,n,!1);else{let a;try{a=t._strategySizeAlgorithm(n)}catch(n){throw ReadableStreamDefaultControllerError(t,n),n}try{EnqueueValueWithSize(t,n,a)}catch(n){throw ReadableStreamDefaultControllerError(t,n),n}}ReadableStreamDefaultControllerCallPullIfNeeded(t)}function ReadableStreamDefaultControllerError(t,n){let a=t._controlledReadableStream;"readable"===a._state&&(ResetQueue(t),ReadableStreamDefaultControllerClearAlgorithms(t),ReadableStreamError(a,n))}function ReadableStreamDefaultControllerGetDesiredSize(t){let n=t._controlledReadableStream._state;return"errored"===n?null:"closed"===n?0:t._strategyHWM-t._queueTotalSize}function ReadableStreamDefaultControllerCanCloseOrEnqueue(t){let n=t._controlledReadableStream._state;return!t._closeRequested&&"readable"===n}function SetUpReadableStreamDefaultController(t,n,a,i,o,l,u){n._controlledReadableStream=t,n._queue=void 0,n._queueTotalSize=void 0,ResetQueue(n),n._started=!1,n._closeRequested=!1,n._pullAgain=!1,n._pulling=!1,n._strategySizeAlgorithm=u,n._strategyHWM=l,n._pullAlgorithm=i,n._cancelAlgorithm=o,t._readableStreamController=n;let c=a();uponPromise(s(c),()=>{n._started=!0,ReadableStreamDefaultControllerCallPullIfNeeded(n)},t=>{ReadableStreamDefaultControllerError(n,t)})}function defaultControllerBrandCheckException$1(t){return TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function convertPipeOptions(t,n){assertDictionary(t,n);let a=null==t?void 0:t.preventAbort,i=null==t?void 0:t.preventCancel,o=null==t?void 0:t.preventClose,s=null==t?void 0:t.signal;return void 0!==s&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw TypeError(`${n} is not an AbortSignal.`)}(s,`${n} has member 'signal' that`),{preventAbort:!!a,preventCancel:!!i,preventClose:!!o,signal:s}}Object.defineProperties(ReadableStreamDefaultController.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(ReadableStreamDefaultController.prototype,n.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});let ReadableStream1=class ReadableStream1{constructor(t={},n={}){void 0===t?t=null:assertObject(t,"First parameter");let a=convertQueuingStrategy(n,"Second parameter"),i=function(t,n){assertDictionary(t,n);let a=null==t?void 0:t.autoAllocateChunkSize,i=null==t?void 0:t.cancel,o=null==t?void 0:t.pull,s=null==t?void 0:t.start,l=null==t?void 0:t.type;return{autoAllocateChunkSize:void 0===a?void 0:convertUnsignedLongLongWithEnforceRange(a,`${n} has member 'autoAllocateChunkSize' that`),cancel:void 0===i?void 0:(assertFunction(i,`${n} has member 'cancel' that`),n=>promiseCall(i,t,[n])),pull:void 0===o?void 0:(assertFunction(o,`${n} has member 'pull' that`),n=>promiseCall(o,t,[n])),start:void 0===s?void 0:(assertFunction(s,`${n} has member 'start' that`),n=>reflectCall(s,t,[n])),type:void 0===l?void 0:function(t,n){if("bytes"!=(t=`${t}`))throw TypeError(`${n} '${t}' is not a valid enumeration value for ReadableStreamType`);return t}(l,`${n} has member 'type' that`)}}(t,"First parameter");if(InitializeReadableStream(this),"bytes"===i.type){if(void 0!==a.size)throw RangeError("The strategy for a byte stream cannot have a size function");let t=ExtractHighWaterMark(a,0);!function(t,n,a){let i=Object.create(ReadableByteStreamController.prototype),startAlgorithm=()=>void 0,pullAlgorithm=()=>s(void 0),cancelAlgorithm=()=>s(void 0);void 0!==n.start&&(startAlgorithm=()=>n.start(i)),void 0!==n.pull&&(pullAlgorithm=()=>n.pull(i)),void 0!==n.cancel&&(cancelAlgorithm=t=>n.cancel(t));let o=n.autoAllocateChunkSize;if(0===o)throw TypeError("autoAllocateChunkSize must be greater than 0");SetUpReadableByteStreamController(t,i,startAlgorithm,pullAlgorithm,cancelAlgorithm,a,o)}(this,i,t)}else{let t=ExtractSizeAlgorithm(a),n=ExtractHighWaterMark(a,1);!function(t,n,a,i){let o=Object.create(ReadableStreamDefaultController.prototype),startAlgorithm=()=>void 0,pullAlgorithm=()=>s(void 0),cancelAlgorithm=()=>s(void 0);void 0!==n.start&&(startAlgorithm=()=>n.start(o)),void 0!==n.pull&&(pullAlgorithm=()=>n.pull(o)),void 0!==n.cancel&&(cancelAlgorithm=t=>n.cancel(t)),SetUpReadableStreamDefaultController(t,o,startAlgorithm,pullAlgorithm,cancelAlgorithm,a,i)}(this,i,n,t)}}get locked(){if(!IsReadableStream(this))throw streamBrandCheckException$1("locked");return IsReadableStreamLocked(this)}cancel(t){return IsReadableStream(this)?IsReadableStreamLocked(this)?l(TypeError("Cannot cancel a stream that already has a reader")):ReadableStreamCancel(this,t):l(streamBrandCheckException$1("cancel"))}getReader(t){if(!IsReadableStream(this))throw streamBrandCheckException$1("getReader");let n=function(t,n){assertDictionary(t,n);let a=null==t?void 0:t.mode;return{mode:void 0===a?void 0:function(t,n){if("byob"!=(t=`${t}`))throw TypeError(`${n} '${t}' is not a valid enumeration value for ReadableStreamReaderMode`);return t}(a,`${n} has member 'mode' that`)}}(t,"First parameter");return void 0===n.mode?AcquireReadableStreamDefaultReader(this):new ReadableStreamBYOBReader(this)}pipeThrough(t,n={}){if(!IsReadableStream(this))throw streamBrandCheckException$1("pipeThrough");assertRequiredArgument(t,1,"pipeThrough");let a=function(t,n){assertDictionary(t,n);let a=null==t?void 0:t.readable;assertRequiredField(a,"readable","ReadableWritablePair"),assertReadableStream(a,`${n} has member 'readable' that`);let i=null==t?void 0:t.writable;return assertRequiredField(i,"writable","ReadableWritablePair"),assertWritableStream(i,`${n} has member 'writable' that`),{readable:a,writable:i}}(t,"First parameter"),i=convertPipeOptions(n,"Second parameter");if(IsReadableStreamLocked(this))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(IsWritableStreamLocked(a.writable))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let o=ReadableStreamPipeTo(this,a.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal);return setPromiseIsHandledToTrue(o),a.readable}pipeTo(t,n={}){let a;if(!IsReadableStream(this))return l(streamBrandCheckException$1("pipeTo"));if(void 0===t)return l("Parameter 1 is required in 'pipeTo'.");if(!IsWritableStream(t))return l(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{a=convertPipeOptions(n,"Second parameter")}catch(t){return l(t)}return IsReadableStreamLocked(this)?l(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):IsWritableStreamLocked(t)?l(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ReadableStreamPipeTo(this,t,a.preventClose,a.preventAbort,a.preventCancel,a.signal)}tee(){if(!IsReadableStream(this))throw streamBrandCheckException$1("tee");let t=IsReadableByteStreamController(this._readableStreamController)?function(t){let n,a,i,o,l,c=AcquireReadableStreamDefaultReader(t),d=!1,h=!1,p=!1,y=!1,m=!1,g=newPromise(t=>{l=t});function forwardReaderError(t){uponRejection(t._closedPromise,n=>{t===c&&(ReadableByteStreamControllerError(i._readableStreamController,n),ReadableByteStreamControllerError(o._readableStreamController,n),y&&m||l(void 0))})}function pullWithDefaultReader(){IsReadableStreamBYOBReader(c)&&(ReadableStreamReaderGenericRelease(c),forwardReaderError(c=AcquireReadableStreamDefaultReader(t))),ReadableStreamDefaultReaderRead(c,{_chunkSteps:n=>{u(()=>{h=!1,p=!1;let a=n;if(!y&&!m)try{a=CloneAsUint8Array(n)}catch(n){ReadableByteStreamControllerError(i._readableStreamController,n),ReadableByteStreamControllerError(o._readableStreamController,n),l(ReadableStreamCancel(t,n));return}y||ReadableByteStreamControllerEnqueue(i._readableStreamController,n),m||ReadableByteStreamControllerEnqueue(o._readableStreamController,a),d=!1,h?pull1Algorithm():p&&pull2Algorithm()})},_closeSteps:()=>{d=!1,y||ReadableByteStreamControllerClose(i._readableStreamController),m||ReadableByteStreamControllerClose(o._readableStreamController),i._readableStreamController._pendingPullIntos.length>0&&ReadableByteStreamControllerRespond(i._readableStreamController,0),o._readableStreamController._pendingPullIntos.length>0&&ReadableByteStreamControllerRespond(o._readableStreamController,0),y&&m||l(void 0)},_errorSteps:()=>{d=!1}})}function pullWithBYOBReader(n,a){IsReadableStreamDefaultReader(c)&&(ReadableStreamReaderGenericRelease(c),forwardReaderError(c=new ReadableStreamBYOBReader(t)));let s=a?o:i,g=a?i:o;ReadableStreamBYOBReaderRead(c,n,{_chunkSteps:n=>{u(()=>{h=!1,p=!1;let i=a?m:y,o=a?y:m;if(o)i||ReadableByteStreamControllerRespondWithNewView(s._readableStreamController,n);else{let a;try{a=CloneAsUint8Array(n)}catch(n){ReadableByteStreamControllerError(s._readableStreamController,n),ReadableByteStreamControllerError(g._readableStreamController,n),l(ReadableStreamCancel(t,n));return}i||ReadableByteStreamControllerRespondWithNewView(s._readableStreamController,n),ReadableByteStreamControllerEnqueue(g._readableStreamController,a)}d=!1,h?pull1Algorithm():p&&pull2Algorithm()})},_closeSteps:t=>{d=!1;let n=a?m:y,i=a?y:m;n||ReadableByteStreamControllerClose(s._readableStreamController),i||ReadableByteStreamControllerClose(g._readableStreamController),void 0!==t&&(n||ReadableByteStreamControllerRespondWithNewView(s._readableStreamController,t),!i&&g._readableStreamController._pendingPullIntos.length>0&&ReadableByteStreamControllerRespond(g._readableStreamController,0)),n&&i||l(void 0)},_errorSteps:()=>{d=!1}})}function pull1Algorithm(){if(d)return h=!0,s(void 0);d=!0;let t=ReadableByteStreamControllerGetBYOBRequest(i._readableStreamController);return null===t?pullWithDefaultReader():pullWithBYOBReader(t._view,!1),s(void 0)}function pull2Algorithm(){if(d)return p=!0,s(void 0);d=!0;let t=ReadableByteStreamControllerGetBYOBRequest(o._readableStreamController);return null===t?pullWithDefaultReader():pullWithBYOBReader(t._view,!0),s(void 0)}function startAlgorithm(){}return i=CreateReadableByteStream(startAlgorithm,pull1Algorithm,function(i){if(y=!0,n=i,m){let i=CreateArrayFromList([n,a]),o=ReadableStreamCancel(t,i);l(o)}return g}),o=CreateReadableByteStream(startAlgorithm,pull2Algorithm,function(i){if(m=!0,a=i,y){let i=CreateArrayFromList([n,a]),o=ReadableStreamCancel(t,i);l(o)}return g}),forwardReaderError(c),[i,o]}(this):function(t,n){let a,i,o,l,c;let d=AcquireReadableStreamDefaultReader(t),h=!1,p=!1,y=!1,m=!1,g=newPromise(t=>{c=t});function pullAlgorithm(){return h?p=!0:(h=!0,ReadableStreamDefaultReaderRead(d,{_chunkSteps:t=>{u(()=>{p=!1,y||ReadableStreamDefaultControllerEnqueue(o._readableStreamController,t),m||ReadableStreamDefaultControllerEnqueue(l._readableStreamController,t),h=!1,p&&pullAlgorithm()})},_closeSteps:()=>{h=!1,y||ReadableStreamDefaultControllerClose(o._readableStreamController),m||ReadableStreamDefaultControllerClose(l._readableStreamController),y&&m||c(void 0)},_errorSteps:()=>{h=!1}})),s(void 0)}function startAlgorithm(){}return o=CreateReadableStream(startAlgorithm,pullAlgorithm,function(n){if(y=!0,a=n,m){let n=CreateArrayFromList([a,i]),o=ReadableStreamCancel(t,n);c(o)}return g}),l=CreateReadableStream(startAlgorithm,pullAlgorithm,function(n){if(m=!0,i=n,y){let n=CreateArrayFromList([a,i]),o=ReadableStreamCancel(t,n);c(o)}return g}),uponRejection(d._closedPromise,t=>{ReadableStreamDefaultControllerError(o._readableStreamController,t),ReadableStreamDefaultControllerError(l._readableStreamController,t),y&&m||c(void 0)}),[o,l]}(this);return CreateArrayFromList(t)}values(t){if(!IsReadableStream(this))throw streamBrandCheckException$1("values");let n=function(t,n){assertDictionary(t,n);let a=null==t?void 0:t.preventCancel;return{preventCancel:!!a}}(t,"First parameter");return function(t,n){let a=AcquireReadableStreamDefaultReader(t),i=new ReadableStreamAsyncIteratorImpl(a,n),o=Object.create(v);return o._asyncIteratorImpl=i,o}(this,n.preventCancel)}};function CreateReadableStream(t,n,a,i=1,o=()=>1){let s=Object.create(ReadableStream1.prototype);InitializeReadableStream(s);let l=Object.create(ReadableStreamDefaultController.prototype);return SetUpReadableStreamDefaultController(s,l,t,n,a,i,o),s}function CreateReadableByteStream(t,n,a){let i=Object.create(ReadableStream1.prototype);InitializeReadableStream(i);let o=Object.create(ReadableByteStreamController.prototype);return SetUpReadableByteStreamController(i,o,t,n,a,0,void 0),i}function InitializeReadableStream(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function IsReadableStream(t){return!!(typeIsObject(t)&&Object.prototype.hasOwnProperty.call(t,"_readableStreamController"))&&t instanceof ReadableStream1}function IsReadableStreamLocked(t){return void 0!==t._reader}function ReadableStreamCancel(t,n){if(t._disturbed=!0,"closed"===t._state)return s(void 0);if("errored"===t._state)return l(t._storedError);ReadableStreamClose(t);let a=t._reader;void 0!==a&&IsReadableStreamBYOBReader(a)&&(a._readIntoRequests.forEach(t=>{t._closeSteps(void 0)}),a._readIntoRequests=new SimpleQueue);let i=t._readableStreamController[h](n);return PerformPromiseThen(i,noop,void 0)}function ReadableStreamClose(t){t._state="closed";let n=t._reader;void 0!==n&&(defaultReaderClosedPromiseResolve(n),IsReadableStreamDefaultReader(n)&&(n._readRequests.forEach(t=>{t._closeSteps()}),n._readRequests=new SimpleQueue))}function ReadableStreamError(t,n){t._state="errored",t._storedError=n;let a=t._reader;void 0!==a&&(defaultReaderClosedPromiseReject(a,n),IsReadableStreamDefaultReader(a)?(a._readRequests.forEach(t=>{t._errorSteps(n)}),a._readRequests=new SimpleQueue):(a._readIntoRequests.forEach(t=>{t._errorSteps(n)}),a._readIntoRequests=new SimpleQueue))}function streamBrandCheckException$1(t){return TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}function convertQueuingStrategyInit(t,n){assertDictionary(t,n);let a=null==t?void 0:t.highWaterMark;return assertRequiredField(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:convertUnrestrictedDouble(a)}}Object.defineProperties(ReadableStream1.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(ReadableStream1.prototype,n.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof n.asyncIterator&&Object.defineProperty(ReadableStream1.prototype,n.asyncIterator,{value:ReadableStream1.prototype.values,writable:!0,configurable:!0});let byteLengthSizeFunction=t=>t.byteLength;try{Object.defineProperty(byteLengthSizeFunction,"name",{value:"size",configurable:!0})}catch(t){}let ByteLengthQueuingStrategy=class ByteLengthQueuingStrategy{constructor(t){assertRequiredArgument(t,1,"ByteLengthQueuingStrategy"),t=convertQueuingStrategyInit(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!IsByteLengthQueuingStrategy(this))throw byteLengthBrandCheckException("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!IsByteLengthQueuingStrategy(this))throw byteLengthBrandCheckException("size");return byteLengthSizeFunction}};function byteLengthBrandCheckException(t){return TypeError(`ByteLengthQueuingStrategy.prototype.${t} can only be used on a ByteLengthQueuingStrategy`)}function IsByteLengthQueuingStrategy(t){return!!(typeIsObject(t)&&Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark"))&&t instanceof ByteLengthQueuingStrategy}Object.defineProperties(ByteLengthQueuingStrategy.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(ByteLengthQueuingStrategy.prototype,n.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});let countSizeFunction=()=>1;try{Object.defineProperty(countSizeFunction,"name",{value:"size",configurable:!0})}catch(t){}let CountQueuingStrategy=class CountQueuingStrategy{constructor(t){assertRequiredArgument(t,1,"CountQueuingStrategy"),t=convertQueuingStrategyInit(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!IsCountQueuingStrategy(this))throw countBrandCheckException("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!IsCountQueuingStrategy(this))throw countBrandCheckException("size");return countSizeFunction}};function countBrandCheckException(t){return TypeError(`CountQueuingStrategy.prototype.${t} can only be used on a CountQueuingStrategy`)}function IsCountQueuingStrategy(t){return!!(typeIsObject(t)&&Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark"))&&t instanceof CountQueuingStrategy}Object.defineProperties(CountQueuingStrategy.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(CountQueuingStrategy.prototype,n.toStringTag,{value:"CountQueuingStrategy",configurable:!0});let TransformStream=class TransformStream{constructor(t={},n={},a={}){let i;void 0===t&&(t=null);let o=convertQueuingStrategy(n,"Second parameter"),u=convertQueuingStrategy(a,"Third parameter"),c=function(t,n){assertDictionary(t,n);let a=null==t?void 0:t.flush,i=null==t?void 0:t.readableType,o=null==t?void 0:t.start,s=null==t?void 0:t.transform,l=null==t?void 0:t.writableType;return{flush:void 0===a?void 0:(assertFunction(a,`${n} has member 'flush' that`),n=>promiseCall(a,t,[n])),readableType:i,start:void 0===o?void 0:(assertFunction(o,`${n} has member 'start' that`),n=>reflectCall(o,t,[n])),transform:void 0===s?void 0:(assertFunction(s,`${n} has member 'transform' that`),(n,a)=>promiseCall(s,t,[n,a])),writableType:l}}(t,"First parameter");if(void 0!==c.readableType)throw RangeError("Invalid readableType specified");if(void 0!==c.writableType)throw RangeError("Invalid writableType specified");let d=ExtractHighWaterMark(u,0),h=ExtractSizeAlgorithm(u),p=ExtractHighWaterMark(o,1),y=ExtractSizeAlgorithm(o),m=newPromise(t=>{i=t});(function(t,n,a,i,o,l){function startAlgorithm(){return n}t._writable=function(t,n,a,i,o=1,s=()=>1){let l=Object.create(WritableStream.prototype);InitializeWritableStream(l);let u=Object.create(WritableStreamDefaultController.prototype);return SetUpWritableStreamDefaultController(l,u,t,n,a,i,o,s),l}(startAlgorithm,function(n){return function(t,n){let a=t._transformStreamController;if(t._backpressure){let i=t._backpressureChangePromise;return PerformPromiseThen(i,()=>{let i=t._writable,o=i._state;if("erroring"===o)throw i._storedError;return TransformStreamDefaultControllerPerformTransform(a,n)},void 0)}return TransformStreamDefaultControllerPerformTransform(a,n)}(t,n)},function(){return function(t){let n=t._readable,a=t._transformStreamController,i=a._flushAlgorithm();return TransformStreamDefaultControllerClearAlgorithms(a),PerformPromiseThen(i,()=>{if("errored"===n._state)throw n._storedError;ReadableStreamDefaultControllerClose(n._readableStreamController)},a=>{throw TransformStreamError(t,a),n._storedError})}(t)},function(n){return TransformStreamError(t,n),s(void 0)},a,i),t._readable=CreateReadableStream(startAlgorithm,function(){return TransformStreamSetBackpressure(t,!1),t._backpressureChangePromise},function(n){return TransformStreamErrorWritableAndUnblockWrite(t,n),s(void 0)},o,l),t._backpressure=void 0,t._backpressureChangePromise=void 0,t._backpressureChangePromise_resolve=void 0,TransformStreamSetBackpressure(t,!0),t._transformStreamController=void 0})(this,m,p,y,d,h),function(t,n){var a,i;let o=Object.create(TransformStreamDefaultController.prototype),transformAlgorithm=t=>{try{return TransformStreamDefaultControllerEnqueue(o,t),s(void 0)}catch(t){return l(t)}},flushAlgorithm=()=>s(void 0);void 0!==n.transform&&(transformAlgorithm=t=>n.transform(t,o)),void 0!==n.flush&&(flushAlgorithm=()=>n.flush(o)),a=transformAlgorithm,i=flushAlgorithm,o._controlledTransformStream=t,t._transformStreamController=o,o._transformAlgorithm=a,o._flushAlgorithm=i}(this,c),void 0!==c.start?i(c.start(this._transformStreamController)):i(void 0)}get readable(){if(!IsTransformStream(this))throw streamBrandCheckException("readable");return this._readable}get writable(){if(!IsTransformStream(this))throw streamBrandCheckException("writable");return this._writable}};function IsTransformStream(t){return!!(typeIsObject(t)&&Object.prototype.hasOwnProperty.call(t,"_transformStreamController"))&&t instanceof TransformStream}function TransformStreamError(t,n){ReadableStreamDefaultControllerError(t._readable._readableStreamController,n),TransformStreamErrorWritableAndUnblockWrite(t,n)}function TransformStreamErrorWritableAndUnblockWrite(t,n){TransformStreamDefaultControllerClearAlgorithms(t._transformStreamController),WritableStreamDefaultControllerErrorIfNeeded(t._writable._writableStreamController,n),t._backpressure&&TransformStreamSetBackpressure(t,!1)}function TransformStreamSetBackpressure(t,n){void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=newPromise(n=>{t._backpressureChangePromise_resolve=n}),t._backpressure=n}Object.defineProperties(TransformStream.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(TransformStream.prototype,n.toStringTag,{value:"TransformStream",configurable:!0});let TransformStreamDefaultController=class TransformStreamDefaultController{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return ReadableStreamDefaultControllerGetDesiredSize(t)}enqueue(t){if(!IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException("enqueue");TransformStreamDefaultControllerEnqueue(this,t)}error(t){if(!IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException("error");TransformStreamError(this._controlledTransformStream,t)}terminate(){if(!IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException("terminate");(function(t){let n=t._controlledTransformStream,a=n._readable._readableStreamController;ReadableStreamDefaultControllerClose(a);let i=TypeError("TransformStream terminated");TransformStreamErrorWritableAndUnblockWrite(n,i)})(this)}};function IsTransformStreamDefaultController(t){return!!(typeIsObject(t)&&Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream"))&&t instanceof TransformStreamDefaultController}function TransformStreamDefaultControllerClearAlgorithms(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function TransformStreamDefaultControllerEnqueue(t,n){let a=t._controlledTransformStream,i=a._readable._readableStreamController;if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(i))throw TypeError("Readable side is not in a state that permits enqueue");try{ReadableStreamDefaultControllerEnqueue(i,n)}catch(t){throw TransformStreamErrorWritableAndUnblockWrite(a,t),a._readable._storedError}let o=!ReadableStreamDefaultControllerShouldCallPull(i);o!==a._backpressure&&TransformStreamSetBackpressure(a,!0)}function TransformStreamDefaultControllerPerformTransform(t,n){let a=t._transformAlgorithm(n);return PerformPromiseThen(a,void 0,n=>{throw TransformStreamError(t._controlledTransformStream,n),n})}function defaultControllerBrandCheckException(t){return TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function streamBrandCheckException(t){return TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}Object.defineProperties(TransformStreamDefaultController.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(TransformStreamDefaultController.prototype,n.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),t.ByteLengthQueuingStrategy=ByteLengthQueuingStrategy,t.CountQueuingStrategy=CountQueuingStrategy,t.ReadableByteStreamController=ReadableByteStreamController,t.ReadableStream=ReadableStream1,t.ReadableStreamBYOBReader=ReadableStreamBYOBReader,t.ReadableStreamBYOBRequest=ReadableStreamBYOBRequest,t.ReadableStreamDefaultController=ReadableStreamDefaultController,t.ReadableStreamDefaultReader=ReadableStreamDefaultReader,t.TransformStream=TransformStream,t.TransformStreamDefaultController=TransformStreamDefaultController,t.WritableStream=WritableStream,t.WritableStreamDefaultController=WritableStreamDefaultController,t.WritableStreamDefaultWriter=WritableStreamDefaultWriter,Object.defineProperty(t,"__esModule",{value:!0})}(m.exports)),m.exports))}try{let{Blob:t}=a(14300);t&&!t.prototype.stream&&(t.prototype.stream=function(t){let n=0,a=this;return new ReadableStream({type:"bytes",async pull(t){let i=a.slice(n,Math.min(a.size,n+65536)),o=await i.arrayBuffer();n+=o.byteLength,t.enqueue(new Uint8Array(o)),n===a.size&&t.close()}})})}catch(t){}async function*toIterator(t,n=!0){for(let a of t)if("stream"in a)yield*a.stream();else if(ArrayBuffer.isView(a)){if(n){let t=a.byteOffset,n=a.byteOffset+a.byteLength;for(;t!==n;){let i=Math.min(n-t,65536),o=a.buffer.slice(t,t+i);t+=o.byteLength,yield new Uint8Array(o)}}else yield a}else{let t=0;for(;t!==a.size;){let n=a.slice(t,Math.min(a.size,t+65536)),i=await n.arrayBuffer();t+=i.byteLength,yield new Uint8Array(i)}}}let g=class Blob{#r;#n;#a;#i;constructor(t=[],n={}){if(this.#r=[],this.#n="",this.#a=0,this.#i="transparent","object"!=typeof t||null===t)throw TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof n&&"function"!=typeof n)throw TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===n&&(n={});let a=new TextEncoder;for(let n of t){let t;t=ArrayBuffer.isView(n)?new Uint8Array(n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)):n instanceof ArrayBuffer?new Uint8Array(n.slice(0)):n instanceof Blob?n:a.encode(`${n}`);let i=ArrayBuffer.isView(t)?t.byteLength:t.size;i&&(this.#a+=i,this.#r.push(t))}this.#i=`${void 0===n.endings?"transparent":n.endings}`;let i=void 0===n.type?"":String(n.type);this.#n=/^[\x20-\x7E]*$/.test(i)?i:""}get size(){return this.#a}get type(){return this.#n}async text(){let t=new TextDecoder,n="";for await(let a of toIterator(this.#r,!1))n+=t.decode(a,{stream:!0});return n+t.decode()}async arrayBuffer(){let t=new Uint8Array(this.size),n=0;for await(let a of toIterator(this.#r,!1))t.set(a,n),n+=a.length;return t.buffer}stream(){let t=toIterator(this.#r,!0);return new globalThis.ReadableStream({type:"bytes",async pull(n){let a=await t.next();a.done?n.close():n.enqueue(a.value)},async cancel(){await t.return()}})}slice(t=0,n=this.size,a=""){let{size:i}=this,o=t<0?Math.max(i+t,0):Math.min(t,i),s=n<0?Math.max(i+n,0):Math.min(n,i),l=Math.max(s-o,0),u=this.#r,c=[],d=0;for(let t of u){if(d>=l)break;let n=ArrayBuffer.isView(t)?t.byteLength:t.size;if(o&&n<=o)o-=n,s-=n;else{let a;ArrayBuffer.isView(t)?d+=(a=t.subarray(o,Math.min(n,s))).byteLength:d+=(a=t.slice(o,Math.min(n,s))).size,s-=n,c.push(a),o=0}}let h=new Blob([],{type:String(a).toLowerCase()});return h.#a=l,h.#r=c,h}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](t){return t&&"object"==typeof t&&"function"==typeof t.constructor&&("function"==typeof t.stream||"function"==typeof t.arrayBuffer)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}};Object.defineProperties(g.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});let b=g,v=class extends b{#o;#s;constructor(t,n,a={}){if(arguments.length<2)throw TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(t,a),this.#o=0,this.#s="",null===a&&(a={});let i=void 0===a.lastModified?Date.now():Number(a.lastModified);Number.isNaN(i)||(this.#o=i),this.#s=String(n)}get name(){return this.#s}get lastModified(){return this.#o}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](t){return!!t&&t instanceof b&&/^(File)$/.test(t[Symbol.toStringTag])}};/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */var{toStringTag:S,iterator:C,hasInstance:_}=Symbol,w=Math.random,A="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),f=(t,n,a)=>(t+="",/^(Blob|File)$/.test(n&&n[S])?[(a=void 0!==a?a+"":"File"==n[S]?n.name:"blob",t),n.name!==a||"blob"==n[S]?new v([n],a,n):n]:[t,n+""]),e=(t,n)=>(n?t:t.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),x=(t,n,a)=>{if(n.length<a)throw TypeError(`Failed to execute '${t}' on 'FormData': ${a} arguments required, but only ${n.length} present.`)};let P=class{#l;constructor(...t){if(this.#l=[],t.length)throw TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[S](){return"FormData"}[C](){return this.entries()}static[_](t){return t&&"object"==typeof t&&"FormData"===t[S]&&!A.some(n=>"function"!=typeof t[n])}append(...t){x("append",arguments,2),this.#l.push(f(...t))}delete(t){x("delete",arguments,1),t+="",this.#l=this.#l.filter(([n])=>n!==t)}get(t){x("get",arguments,1),t+="";for(var n=this.#l,a=n.length,i=0;i<a;i++)if(n[i][0]===t)return n[i][1];return null}getAll(t,n){return x("getAll",arguments,1),n=[],t+="",this.#l.forEach(a=>a[0]===t&&n.push(a[1])),n}has(t){return x("has",arguments,1),t+="",this.#l.some(n=>n[0]===t)}forEach(t,n){for(var[a,i]of(x("forEach",arguments,1),this))t.call(n,i,a,this)}set(...t){x("set",arguments,2);var n=[],a=!0;t=f(...t),this.#l.forEach(i=>{i[0]===t[0]?a&&(a=!n.push(t)):n.push(i)}),a&&n.push(t),this.#l=n}*entries(){yield*this.#l}*keys(){for(var[t]of this)yield t}*values(){for(var[,t]of this)yield t}};let FetchBaseError=class FetchBaseError extends Error{constructor(t,n){super(t),Error.captureStackTrace(this,this.constructor),this.type=n}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};let FetchError=class FetchError extends FetchBaseError{constructor(t,n,a){super(t,n),a&&(this.code=this.errno=a.code,this.erroredSysCall=a.syscall)}};let E=Symbol.toStringTag,isURLSearchParameters=t=>"object"==typeof t&&"function"==typeof t.append&&"function"==typeof t.delete&&"function"==typeof t.get&&"function"==typeof t.getAll&&"function"==typeof t.has&&"function"==typeof t.set&&"function"==typeof t.sort&&"URLSearchParams"===t[E],isBlob=t=>t&&"object"==typeof t&&"function"==typeof t.arrayBuffer&&"string"==typeof t.type&&"function"==typeof t.stream&&"function"==typeof t.constructor&&/^(Blob|File)$/.test(t[E]),isAbortSignal=t=>"object"==typeof t&&("AbortSignal"===t[E]||"EventTarget"===t[E]),isDomainOrSubdomain=(t,n)=>{let a=new URL(n).hostname,i=new URL(t).hostname;return a===i||a.endsWith(`.${i}`)},isSameProtocol=(t,n)=>{let a=new URL(n).protocol,i=new URL(t).protocol;return a===i},k=c.promisify(l.pipeline),R=Symbol("Body internals");let Body=class Body{constructor(t,{size:n=0}={}){let a=null;null===t?t=null:isURLSearchParameters(t)?t=u.Buffer.from(t.toString()):isBlob(t)||u.Buffer.isBuffer(t)||(c.types.isAnyArrayBuffer(t)?t=u.Buffer.from(t):ArrayBuffer.isView(t)?t=u.Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof l||(t instanceof P?a=(t=function(t,n=b){var a=`${w()}${w()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],o=`--${a}\r
Content-Disposition: form-data; name="`;return t.forEach((t,n)=>"string"==typeof t?i.push(o+e(n)+`"\r
\r
${t.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r
`):i.push(o+e(n)+`"; filename="${e(t.name,1)}"\r
Content-Type: ${t.type||"application/octet-stream"}\r
\r
`,t,"\r\n")),i.push(`--${a}--`),new n(i,{type:"multipart/form-data; boundary="+a})}(t)).type.split("=")[1]:t=u.Buffer.from(String(t))));let i=t;u.Buffer.isBuffer(t)?i=l.Readable.from(t):isBlob(t)&&(i=l.Readable.from(t.stream())),this[R]={body:t,stream:i,boundary:a,disturbed:!1,error:null},this.size=n,t instanceof l&&t.on("error",t=>{let n=t instanceof FetchBaseError?t:new FetchError(`Invalid response body while trying to fetch ${this.url}: ${t.message}`,"system",t);this[R].error=n})}get body(){return this[R].stream}get bodyUsed(){return this[R].disturbed}async arrayBuffer(){let{buffer:t,byteOffset:n,byteLength:a}=await consumeBody(this);return t.slice(n,n+a)}async formData(){let t=this.headers.get("content-type");if(t.startsWith("application/x-www-form-urlencoded")){let t=new P,n=new URLSearchParams(await this.text());for(let[a,i]of n)t.append(a,i);return t}let{toFormData:n}=await a.e(7090).then(a.t.bind(a,72425,19));return n(this.body,t)}async blob(){let t=this.headers&&this.headers.get("content-type")||this[R].body&&this[R].body.type||"",n=await this.arrayBuffer();return new b([n],{type:t})}async json(){let t=await this.text();return JSON.parse(t)}async text(){let t=await consumeBody(this);return new TextDecoder().decode(t)}buffer(){return consumeBody(this)}};async function consumeBody(t){if(t[R].disturbed)throw TypeError(`body used already for: ${t.url}`);if(t[R].disturbed=!0,t[R].error)throw t[R].error;let{body:n}=t;if(null===n||!(n instanceof l))return u.Buffer.alloc(0);let a=[],i=0;try{for await(let o of n){if(t.size>0&&i+o.length>t.size){let a=new FetchError(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw n.destroy(a),a}i+=o.length,a.push(o)}}catch(a){let n=a instanceof FetchBaseError?a:new FetchError(`Invalid response body while trying to fetch ${t.url}: ${a.message}`,"system",a);throw n}if(!0===n.readableEnded||!0===n._readableState.ended)try{if(a.every(t=>"string"==typeof t))return u.Buffer.from(a.join(""));return u.Buffer.concat(a,i)}catch(n){throw new FetchError(`Could not create Buffer from response body for ${t.url}: ${n.message}`,"system",n)}else throw new FetchError(`Premature close of server response while trying to fetch ${t.url}`)}Body.prototype.buffer=c.deprecate(Body.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(Body.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:c.deprecate(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});let clone=(t,n)=>{let a,i;let{body:o}=t[R];if(t.bodyUsed)throw Error("cannot clone body after it is used");return o instanceof l&&"function"!=typeof o.getBoundary&&(a=new l.PassThrough({highWaterMark:n}),i=new l.PassThrough({highWaterMark:n}),o.pipe(a),o.pipe(i),t[R].stream=a,o=i),o},B=c.deprecate(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),extractContentType=(t,n)=>null===t?null:"string"==typeof t?"text/plain;charset=UTF-8":isURLSearchParameters(t)?"application/x-www-form-urlencoded;charset=UTF-8":isBlob(t)?t.type||null:u.Buffer.isBuffer(t)||c.types.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof P?`multipart/form-data; boundary=${n[R].boundary}`:t&&"function"==typeof t.getBoundary?`multipart/form-data;boundary=${B(t)}`:t instanceof l?null:"text/plain;charset=UTF-8",getTotalBytes=t=>{let{body:n}=t[R];return null===n?0:isBlob(n)?n.size:u.Buffer.isBuffer(n)?n.length:n&&"function"==typeof n.getLengthSync&&n.hasKnownLength&&n.hasKnownLength()?n.getLengthSync():null},writeToStream=async(t,{body:n})=>{null===n?t.end():await k(n,t)},O="function"==typeof i.validateHeaderName?i.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let n=TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),n}},T="function"==typeof i.validateHeaderValue?i.validateHeaderValue:(t,n)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(n)){let n=TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}};let Headers=class Headers extends URLSearchParams{constructor(t){let n=[];if(t instanceof Headers){let a=t.raw();for(let[t,i]of Object.entries(a))n.push(...i.map(n=>[t,n]))}else if(null==t);else if("object"!=typeof t||c.types.isBoxedPrimitive(t))throw TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");else{let a=t[Symbol.iterator];if(null==a)n.push(...Object.entries(t));else{if("function"!=typeof a)throw TypeError("Header pairs must be iterable");n=[...t].map(t=>{if("object"!=typeof t||c.types.isBoxedPrimitive(t))throw TypeError("Each header pair must be an iterable object");return[...t]}).map(t=>{if(2!==t.length)throw TypeError("Each header pair must be a name/value tuple");return[...t]})}}return super(n=n.length>0?n.map(([t,n])=>(O(t),T(t,String(n)),[String(t).toLowerCase(),String(n)])):void 0),new Proxy(this,{get(t,n,a){switch(n){case"append":case"set":return(a,i)=>(O(a),T(a,String(i)),URLSearchParams.prototype[n].call(t,String(a).toLowerCase(),String(i)));case"delete":case"has":case"getAll":return a=>(O(a),URLSearchParams.prototype[n].call(t,String(a).toLowerCase()));case"keys":return()=>(t.sort(),new Set(URLSearchParams.prototype.keys.call(t)).keys());default:return Reflect.get(t,n,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(t){let n=this.getAll(t);if(0===n.length)return null;let a=n.join(", ");return/^content-encoding$/i.test(t)&&(a=a.toLowerCase()),a}forEach(t,n){for(let a of this.keys())Reflect.apply(t,n,[this.get(a),a,this])}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((t,n)=>(t[n]=this.getAll(n),t),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((t,n)=>{let a=this.getAll(n);return"host"===n?t[n]=a[0]:t[n]=a.length>1?a:a[0],t},{})}};Object.defineProperties(Headers.prototype,["get","entries","forEach","values"].reduce((t,n)=>(t[n]={enumerable:!0},t),{}));let I=new Set([301,302,303,307,308]),isRedirect=t=>I.has(t),j=Symbol("Response internals");let Response=class Response extends Body{constructor(t=null,n={}){super(t,n);let a=null!=n.status?n.status:200,i=new Headers(n.headers);if(null!==t&&!i.has("Content-Type")){let n=extractContentType(t,this);n&&i.append("Content-Type",n)}this[j]={type:"default",url:n.url,status:a,statusText:n.statusText||"",headers:i,counter:n.counter,highWaterMark:n.highWaterMark}}get type(){return this[j].type}get url(){return this[j].url||""}get status(){return this[j].status}get ok(){return this[j].status>=200&&this[j].status<300}get redirected(){return this[j].counter>0}get statusText(){return this[j].statusText}get headers(){return this[j].headers}get highWaterMark(){return this[j].highWaterMark}clone(){return new Response(clone(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(t,n=302){if(!isRedirect(n))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');return new Response(null,{headers:{location:new URL(t).toString()},status:n})}static error(){let t=new Response(null,{status:0,statusText:""});return t[j].type="error",t}static json(t,n={}){let a=JSON.stringify(t);if(void 0===a)throw TypeError("data is not JSON serializable");let i=new Headers(n&&n.headers);return i.has("content-type")||i.set("content-type","application/json"),new Response(a,{...n,headers:i})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(Response.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});let getSearch=t=>{if(t.search)return t.search;let n=t.href.length-1,a=t.hash||("#"===t.href[n]?"#":"");return"?"===t.href[n-a.length]?"?":""};function stripURLForUseAsAReferrer(t,n=!1){return null==t?"no-referrer":(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",n&&(t.pathname="",t.search=""),t)}let U=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function isUrlPotentiallyTrustworthy(t){return!!(/^about:(blank|srcdoc)$/.test(t)||"data:"===t.protocol||/^(blob|filesystem):$/.test(t.protocol))||function(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let n=t.host.replace(/(^\[)|(]$)/g,""),a=h.isIP(n);return!!(4===a&&/^127\./.test(n)||6===a&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(n))||!("localhost"===t.host||t.host.endsWith(".localhost"))&&"file:"===t.protocol}(t)}let N=Symbol("Request internals"),isRequest=t=>"object"==typeof t&&"object"==typeof t[N],K=c.deprecate(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");let Request=class Request extends Body{constructor(t,n={}){let a;if(isRequest(t)?a=new URL(t.url):(a=new URL(t),t={}),""!==a.username||""!==a.password)throw TypeError(`${a} is an url with embedded credentials.`);let i=n.method||t.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(i)&&(i=i.toUpperCase()),!isRequest(n)&&"data"in n&&K(),(null!=n.body||isRequest(t)&&null!==t.body)&&("GET"===i||"HEAD"===i))throw TypeError("Request with GET/HEAD method cannot have body");let o=n.body?n.body:isRequest(t)&&null!==t.body?clone(t):null;super(o,{size:n.size||t.size||0});let s=new Headers(n.headers||t.headers||{});if(null!==o&&!s.has("Content-Type")){let t=extractContentType(o,this);t&&s.set("Content-Type",t)}let l=isRequest(t)?t.signal:null;if("signal"in n&&(l=n.signal),null!=l&&!isAbortSignal(l))throw TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let u=null==n.referrer?t.referrer:n.referrer;if(""===u)u="no-referrer";else if(u){let t=new URL(u);u=/^about:(\/\/)?client$/.test(t)?"client":t}else u=void 0;this[N]={method:i,redirect:n.redirect||t.redirect||"follow",headers:s,parsedURL:a,signal:l,referrer:u},this.follow=void 0===n.follow?void 0===t.follow?20:t.follow:n.follow,this.compress=void 0===n.compress?void 0===t.compress||t.compress:n.compress,this.counter=n.counter||t.counter||0,this.agent=n.agent||t.agent,this.highWaterMark=n.highWaterMark||t.highWaterMark||16384,this.insecureHTTPParser=n.insecureHTTPParser||t.insecureHTTPParser||!1,this.referrerPolicy=n.referrerPolicy||t.referrerPolicy||""}get method(){return this[N].method}get url(){return d.format(this[N].parsedURL)}get headers(){return this[N].headers}get redirect(){return this[N].redirect}get signal(){return this[N].signal}get referrer(){return"no-referrer"===this[N].referrer?"":"client"===this[N].referrer?"about:client":this[N].referrer?this[N].referrer.toString():void 0}get referrerPolicy(){return this[N].referrerPolicy}set referrerPolicy(t){this[N].referrerPolicy=function(t){if(!U.has(t))throw TypeError(`Invalid referrerPolicy: ${t}`);return t}(t)}clone(){return new Request(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Request.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});let getNodeRequestOptions=t=>{let{parsedURL:n}=t[N],a=new Headers(t[N].headers);a.has("Accept")||a.set("Accept","*/*");let i=null;if(null===t.body&&/^(post|put)$/i.test(t.method)&&(i="0"),null!==t.body){let n=getTotalBytes(t);"number"!=typeof n||Number.isNaN(n)||(i=String(n))}i&&a.set("Content-Length",i),""===t.referrerPolicy&&(t.referrerPolicy="strict-origin-when-cross-origin"),t.referrer&&"no-referrer"!==t.referrer?t[N].referrer=function(t,{referrerURLCallback:n,referrerOriginCallback:a}={}){if("no-referrer"===t.referrer||""===t.referrerPolicy)return null;let i=t.referrerPolicy;if("about:client"===t.referrer)return"no-referrer";let o=t.referrer,s=stripURLForUseAsAReferrer(o),l=stripURLForUseAsAReferrer(o,!0);s.toString().length>4096&&(s=l),n&&(s=n(s)),a&&(l=a(l));let u=new URL(t.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return l;case"unsafe-url":return s;case"strict-origin":if(isUrlPotentiallyTrustworthy(s)&&!isUrlPotentiallyTrustworthy(u))return"no-referrer";return l.toString();case"strict-origin-when-cross-origin":if(s.origin===u.origin)return s;if(isUrlPotentiallyTrustworthy(s)&&!isUrlPotentiallyTrustworthy(u))return"no-referrer";return l;case"same-origin":if(s.origin===u.origin)return s;return"no-referrer";case"origin-when-cross-origin":if(s.origin===u.origin)return s;return l;case"no-referrer-when-downgrade":if(isUrlPotentiallyTrustworthy(s)&&!isUrlPotentiallyTrustworthy(u))return"no-referrer";return s;default:throw TypeError(`Invalid referrerPolicy: ${i}`)}}(t):t[N].referrer="no-referrer",t[N].referrer instanceof URL&&a.set("Referer",t.referrer),a.has("User-Agent")||a.set("User-Agent","node-fetch"),t.compress&&!a.has("Accept-Encoding")&&a.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=t;"function"==typeof o&&(o=o(n)),a.has("Connection")||o||a.set("Connection","close");let s=getSearch(n),l={path:n.pathname+s,method:t.method,headers:a[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:o};return{parsedURL:n,options:l}};let AbortError=class AbortError extends FetchBaseError{constructor(t,n="aborted"){super(t,n)}};/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */if(!globalThis.DOMException)try{let{MessageChannel:t}=a(71267),n=new t().port1,i=new ArrayBuffer;n.postMessage(i,[i,i])}catch(t){"DOMException"===t.constructor.name&&(globalThis.DOMException=t.constructor)}var L=globalThis.DOMException;let D=new Set(["data:","http:","https:"]);async function fetch(t,n){return new Promise((a,c)=>{let d=new Request(t,n),{parsedURL:h,options:p}=getNodeRequestOptions(d);if(!D.has(h.protocol))throw TypeError(`node-fetch cannot load ${t}. URL scheme "${h.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===h.protocol){let t=function(t){if(!/^data:/i.test(t))throw TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let n=t.indexOf(",");if(-1===n||n<=4)throw TypeError("malformed data: URI");let a=t.substring(5,n).split(";"),i="",o=!1,s=a[0]||"text/plain",l=s;for(let t=1;t<a.length;t++)"base64"===a[t]?o=!0:(l+=`;${a[t]}`,0===a[t].indexOf("charset=")&&(i=a[t].substring(8)));a[0]||i.length||(l+=";charset=US-ASCII",i="US-ASCII");let u=o?"base64":"ascii",c=unescape(t.substring(n+1)),d=Buffer.from(c,u);return d.type=s,d.typeFull=l,d.charset=i,d}(d.url),n=new Response(t,{headers:{"Content-Type":t.typeFull}});a(n);return}let y=("https:"===h.protocol?o:i).request,{signal:m}=d,g=null,abort=()=>{let t=new AbortError("The operation was aborted.");c(t),d.body&&d.body instanceof l.Readable&&d.body.destroy(t),g&&g.body&&g.body.emit("error",t)};if(m&&m.aborted){abort();return}let abortAndFinalize=()=>{abort(),finalize()},b=y(h.toString(),p);m&&m.addEventListener("abort",abortAndFinalize);let finalize=()=>{b.abort(),m&&m.removeEventListener("abort",abortAndFinalize)};b.on("error",t=>{c(new FetchError(`request to ${d.url} failed, reason: ${t.message}`,"system",t)),finalize()}),function(t,n){let a;let i=u.Buffer.from("0\r\n\r\n"),o=!1,s=!1;t.on("response",t=>{let{headers:n}=t;o="chunked"===n["transfer-encoding"]&&!n["content-length"]}),t.on("socket",l=>{let onSocketClose=()=>{if(o&&!s){let t=Error("Premature close");t.code="ERR_STREAM_PREMATURE_CLOSE",n(t)}},onData=t=>{(s=0===u.Buffer.compare(t.slice(-5),i))||!a||(s=0===u.Buffer.compare(a.slice(-3),i.slice(0,3))&&0===u.Buffer.compare(t.slice(-2),i.slice(3))),a=t};l.prependListener("close",onSocketClose),l.on("data",onData),t.on("close",()=>{l.removeListener("close",onSocketClose),l.removeListener("data",onData)})})}(b,t=>{g&&g.body&&g.body.destroy(t)}),process.version<"v14"&&b.on("socket",t=>{let n;t.prependListener("end",()=>{n=t._eventsCount}),t.prependListener("close",a=>{if(g&&n<t._eventsCount&&!a){let t=Error("Premature close");t.code="ERR_STREAM_PREMATURE_CLOSE",g.body.emit("error",t)}})}),b.on("response",t=>{b.setTimeout(0);let i=function(t=[]){return new Headers(t.reduce((t,n,a,i)=>(a%2==0&&t.push(i.slice(a,a+2)),t),[]).filter(([t,n])=>{try{return O(t),T(t,String(n)),!0}catch{return!1}}))}(t.rawHeaders);if(isRedirect(t.statusCode)){let o=i.get("Location"),s=null;try{s=null===o?null:new URL(o,d.url)}catch{if("manual"!==d.redirect){c(new FetchError(`uri requested responds with an invalid redirect URL: ${o}`,"invalid-redirect")),finalize();return}}switch(d.redirect){case"error":c(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${d.url}`,"no-redirect")),finalize();return;case"manual":break;case"follow":{if(null===s)break;if(d.counter>=d.follow){c(new FetchError(`maximum redirect reached at: ${d.url}`,"max-redirect")),finalize();return}let o={headers:new Headers(d.headers),follow:d.follow,counter:d.counter+1,agent:d.agent,compress:d.compress,method:d.method,body:clone(d),signal:d.signal,size:d.size,referrer:d.referrer,referrerPolicy:d.referrerPolicy};if(!isDomainOrSubdomain(d.url,s)||!isSameProtocol(d.url,s))for(let t of["authorization","www-authenticate","cookie","cookie2"])o.headers.delete(t);if(303!==t.statusCode&&d.body&&n.body instanceof l.Readable){c(new FetchError("Cannot follow redirect with body being a readable stream","unsupported-redirect")),finalize();return}(303===t.statusCode||(301===t.statusCode||302===t.statusCode)&&"POST"===d.method)&&(o.method="GET",o.body=void 0,o.headers.delete("content-length"));let u=function(t){let n=(t.get("referrer-policy")||"").split(/[,\s]+/),a="";for(let t of n)t&&U.has(t)&&(a=t);return a}(i);u&&(o.referrerPolicy=u),a(fetch(new Request(s,o))),finalize();return}default:return c(TypeError(`Redirect option '${d.redirect}' is not a valid value of RequestRedirect`))}}m&&t.once("end",()=>{m.removeEventListener("abort",abortAndFinalize)});let o=l.pipeline(t,new l.PassThrough,t=>{t&&c(t)});process.version<"v12.10"&&t.on("aborted",abortAndFinalize);let u={url:d.url,status:t.statusCode,statusText:t.statusMessage,headers:i,size:d.size,counter:d.counter,highWaterMark:d.highWaterMark},h=i.get("Content-Encoding");if(!d.compress||"HEAD"===d.method||null===h||204===t.statusCode||304===t.statusCode){a(g=new Response(o,u));return}let p={flush:s.Z_SYNC_FLUSH,finishFlush:s.Z_SYNC_FLUSH};if("gzip"===h||"x-gzip"===h){o=l.pipeline(o,s.createGunzip(p),t=>{t&&c(t)}),a(g=new Response(o,u));return}if("deflate"===h||"x-deflate"===h){let n=l.pipeline(t,new l.PassThrough,t=>{t&&c(t)});n.once("data",t=>{o=(15&t[0])==8?l.pipeline(o,s.createInflate(),t=>{t&&c(t)}):l.pipeline(o,s.createInflateRaw(),t=>{t&&c(t)}),a(g=new Response(o,u))}),n.once("end",()=>{g||a(g=new Response(o,u))});return}if("br"===h){o=l.pipeline(o,s.createBrotliDecompress(),t=>{t&&c(t)}),a(g=new Response(o,u));return}a(g=new Response(o,u))}),writeToStream(b,d).catch(c)})}/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 * @copyright 2015 Toru Nagashima. All rights reserved.
 * See LICENSE file in root directory for full license.
 */let M=new WeakMap,z=new WeakMap;function pd(t){let n=M.get(t);return console.assert(null!=n,"'this' is expected an Event object, but got",t),n}function setCancelFlag(t){if(null!=t.passiveListener){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault())}function Event(t,n){M.set(this,{eventTarget:t,event:n,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:n.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let a=Object.keys(n);for(let t=0;t<a.length;++t){let n=a[t];n in this||Object.defineProperty(this,n,defineRedirectDescriptor(n))}}function defineRedirectDescriptor(t){return{get(){return pd(this).event[t]},set(n){pd(this).event[t]=n},configurable:!0,enumerable:!0}}function setPassiveListener(t,n){pd(t).passiveListener=n}Event.prototype={get type(){return pd(this).event.type},get target(){return pd(this).eventTarget},get currentTarget(){return pd(this).currentTarget},composedPath(){let t=pd(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return pd(this).eventPhase},stopPropagation(){let t=pd(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation(){let t=pd(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return!!pd(this).event.bubbles},get cancelable(){return!!pd(this).event.cancelable},preventDefault(){setCancelFlag(pd(this))},get defaultPrevented(){return pd(this).canceled},get composed(){return!!pd(this).event.composed},get timeStamp(){return pd(this).timeStamp},get srcElement(){return pd(this).eventTarget},get cancelBubble(){return pd(this).stopped},set cancelBubble(value){if(!value)return;let t=pd(this);t.stopped=!0,"boolean"==typeof t.event.cancelBubble&&(t.event.cancelBubble=!0)},get returnValue(){return!pd(this).canceled},set returnValue(value){value||setCancelFlag(pd(this))},initEvent(){}},Object.defineProperty(Event.prototype,"constructor",{value:Event,configurable:!0,writable:!0});let F=new WeakMap;function isObject(t){return null!==t&&"object"==typeof t}function getListeners(t){let n=F.get(t);if(null==n)throw TypeError("'this' is expected an EventTarget object, but got another value.");return n}function defineEventAttribute(t,n){Object.defineProperty(t,`on${n}`,{get(){let t=getListeners(this),a=t.get(n);for(;null!=a;){if(3===a.listenerType)return a.listener;a=a.next}return null},set(t){"function"==typeof t||isObject(t)||(t=null);let a=getListeners(this),i=null,o=a.get(n);for(;null!=o;)3===o.listenerType?null!==i?i.next=o.next:null!==o.next?a.set(n,o.next):a.delete(n):i=o,o=o.next;if(null!==t){let o={listener:t,listenerType:3,passive:!1,once:!1,next:null};null===i?a.set(n,o):i.next=o}},configurable:!0,enumerable:!0})}function defineCustomEventTarget(t){function CustomEventTarget(){EventTarget.call(this)}CustomEventTarget.prototype=Object.create(EventTarget.prototype,{constructor:{value:CustomEventTarget,configurable:!0,writable:!0}});for(let n=0;n<t.length;++n)defineEventAttribute(CustomEventTarget.prototype,t[n]);return CustomEventTarget}function EventTarget(){if(this instanceof EventTarget){F.set(this,new Map);return}if(1==arguments.length&&Array.isArray(arguments[0]))return defineCustomEventTarget(arguments[0]);if(arguments.length>0){let t=Array(arguments.length);for(let n=0;n<arguments.length;++n)t[n]=arguments[n];return defineCustomEventTarget(t)}throw TypeError("Cannot call a class as a function")}EventTarget.prototype={addEventListener(t,n,a){if(null==n)return;if("function"!=typeof n&&!isObject(n))throw TypeError("'listener' should be a function or an object.");let i=getListeners(this),o=isObject(a),s=o?!!a.capture:!!a,l=s?1:2,u={listener:n,listenerType:l,passive:o&&!!a.passive,once:o&&!!a.once,next:null},c=i.get(t);if(void 0===c){i.set(t,u);return}let d=null;for(;null!=c;){if(c.listener===n&&c.listenerType===l)return;d=c,c=c.next}d.next=u},removeEventListener(t,n,a){if(null==n)return;let i=getListeners(this),o=isObject(a)?!!a.capture:!!a,s=o?1:2,l=null,u=i.get(t);for(;null!=u;){if(u.listener===n&&u.listenerType===s){null!==l?l.next=u.next:null!==u.next?i.set(t,u.next):i.delete(t);return}l=u,u=u.next}},dispatchEvent(t){if(null==t||"string"!=typeof t.type)throw TypeError('"event.type" should be a string.');let n=getListeners(this),a=t.type,i=n.get(a);if(null==i)return!0;let o=function(t,n){let a=function getWrapper(t){if(null==t||t===Object.prototype)return Event;let n=z.get(t);return null==n&&(n=function(t,n){let a=Object.keys(n);if(0===a.length)return t;function CustomEvent(n,a){t.call(this,n,a)}CustomEvent.prototype=Object.create(t.prototype,{constructor:{value:CustomEvent,configurable:!0,writable:!0}});for(let i=0;i<a.length;++i){let o=a[i];if(!(o in t.prototype)){let t=Object.getOwnPropertyDescriptor(n,o),a="function"==typeof t.value;Object.defineProperty(CustomEvent.prototype,o,a?function(t){return{value(){let n=pd(this).event;return n[t].apply(n,arguments)},configurable:!0,enumerable:!0}}(o):defineRedirectDescriptor(o))}}return CustomEvent}(getWrapper(Object.getPrototypeOf(t)),t),z.set(t,n)),n}(Object.getPrototypeOf(n));return new a(t,n)}(this,t),s=null;for(;null!=i;){if(i.once?null!==s?s.next=i.next:null!==i.next?n.set(a,i.next):n.delete(a):s=i,setPassiveListener(o,i.passive?i.listener:null),"function"==typeof i.listener)try{i.listener.call(this,o)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else 3!==i.listenerType&&"function"==typeof i.listener.handleEvent&&i.listener.handleEvent(o);if(pd(o).immediateStopped)break;i=i.next}return setPassiveListener(o,null),pd(o).eventPhase=0,pd(o).currentTarget=null,!o.defaultPrevented}},Object.defineProperty(EventTarget.prototype,"constructor",{value:EventTarget,configurable:!0,writable:!0});let AbortSignal=class AbortSignal extends EventTarget{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let t=W.get(this);if("boolean"!=typeof t)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return t}};defineEventAttribute(AbortSignal.prototype,"abort");let W=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});let AbortController$1=class AbortController$1{constructor(){H.set(this,function(){let t=Object.create(AbortSignal.prototype);return EventTarget.call(t),W.set(t,!1),t}())}get signal(){return getSignal(this)}abort(){var t;t=getSignal(this),!1===W.get(t)&&(W.set(t,!0),t.dispatchEvent({type:"abort"}))}};let H=new WeakMap;function getSignal(t){let n=H.get(t);if(null==n)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===t?"null":typeof t}`);return n}Object.defineProperties(AbortController$1.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortController$1.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),n.AbortController=AbortController$1,n.AbortError=AbortError,n.FetchError=FetchError,n.File=v,n.FormData=P,n.Headers=Headers,n.Request=Request,n.Response=Response,n._Blob=b,n.fetch=fetch,n.isRedirect=isRedirect,n.nodeDomexception=L},60013:(t,n,a)=>{"use strict";let i=a(13284);function fetch(t,n){return i.fetch(t,n)}for(let t in i)fetch[t]=i[t];t.exports=fetch},15803:(t,n,a)=>{"use strict";a.r(n),a.d(n,{__addDisposableResource:()=>__addDisposableResource,__assign:()=>__assign,__asyncDelegator:()=>__asyncDelegator,__asyncGenerator:()=>__asyncGenerator,__asyncValues:()=>__asyncValues,__await:()=>__await,__awaiter:()=>__awaiter,__classPrivateFieldGet:()=>__classPrivateFieldGet,__classPrivateFieldIn:()=>__classPrivateFieldIn,__classPrivateFieldSet:()=>__classPrivateFieldSet,__createBinding:()=>i,__decorate:()=>__decorate,__disposeResources:()=>__disposeResources,__esDecorate:()=>__esDecorate,__exportStar:()=>__exportStar,__extends:()=>__extends,__generator:()=>__generator,__importDefault:()=>__importDefault,__importStar:()=>__importStar,__makeTemplateObject:()=>__makeTemplateObject,__metadata:()=>__metadata,__param:()=>__param,__propKey:()=>__propKey,__read:()=>__read,__rest:()=>__rest,__runInitializers:()=>__runInitializers,__setFunctionName:()=>__setFunctionName,__spread:()=>__spread,__spreadArray:()=>__spreadArray,__spreadArrays:()=>__spreadArrays,__values:()=>__values,default:()=>l});var extendStatics=function(t,n){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])})(t,n)};function __extends(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function __(){this.constructor=t}extendStatics(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++)for(var o in n=arguments[a])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function __rest(t,n){var a={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&0>n.indexOf(i)&&(a[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(a[i[o]]=t[i[o]]);return a}function __decorate(t,n,a,i){var o,s=arguments.length,l=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,n,a,i);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(l=(s<3?o(l):s>3?o(n,a,l):o(n,a))||l);return s>3&&l&&Object.defineProperty(n,a,l),l}function __param(t,n){return function(a,i){n(a,i,t)}}function __esDecorate(t,n,a,i,o,s){function accept(t){if(void 0!==t&&"function"!=typeof t)throw TypeError("Function expected");return t}for(var l,u=i.kind,c="getter"===u?"get":"setter"===u?"set":"value",d=!n&&t?i.static?t:t.prototype:null,h=n||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),p=!1,y=a.length-1;y>=0;y--){var m={};for(var g in i)m[g]="access"===g?{}:i[g];for(var g in i.access)m.access[g]=i.access[g];m.addInitializer=function(t){if(p)throw TypeError("Cannot add initializers after decoration has completed");s.push(accept(t||null))};var b=(0,a[y])("accessor"===u?{get:h.get,set:h.set}:h[c],m);if("accessor"===u){if(void 0===b)continue;if(null===b||"object"!=typeof b)throw TypeError("Object expected");(l=accept(b.get))&&(h.get=l),(l=accept(b.set))&&(h.set=l),(l=accept(b.init))&&o.unshift(l)}else(l=accept(b))&&("field"===u?o.unshift(l):h[c]=l)}d&&Object.defineProperty(d,i.name,h),p=!0}function __runInitializers(t,n,a){for(var i=arguments.length>2,o=0;o<n.length;o++)a=i?n[o].call(t,a):n[o].call(t);return i?a:void 0}function __propKey(t){return"symbol"==typeof t?t:"".concat(t)}function __setFunctionName(t,n,a){return"symbol"==typeof n&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:a?"".concat(a," ",n):n})}function __metadata(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}function __awaiter(t,n,a,i){return new(a||(a=Promise))(function(o,s){function fulfilled(t){try{step(i.next(t))}catch(t){s(t)}}function rejected(t){try{step(i.throw(t))}catch(t){s(t)}}function step(t){var n;t.done?o(t.value):((n=t.value)instanceof a?n:new a(function(t){t(n)})).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())})}function __generator(t,n){var a,i,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(a)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(l=0)),l;)try{if(a=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return l.label++,{value:u[1],done:!1};case 5:l.label++,i=u[1],u=[0];continue;case 7:u=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){l=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){l.label=u[1];break}if(6===u[0]&&l.label<o[1]){l.label=o[1],o=u;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(u);break}o[2]&&l.ops.pop(),l.trys.pop();continue}u=n.call(t,l)}catch(t){u=[6,t],i=0}finally{a=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}var i=Object.create?function(t,n,a,i){void 0===i&&(i=a);var o=Object.getOwnPropertyDescriptor(n,a);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(t,i,o)}:function(t,n,a,i){void 0===i&&(i=a),t[i]=n[a]};function __exportStar(t,n){for(var a in t)"default"===a||Object.prototype.hasOwnProperty.call(n,a)||i(n,t,a)}function __values(t){var n="function"==typeof Symbol&&Symbol.iterator,a=n&&t[n],i=0;if(a)return a.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,n){var a="function"==typeof Symbol&&t[Symbol.iterator];if(!a)return t;var i,o,s=a.call(t),l=[];try{for(;(void 0===n||n-- >0)&&!(i=s.next()).done;)l.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return l}function __spread(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(__read(arguments[n]));return t}function __spreadArrays(){for(var t=0,n=0,a=arguments.length;n<a;n++)t+=arguments[n].length;for(var i=Array(t),o=0,n=0;n<a;n++)for(var s=arguments[n],l=0,u=s.length;l<u;l++,o++)i[o]=s[l];return i}function __spreadArray(t,n,a){if(a||2==arguments.length)for(var i,o=0,s=n.length;o<s;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,n,a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,o=a.apply(t,n||[]),s=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(t){o[t]&&(i[t]=function(n){return new Promise(function(a,i){s.push([t,n,a,i])>1||resume(t,n)})})}function resume(t,n){try{var a;(a=o[t](n)).value instanceof __await?Promise.resolve(a.value.v).then(fulfill,reject):settle(s[0][2],a)}catch(t){settle(s[0][3],t)}}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,n){t(n),s.shift(),s.length&&resume(s[0][0],s[0][1])}}function __asyncDelegator(t){var n,a;return n={},verb("next"),verb("throw",function(t){throw t}),verb("return"),n[Symbol.iterator]=function(){return this},n;function verb(i,o){n[i]=t[i]?function(n){return(a=!a)?{value:__await(t[i](n)),done:!1}:o?o(n):n}:o}}function __asyncValues(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,a=t[Symbol.asyncIterator];return a?a.call(t):(t=__values(t),n={},verb("next"),verb("throw"),verb("return"),n[Symbol.asyncIterator]=function(){return this},n);function verb(a){n[a]=t[a]&&function(n){return new Promise(function(i,o){(function(t,n,a,i){Promise.resolve(i).then(function(n){t({value:n,done:a})},n)})(i,o,(n=t[a](n)).done,n.value)})}}}function __makeTemplateObject(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t}var o=Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n};function __importStar(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var a in t)"default"!==a&&Object.prototype.hasOwnProperty.call(t,a)&&i(n,t,a);return o(n,t),n}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,n,a,i){if("a"===a&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!i:!n.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?i:"a"===a?i.call(t):i?i.value:n.get(t)}function __classPrivateFieldSet(t,n,a,i,o){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!o)throw TypeError("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!o:!n.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(t,a):o?o.value=a:n.set(t,a),a}function __classPrivateFieldIn(t,n){if(null===n||"object"!=typeof n&&"function"!=typeof n)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?n===t:t.has(n)}function __addDisposableResource(t,n,a){if(null!=n){var i;if("object"!=typeof n&&"function"!=typeof n)throw TypeError("Object expected.");if(a){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");i=n[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");i=n[Symbol.dispose]}if("function"!=typeof i)throw TypeError("Object not disposable.");t.stack.push({value:n,dispose:i,async:a})}else a&&t.stack.push({async:!0});return n}var s="function"==typeof SuppressedError?SuppressedError:function(t,n,a){var i=Error(a);return i.name="SuppressedError",i.error=t,i.suppressed=n,i};function __disposeResources(t){function fail(n){t.error=t.hasError?new s(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}return function next(){for(;t.stack.length;){var n=t.stack.pop();try{var a=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(a).then(next,function(t){return fail(t),next()})}catch(t){fail(t)}}if(t.hasError)throw t.error}()}let l={__extends,__assign,__rest,__decorate,__param,__metadata,__awaiter,__generator,__createBinding:i,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources}},49279:(t,n,a)=>{"use strict";a.d(n,{$l:()=>s,BN:()=>internalMutate,DY:()=>c,J$:()=>SWRConfig,JG:()=>B,JN:()=>createCacheHelper,LI:()=>w,MA:()=>preload,PM:()=>mergeObjects,W6:()=>_,i_:()=>o,kY:()=>useSWRConfig,ko:()=>subscribeCallback,kw:()=>rAF,mf:()=>isFunction,o8:()=>isUndefined,qC:()=>serialize,s6:()=>withArgs,sj:()=>k,u3:()=>getTimestamp,u_:()=>O,w6:()=>C,xD:()=>withMiddleware});var i=a(9885);let noop=()=>{},o=noop(),s=Object,isUndefined=t=>t===o,isFunction=t=>"function"==typeof t,mergeObjects=(t,n)=>({...t,...n}),isPromiseLike=t=>isFunction(t.then),l=new WeakMap,u=0,stableHash=t=>{let n,a;let i=typeof t,o=t&&t.constructor,c=o==Date;if(s(t)!==t||c||o==RegExp)n=c?t.toJSON():"symbol"==i?t.toString():"string"==i?JSON.stringify(t):""+t;else{if(n=l.get(t))return n;if(n=++u+"~",l.set(t,n),o==Array){for(a=0,n="@";a<t.length;a++)n+=stableHash(t[a])+",";l.set(t,n)}if(o==s){n="#";let i=s.keys(t).sort();for(;!isUndefined(a=i.pop());)isUndefined(t[a])||(n+=a+":"+stableHash(t[a])+",");l.set(t,n)}}return n},c=new WeakMap,d={},h={},p="undefined",y=typeof window!=p,m=typeof document!=p,hasRequestAnimationFrame=()=>y&&typeof window.requestAnimationFrame!=p,createCacheHelper=(t,n)=>{let a=c.get(t);return[()=>!isUndefined(n)&&t.get(n)||d,i=>{if(!isUndefined(n)){let o=t.get(n);n in h||(h[n]=o),a[5](n,mergeObjects(o,i),o||d)}},a[6],()=>!isUndefined(n)&&n in h?h[n]:!isUndefined(n)&&t.get(n)||d]},g=!0,[b,v]=y&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[noop,noop],S={initFocus:t=>(m&&document.addEventListener("visibilitychange",t),b("focus",t),()=>{m&&document.removeEventListener("visibilitychange",t),v("focus",t)}),initReconnect:t=>{let onOnline=()=>{g=!0,t()},onOffline=()=>{g=!1};return b("online",onOnline),b("offline",onOffline),()=>{v("online",onOnline),v("offline",onOffline)}}},C=!i.useId,_=!y||"Deno"in window,rAF=t=>hasRequestAnimationFrame()?window.requestAnimationFrame(t):setTimeout(t,1),w=_?i.useEffect:i.useLayoutEffect,A="undefined"!=typeof navigator&&navigator.connection,P=!_&&A&&(["slow-2g","2g"].includes(A.effectiveType)||A.saveData),serialize=t=>{if(isFunction(t))try{t=t()}catch(n){t=""}let n=t;return[t="string"==typeof t?t:(Array.isArray(t)?t.length:t)?stableHash(t):"",n]},E=0,getTimestamp=()=>++E;var k={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function internalMutate(...t){let[n,a,i,s]=t,l=mergeObjects({populateCache:!0,throwOnError:!0},"boolean"==typeof s?{revalidate:s}:s||{}),u=l.populateCache,d=l.rollbackOnError,h=l.optimisticData,p=!1!==l.revalidate,rollbackOnError=t=>"function"==typeof d?d(t):!1!==d,y=l.throwOnError;if(isFunction(a)){let t=[],i=n.keys();for(let o of i)!/^\$(inf|sub)\$/.test(o)&&a(n.get(o)._k)&&t.push(o);return Promise.all(t.map(mutateByKey))}return mutateByKey(a);async function mutateByKey(a){let s;let[l]=serialize(a);if(!l)return;let[d,m]=createCacheHelper(n,l),[g,b,v,S]=c.get(n),C=g[l],startRevalidate=()=>p&&(delete v[l],delete S[l],C&&C[0])?C[0](2).then(()=>d().data):d().data;if(t.length<3)return startRevalidate();let _=i,w=getTimestamp();b[l]=[w,0];let A=!isUndefined(h),P=d(),E=P.data,k=P._c,R=isUndefined(k)?E:k;if(A&&m({data:h=isFunction(h)?h(R,E):h,_c:R}),isFunction(_))try{_=_(R)}catch(t){s=t}if(_&&isPromiseLike(_)){if(_=await _.catch(t=>{s=t}),w!==b[l][0]){if(s)throw s;return _}s&&A&&rollbackOnError(s)&&(u=!0,m({data:_=R,_c:o}))}u&&!s&&(isFunction(u)&&(_=u(_,R)),m({data:_,error:o,_c:o})),b[l][1]=getTimestamp();let B=await startRevalidate();if(m({_c:o}),s){if(y)throw s;return}return u?B:_}}let revalidateAllKeys=(t,n)=>{for(let a in t)t[a][0]&&t[a][0](n)},initCache=(t,n)=>{if(!c.has(t)){let a=mergeObjects(S,n),i={},s=internalMutate.bind(o,t),l=noop,u={},subscribe=(t,n)=>{let a=u[t]||[];return u[t]=a,a.push(n),()=>a.splice(a.indexOf(n),1)},setter=(n,a,i)=>{t.set(n,a);let o=u[n];if(o)for(let t of o)t(a,i)},initProvider=()=>{if(!c.has(t)&&(c.set(t,[i,{},{},{},s,setter,subscribe]),!_)){let n=a.initFocus(setTimeout.bind(o,revalidateAllKeys.bind(o,i,0))),s=a.initReconnect(setTimeout.bind(o,revalidateAllKeys.bind(o,i,1)));l=()=>{n&&n(),s&&s(),c.delete(t)}}};return initProvider(),[t,s,initProvider,l]}return[t,c.get(t)[4]]},[R,B]=initCache(new Map),O=mergeObjects({onLoadingSlow:noop,onSuccess:noop,onError:noop,onErrorRetry:(t,n,a,i,o)=>{let s=a.errorRetryCount,l=o.retryCount,u=~~((Math.random()+.5)*(1<<(l<8?l:8)))*a.errorRetryInterval;(isUndefined(s)||!(l>s))&&setTimeout(i,u,o)},onDiscarded:noop,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:P?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:P?5e3:3e3,compare:(t,n)=>stableHash(t)==stableHash(n),isPaused:()=>!1,cache:R,mutate:B,fallback:{}},{isOnline:()=>g,isVisible:()=>{let t=m&&document.visibilityState;return isUndefined(t)||"hidden"!==t}}),mergeConfigs=(t,n)=>{let a=mergeObjects(t,n);if(n){let{use:i,fallback:o}=t,{use:s,fallback:l}=n;i&&s&&(a.use=i.concat(s)),o&&l&&(a.fallback=mergeObjects(o,l))}return a},T=(0,i.createContext)({}),SWRConfig=t=>{let{value:n}=t,a=(0,i.useContext)(T),s=isFunction(n),l=(0,i.useMemo)(()=>s?n(a):n,[s,a,n]),u=(0,i.useMemo)(()=>s?l:mergeConfigs(a,l),[s,a,l]),c=l&&l.provider,d=(0,i.useRef)(o);c&&!d.current&&(d.current=initCache(c(u.cache||R),l));let h=d.current;return h&&(u.cache=h[0],u.mutate=h[1]),w(()=>{if(h)return h[2]&&h[2](),h[3]},[]),(0,i.createElement)(T.Provider,mergeObjects(t,{value:u}))},I=y&&window.__SWR_DEVTOOLS_USE__,j=I?window.__SWR_DEVTOOLS_USE__:[],normalize=t=>isFunction(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(null===t[1]?t[2]:t[1])||{}],useSWRConfig=()=>mergeObjects(O,(0,i.useContext)(T)),preload=(t,n)=>{let[a,i]=serialize(t),[,,,o]=c.get(R);if(o[a])return o[a];let s=n(i);return o[a]=s,s},U=j.concat(t=>(n,a,i)=>{let o=a&&((...t)=>{let[i]=serialize(n),[,,,o]=c.get(R),s=o[i];return isUndefined(s)?a(...t):(delete o[i],s)});return t(n,o,i)}),withArgs=t=>function(...n){let a=useSWRConfig(),[i,o,s]=normalize(n),l=mergeConfigs(a,s),u=t,{use:c}=l,d=(c||[]).concat(U);for(let t=d.length;t--;)u=d[t](u);return u(i,o||l.fetcher||null,l)},subscribeCallback=(t,n,a)=>{let i=n[t]||(n[t]=[]);return i.push(a),()=>{let t=i.indexOf(a);t>=0&&(i[t]=i[i.length-1],i.pop())}},withMiddleware=(t,n)=>(...a)=>{let[i,o,s]=normalize(a),l=(s.use||[]).concat(n);return t(i,o,{...s,use:l})};I&&(window.__SWR_DEVTOOLS_REACT__=i)},45465:(t,n,a)=>{"use strict";a.d(n,{J$:()=>c,JG:()=>s.JG,MA:()=>s.MA,ZP:()=>d,kY:()=>s.kY,wE:()=>unstable_serialize});var i=a(9885),o=a(61928),s=a(49279);let unstable_serialize=t=>(0,s.qC)(t)[0],l=i.use||(t=>{if("pending"===t.status)throw t;if("fulfilled"===t.status)return t.value;if("rejected"===t.status)throw t.reason;throw t.status="pending",t.then(n=>{t.status="fulfilled",t.value=n},n=>{t.status="rejected",t.reason=n}),t}),u={dedupe:!0},c=s.$l.defineProperty(s.J$,"defaultValue",{value:s.u_}),d=(0,s.s6)((t,n,a)=>{let{cache:c,compare:d,suspense:h,fallbackData:p,revalidateOnMount:y,revalidateIfStale:m,refreshInterval:g,refreshWhenHidden:b,refreshWhenOffline:v,keepPreviousData:S}=a,[C,_,w,A]=s.DY.get(c),[P,E]=(0,s.qC)(t),k=(0,i.useRef)(!1),R=(0,i.useRef)(!1),B=(0,i.useRef)(P),O=(0,i.useRef)(n),T=(0,i.useRef)(a),getConfig=()=>T.current,isActive=()=>getConfig().isVisible()&&getConfig().isOnline(),[I,j,U,N]=(0,s.JN)(c,P),K=(0,i.useRef)({}).current,L=(0,s.o8)(p)?a.fallback[P]:p,isEqual=(t,n)=>{for(let a in K)if("data"===a){if(!d(t[a],n[a])&&(!(0,s.o8)(t[a])||!d($,n[a])))return!1}else if(n[a]!==t[a])return!1;return!0},D=(0,i.useMemo)(()=>{let t=!!P&&!!n&&((0,s.o8)(y)?!getConfig().isPaused()&&!h&&(!!(0,s.o8)(m)||m):y),getSelectedCache=n=>{let a=(0,s.PM)(n);return(delete a._k,t)?{isValidating:!0,isLoading:!0,...a}:a},a=I(),i=N(),o=getSelectedCache(a),l=a===i?o:getSelectedCache(i),u=o;return[()=>{let t=getSelectedCache(I()),n=isEqual(t,u);return n?(u.data=t.data,u.isLoading=t.isLoading,u.isValidating=t.isValidating,u.error=t.error,u):(u=t,t)},()=>l]},[c,P]),M=(0,o.useSyncExternalStore)((0,i.useCallback)(t=>U(P,(n,a)=>{isEqual(a,n)||t()}),[c,P]),D[0],D[1]),z=!k.current,F=C[P]&&C[P].length>0,W=M.data,H=(0,s.o8)(W)?L:W,q=M.error,V=(0,i.useRef)(H),$=S?(0,s.o8)(W)?V.current:W:H,J=(!F||!!(0,s.o8)(q))&&(z&&!(0,s.o8)(y)?y:!getConfig().isPaused()&&(h?!(0,s.o8)(H)&&m:(0,s.o8)(H)||m)),G=!!(P&&n&&z&&J),Y=(0,s.o8)(M.isValidating)?G:M.isValidating,Q=(0,s.o8)(M.isLoading)?G:M.isLoading,X=(0,i.useCallback)(async t=>{let n,i;let o=O.current;if(!P||!o||R.current||getConfig().isPaused())return!1;let l=!0,u=t||{},c=!w[P]||!u.dedupe,callbackSafeguard=()=>s.w6?!R.current&&P===B.current&&k.current:P===B.current,h={isValidating:!1,isLoading:!1},finishRequestAndUpdateState=()=>{j(h)},cleanupState=()=>{let t=w[P];t&&t[1]===i&&delete w[P]},p={isValidating:!0};(0,s.o8)(I().data)&&(p.isLoading=!0);try{if(c&&(j(p),a.loadingTimeout&&(0,s.o8)(I().data)&&setTimeout(()=>{l&&callbackSafeguard()&&getConfig().onLoadingSlow(P,a)},a.loadingTimeout),w[P]=[o(E),(0,s.u3)()]),[n,i]=w[P],n=await n,c&&setTimeout(cleanupState,a.dedupingInterval),!w[P]||w[P][1]!==i)return c&&callbackSafeguard()&&getConfig().onDiscarded(P),!1;h.error=s.i_;let t=_[P];if(!(0,s.o8)(t)&&(i<=t[0]||i<=t[1]||0===t[1]))return finishRequestAndUpdateState(),c&&callbackSafeguard()&&getConfig().onDiscarded(P),!1;let u=I().data;h.data=d(u,n)?u:n,c&&callbackSafeguard()&&getConfig().onSuccess(n,P,a)}catch(a){cleanupState();let t=getConfig(),{shouldRetryOnError:n}=t;!t.isPaused()&&(h.error=a,c&&callbackSafeguard()&&(t.onError(a,P,t),(!0===n||(0,s.mf)(n)&&n(a))&&isActive()&&t.onErrorRetry(a,P,t,t=>{let n=C[P];n&&n[0]&&n[0](s.sj.ERROR_REVALIDATE_EVENT,t)},{retryCount:(u.retryCount||0)+1,dedupe:!0})))}return l=!1,finishRequestAndUpdateState(),!0},[P,c]),Z=(0,i.useCallback)((...t)=>(0,s.BN)(c,B.current,...t),[]);if((0,s.LI)(()=>{O.current=n,T.current=a,(0,s.o8)(W)||(V.current=W)}),(0,s.LI)(()=>{if(!P)return;let t=X.bind(s.i_,u),n=0,a=(0,s.ko)(P,C,(a,i={})=>{if(a==s.sj.FOCUS_EVENT){let a=Date.now();getConfig().revalidateOnFocus&&a>n&&isActive()&&(n=a+getConfig().focusThrottleInterval,t())}else if(a==s.sj.RECONNECT_EVENT)getConfig().revalidateOnReconnect&&isActive()&&t();else if(a==s.sj.MUTATE_EVENT)return X();else if(a==s.sj.ERROR_REVALIDATE_EVENT)return X(i)});return R.current=!1,B.current=P,k.current=!0,j({_k:E}),J&&((0,s.o8)(H)||s.W6?t():(0,s.kw)(t)),()=>{R.current=!0,a()}},[P]),(0,s.LI)(()=>{let t;function next(){let n=(0,s.mf)(g)?g(I().data):g;n&&-1!==t&&(t=setTimeout(execute,n))}function execute(){!I().error&&(b||getConfig().isVisible())&&(v||getConfig().isOnline())?X(u).then(next):next()}return next(),()=>{t&&(clearTimeout(t),t=-1)}},[g,b,v,P]),(0,i.useDebugValue)($),h&&(0,s.o8)(H)&&P){if(!s.w6&&s.W6)throw Error("Fallback data is required when using suspense in SSR.");O.current=n,T.current=a,R.current=!1;let t=A[P];if(!(0,s.o8)(t)){let n=Z(t);l(n)}if((0,s.o8)(q)){let t=X(u);(0,s.o8)($)||(t.status="fulfilled",t.value=!0),l(t)}else throw q}return{mutate:Z,get data(){return K.data=!0,$},get error(){return K.error=!0,q},get isValidating(){return K.isValidating=!0,Y},get isLoading(){return K.isLoading=!0,Q}}})},74054:(t,n,a)=>{"use strict";a.d(n,{ZP:()=>c});var i=a(9885),o=a(45465),s=a(49279),l=a(61928);let getFirstPageKey=t=>(0,s.qC)(t?t(0,null):null)[0],u=Promise.resolve(),c=(0,s.xD)(o.ZP,t=>(n,a,o)=>{let c;let d=(0,i.useRef)(!1),{cache:h,initialSize:p=1,revalidateAll:y=!1,persistSize:m=!1,revalidateFirstPage:g=!0,revalidateOnMount:b=!1,parallel:v=!1}=o;try{(c=getFirstPageKey(n))&&(c="$inf$"+c)}catch(t){}let[S,C,_]=(0,s.JN)(h,c),w=(0,i.useCallback)(()=>{let t=(0,s.o8)(S()._l)?p:S()._l;return t},[h,c,p]);(0,l.useSyncExternalStore)((0,i.useCallback)(t=>c?_(c,()=>{t()}):()=>{},[h,c]),w,w);let A=(0,i.useCallback)(()=>{let t=S()._l;return(0,s.o8)(t)?p:t},[c,p]),P=(0,i.useRef)(A());(0,s.LI)(()=>{if(!d.current){d.current=!0;return}c&&C({_l:m?P.current:A()})},[c,h]);let E=b&&!d.current,k=t(c,async t=>{let i=S()._i,l=[],u=A(),[c]=(0,s.JN)(h,t),d=c().data,p=[],m=null;for(let t=0;t<u;++t){let[u,c]=(0,s.qC)(n(t,v?null:m));if(!u)break;let[b,S]=(0,s.JN)(h,u),C=b().data,_=y||i||(0,s.o8)(C)||g&&!t&&!(0,s.o8)(d)||E||d&&!(0,s.o8)(d[t])&&!o.compare(d[t],C);if(a&&_){let revalidate=async()=>{S({data:C=await a(c),_k:c}),l[t]=C};v?p.push(revalidate):await revalidate()}else l[t]=C;v||(m=C)}return v&&await Promise.all(p.map(t=>t())),C({_i:s.i_}),l},o),R=(0,i.useCallback)(function(t,n){let a="boolean"==typeof n?{revalidate:n}:n||{},i=!1!==a.revalidate;return c?(i&&((0,s.o8)(t)?C({_i:!0}):C({_i:!1})),arguments.length?k.mutate(t,{...a,revalidate:i}):k.mutate()):u},[c,h]),B=(0,i.useCallback)(t=>{let a;if(!c)return u;let[,i]=(0,s.JN)(h,c);if((0,s.mf)(t)?a=t(A()):"number"==typeof t&&(a=t),"number"!=typeof a)return u;i({_l:a}),P.current=a;let o=[],[l]=(0,s.JN)(h,c),d=null;for(let t=0;t<a;++t){let[a]=(0,s.qC)(n(t,d)),[i]=(0,s.JN)(h,a),u=a?i().data:s.i_;if((0,s.o8)(u))return R(l().data);o.push(u),d=u}return R(o)},[c,h,R,A]);return{size:A(),setSize:B,mutate:R,get data(){return k.data},get error(){return k.error},get isValidating(){return k.isValidating},get isLoading(){return k.isLoading}}})}};
exports.id=1869,exports.ids=[1869],exports.modules={22427:(e,t,a)=>{let r={"06c5328d42eaccb06434c42be1df2676122c9355":()=>Promise.resolve().then(a.bind(a,92503)).then(e=>e.globalSearch)};async function endpoint(e,...t){let a=await r[e]();return a.apply(null,t)}e.exports={"06c5328d42eaccb06434c42be1df2676122c9355":endpoint.bind(null,"06c5328d42eaccb06434c42be1df2676122c9355")}},56088:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>forms_Question});var r=a(60080),s=a(9885),l=a(79689),n=a(83894),i=a(66558),o=a(60806),d=a(49424),c=a(68384),u=a(1269),g=a(91971),m=a(23161);let x=(0,g.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:e,variant:t,...a}){return r.jsx("div",{className:(0,m.cn)(x({variant:t}),e),...a})}var h=a(52451),p=a.n(h),f=a(78131),b=a(57114),j=a(92076);let forms_Question=({type:e,mongoUserId:t,questionDetails:a})=>{let{mode:g}=(0,j.useTheme)(),m=(0,s.useRef)(null),[x,h]=(0,s.useState)(!1),y=(0,b.useRouter)(),v=(0,b.usePathname)(),N=a&&JSON.parse(a||""),k=N?.tags.map(e=>e.name),_=(0,i.cI)({resolver:(0,n.F)(u.wb),defaultValues:{title:N?.title||"",explanation:N?.content||"",tags:k||[]}});async function onSubmit(a){h(!0);try{"Edit"===e?(await (0,f.WW)({questionId:N._id,title:a.title,content:a.explanation,path:v}),y.push(`/question/${N._id}`)):(await (0,f.CB)({title:a.title,content:a.explanation,tags:a.tags,author:JSON.parse(t),path:v}),y.push("/"))}catch(e){}finally{h(!1)}}let handleInputKeyDown=(e,t)=>{if("Enter"===e.key&&"tags"===t.name){e.preventDefault();let a=e.target,r=a.value.trim();if(""!==r){if(r.length>15)return _.setError("tags",{type:"required",message:"Tag must be less than 15 characters."});t.value.includes(r)||(_.setValue("tags",[...t.value,r]),a.value="",_.clearErrors("tags"))}else _.trigger()}},handleTagRemove=(e,t)=>{let a=t.value.filter(t=>t!==e);_.setValue("tags",a)};return r.jsx(o.l0,{..._,children:(0,r.jsxs)("form",{onSubmit:_.handleSubmit(onSubmit),className:"flex w-full flex-col gap-10",children:[r.jsx(o.Wi,{control:_.control,name:"title",render:({field:e})=>(0,r.jsxs)(o.xJ,{className:"flex w-full flex-col",children:[(0,r.jsxs)(o.lX,{className:"paragraph-semibold text-dark400_light800",children:["Question Title ",r.jsx("span",{className:"text-primary-500",children:"*"})]}),r.jsx(o.NI,{className:"mt-3.5",children:r.jsx(d.I,{className:"no-focus paragraph-regular background-light900_dark300 light-border-2 text-dark300_light700 min-h-[56px] border",...e})}),r.jsx(o.pf,{className:"body-regular mt-2.5 text-light-500",children:"Be specific and imagine you're asking a question to another person."}),r.jsx(o.zG,{className:"text-red-500"})]})}),r.jsx(o.Wi,{control:_.control,name:"explanation",render:({field:e})=>(0,r.jsxs)(o.xJ,{className:"flex w-full flex-col gap-3",children:[(0,r.jsxs)(o.lX,{className:"paragraph-semibold text-dark400_light800",children:["Detailed explanation of your problem ",r.jsx("span",{className:"text-primary-500",children:"*"})]}),r.jsx(o.NI,{className:"mt-3.5",children:r.jsx(l.M,{apiKey:"vkaek9veaylptsm9i9jqxtraouszi72foa8phrfhtv6pioeg",onInit:(e,t)=>{m.current=t},onBlur:e.onBlur,onEditorChange:t=>e.onChange(t),initialValue:N?.content||"",init:{height:350,menubar:!1,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","codesample","fullscreen","insertdatetime","media","table"],toolbar:"undo redo | codesample | bold italic forecolor | alignleft aligncenter |alignright alignjustify | bullist numlist",content_style:"body { font-family:Inter; font-size:16px }",skin:"dark"===g?"oxide-dark":"oxide",content_css:"dark"===g?"dark":"light"}})}),r.jsx(o.pf,{className:"body-regular mt-2.5 text-light-500",children:"Introduce the problem and expand on what you put in the title. Minimum 20 characters."}),r.jsx(o.zG,{className:"text-red-500"})]})}),r.jsx(o.Wi,{control:_.control,name:"tags",render:({field:t})=>(0,r.jsxs)(o.xJ,{className:"flex w-full flex-col",children:[(0,r.jsxs)(o.lX,{className:"paragraph-semibold text-dark400_light800",children:["Tags ",r.jsx("span",{className:"text-primary-500",children:"*"})]}),r.jsx(o.NI,{className:"mt-3.5",children:(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.I,{disabled:"Edit"===e,className:"no-focus paragraph-regular background-light900_dark300 light-border-2 text-dark300_light700 min-h-[56px] border",placeholder:"Add tags...",onKeyDown:e=>handleInputKeyDown(e,t)}),t.value.length>0&&r.jsx("div",{className:"flex-start mt-2.5 gap-2.5",children:t.value.map(a=>(0,r.jsxs)(Badge,{className:"subtle-medium background-light800_dark300 text-light400_light500 flex items-center justify-center gap-2 rounded-md border-none px-4 py-2 capitalize",onClick:()=>"Edit"!==e?handleTagRemove(a,t):()=>{},children:[a,"Edit"!==e&&r.jsx(p(),{src:"/assets/icons/close.svg",alt:"Close icon",width:12,height:12,className:"cursor-pointer object-contain invert-0 dark:invert"})]},a))})]})}),r.jsx(o.pf,{className:"body-regular mt-2.5 text-light-500",children:"Add up to 3 tags to describe what your question is about. You need to press enter to add a tag."}),r.jsx(o.zG,{className:"text-red-500"})]})}),r.jsx(c.z,{type:"submit",className:"primary-gradient w-fit !text-light-900",disabled:x,children:x?r.jsx(r.Fragment,{children:"Edit"===e?"Editing...":"Posting..."}):r.jsx(r.Fragment,{children:"Edit"===e?"Edit Question":"Ask a Question"})})]})})}},63301:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>o});var r=a(17536);let s=(0,r.createProxy)(String.raw`C:\Users\af_K_ar\stack_overflow_nextjs14\components\forms\Question.tsx`),{__esModule:l,$$typeof:n}=s,i=s.default,o=i}};